DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/oleg/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/oleg/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
Started GET "/" for 127.0.0.1 at 2017-03-20 14:36:34 +0200
  
ActiveRecord::NoDatabaseError (FATAL:  database "amazon_development" does not exist
):
  
activerecord (5.0.1) lib/active_record/connection_adapters/postgresql_adapter.rb:675:in `rescue in connect'
activerecord (5.0.1) lib/active_record/connection_adapters/postgresql_adapter.rb:671:in `connect'
activerecord (5.0.1) lib/active_record/connection_adapters/postgresql_adapter.rb:217:in `initialize'
activerecord (5.0.1) lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `new'
activerecord (5.0.1) lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
activerecord (5.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:729:in `new_connection'
activerecord (5.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:773:in `checkout_new_connection'
activerecord (5.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:752:in `try_to_checkout_new_connection'
activerecord (5.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:713:in `acquire_connection'
activerecord (5.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:490:in `checkout'
activerecord (5.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:364:in `connection'
activerecord (5.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:883:in `retrieve_connection'
activerecord (5.0.1) lib/active_record/connection_handling.rb:128:in `retrieve_connection'
activerecord (5.0.1) lib/active_record/connection_handling.rb:91:in `connection'
activerecord (5.0.1) lib/active_record/migration.rb:559:in `connection'
activerecord (5.0.1) lib/active_record/migration.rb:546:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.1) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.1) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.1) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.1) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
web-console (3.4.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.4.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.4.0) lib/web_console/middleware.rb:18:in `catch'
web-console (3.4.0) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
request_store (1.3.2) lib/request_store/middleware.rb:9:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.1) lib/rails/engine.rb:522:in `call'
rack (2.0.1) lib/rack/static.rb:149:in `call'
puma (3.7.0) lib/puma/configuration.rb:226:in `call'
puma (3.7.0) lib/puma/server.rb:578:in `handle_request'
puma (3.7.0) lib/puma/server.rb:415:in `process_client'
puma (3.7.0) lib/puma/server.rb:275:in `block in run'
puma (3.7.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (7.4ms)
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.1ms)
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (59.9ms)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/oleg/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/oleg/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
  [1m[35m (582.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying PRIMARY KEY)[0m
  [1m[35m (107.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1765805502430986030);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to DeviseCreateUsers (20170112091212)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (104.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" serial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (42.4ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35m (54.0ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170112091212"]]
  [1m[35m (22.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddNamesToUsers (20170112091945)
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "users" ADD "first_name" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "last_name" character varying[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170112091945"]]
  [1m[35m (6.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateProviders (20170112184428)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (82.9ms)[0m  [1m[35mCREATE TABLE "providers" ("id" serial primary key, "user_id" integer, "name" character varying, "uid" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (53.8ms)[0m  [1m[35mCREATE  INDEX  "index_providers_on_user_id" ON "providers"  ("user_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170112184428"]]
  [1m[35m (23.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCountries (20170113174542)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (106.4ms)[0m  [1m[35mCREATE TABLE "countries" ("id" serial primary key, "name" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170113174542"]]
  [1m[35m (11.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateAddresses (20170113174604)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (111.4ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" serial primary key, "addressable_type" character varying, "addressable_id" integer, "first_name" character varying, "last_name" character varying, "name" character varying, "country_id" integer, "city" character varying, "zip" character varying, "phone" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_d873e14e27"
FOREIGN KEY ("country_id")
  REFERENCES "countries" ("id")
)[0m
  [1m[35m (64.6ms)[0m  [1m[35mCREATE  INDEX  "index_addresses_on_addressable_type_and_addressable_id" ON "addresses"  ("addressable_type", "addressable_id")[0m
  [1m[35m (30.8ms)[0m  [1m[35mCREATE  INDEX  "index_addresses_on_country_id" ON "addresses"  ("country_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170113174604"]]
  [1m[35m (18.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddAddressTypeToAddresses (20170113200620)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "addresses" ADD "address_type" integer[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170113200620"]]
  [1m[35m (8.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddCodeToCountries (20170114102209)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "countries" ADD "code" character varying[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170114102209"]]
  [1m[35m (5.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateBooks (20170117124327)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (90.2ms)[0m  [1m[35mCREATE TABLE "books" ("id" serial primary key, "title" character varying, "desc" text, "price" decimal(12,3), "count" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (42.8ms)[0m  [1m[35mCREATE  INDEX  "index_books_on_title" ON "books"  ("title")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170117124327"]]
  [1m[35m (17.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateAuthors (20170117125247)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (100.8ms)[0m  [1m[35mCREATE TABLE "authors" ("id" serial primary key, "first_name" character varying, "last_name" character varying, "desc" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170117125247"]]
  [1m[35m (16.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCategories (20170117125329)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (103.7ms)[0m  [1m[35mCREATE TABLE "categories" ("id" serial primary key, "title" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (42.7ms)[0m  [1m[35mCREATE  INDEX  "index_categories_on_title" ON "categories"  ("title")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170117125329"]]
  [1m[35m (16.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateAuthorsBooks (20170117125738)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "authors_books" ("author_id" integer, "book_id" integer, CONSTRAINT "fk_rails_d4a76af72d"
FOREIGN KEY ("author_id")
  REFERENCES "authors" ("id")
, CONSTRAINT "fk_rails_f7acfea2b6"
FOREIGN KEY ("book_id")
  REFERENCES "books" ("id")
)[0m
  [1m[35m (42.9ms)[0m  [1m[35mCREATE  INDEX  "index_authors_books_on_author_id" ON "authors_books"  ("author_id")[0m
  [1m[35m (54.3ms)[0m  [1m[35mCREATE  INDEX  "index_authors_books_on_book_id" ON "authors_books"  ("book_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170117125738"]]
  [1m[35m (25.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddCategoryRefToBooks (20170117131354)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "books" ADD "category_id" integer[0m
  [1m[35m (56.7ms)[0m  [1m[35mCREATE  INDEX  "index_books_on_category_id" ON "books"  ("category_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "books" ADD CONSTRAINT "fk_rails_1e86d9c4ec"
FOREIGN KEY ("category_id")
  REFERENCES "categories" ("id")
[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170117131354"]]
  [1m[35m (12.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to ChangePriceScaleOfBook (20170117145729)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (195.5ms)[0m  [1m[35mALTER TABLE "books" ALTER COLUMN "price" TYPE decimal(10,2)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170117145729"]]
  [1m[35m (12.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddAdminToUsers (20170118122244)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "users" ADD "admin" boolean[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170118122244"]]
  [1m[35m (7.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePictures (20170118221832)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (98.8ms)[0m  [1m[35mCREATE TABLE "pictures" ("id" serial primary key, "path" character varying, "book_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_54d93580a8"
FOREIGN KEY ("book_id")
  REFERENCES "books" ("id")
)[0m
  [1m[35m (53.1ms)[0m  [1m[35mCREATE  INDEX  "index_pictures_on_book_id" ON "pictures"  ("book_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170118221832"]]
  [1m[35m (19.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddImageableToPictures (20170119001544)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "pictures" ADD "imageable_type" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "pictures" ADD "imageable_id" integer[0m
  [1m[35m (41.6ms)[0m  [1m[35mCREATE  INDEX  "index_pictures_on_imageable_type_and_imageable_id" ON "pictures"  ("imageable_type", "imageable_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "pictures" DROP CONSTRAINT "fk_rails_54d93580a8"[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "pictures" DROP "book_id"[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170119001544"]]
  [1m[35m (12.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddAvatarToBooks (20170119011708)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "books" ADD "avatar" character varying[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170119011708"]]
  [1m[35m (7.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateReviews (20170119105147)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (102.0ms)[0m  [1m[35mCREATE TABLE "reviews" ("id" serial primary key, "title" character varying, "desc" text, "grade" integer, "approved" boolean, "book_id" integer, "user_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_924a0b30ca"
FOREIGN KEY ("book_id")
  REFERENCES "books" ("id")
, CONSTRAINT "fk_rails_74a66bd6c5"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (63.9ms)[0m  [1m[35mCREATE  INDEX  "index_reviews_on_book_id" ON "reviews"  ("book_id")[0m
  [1m[35m (43.0ms)[0m  [1m[35mCREATE  INDEX  "index_reviews_on_user_id" ON "reviews"  ("user_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170119105147"]]
  [1m[35m (17.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDimensionColumnToBooks (20170121095048)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (183.1ms)[0m  [1m[35mALTER TABLE "books" ADD "dimension" json DEFAULT '[]'[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170121095048"]]
  [1m[35m (14.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMaterials (20170121112358)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (93.5ms)[0m  [1m[35mCREATE TABLE "materials" ("id" serial primary key, "name" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170121112358"]]
  [1m[35m (13.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableBookMaterial (20170121112615)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "books_materials" ("book_id" integer NOT NULL, "material_id" integer NOT NULL)[0m
  [1m[35m (62.7ms)[0m  [1m[35mCREATE  INDEX  "index_books_materials_on_book_id_and_material_id" ON "books_materials"  ("book_id", "material_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170121112615"]]
  [1m[35m (9.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddIndexToMaterial (20170121134638)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (38.2ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_materials_on_name" ON "materials"  ("name")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170121134638"]]
  [1m[35m (12.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddAvatarToUsers (20170121171802)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "users" ADD "avatar" character varying[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170121171802"]]
  [1m[35m (8.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateOrders (20170121210105)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (95.9ms)[0m  [1m[35mCREATE TABLE "orders" ("id" serial primary key, "state" character varying, "user_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_f868b47f6a"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (42.4ms)[0m  [1m[35mCREATE  INDEX  "index_orders_on_user_id" ON "orders"  ("user_id")[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170121210105"]]
  [1m[35m (10.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateOrderItems (20170121230611)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (77.7ms)[0m  [1m[35mCREATE TABLE "order_items" ("id" serial primary key, "quantity" integer, "book_id" integer, "order_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_24eeff6b07"
FOREIGN KEY ("book_id")
  REFERENCES "books" ("id")
, CONSTRAINT "fk_rails_e3cb28f071"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
)[0m
  [1m[35m (53.0ms)[0m  [1m[35mCREATE  INDEX  "index_order_items_on_book_id" ON "order_items"  ("book_id")[0m
  [1m[35m (43.0ms)[0m  [1m[35mCREATE  INDEX  "index_order_items_on_order_id" ON "order_items"  ("order_id")[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170121230611"]]
  [1m[35m (18.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateDeliveries (20170121233413)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (123.5ms)[0m  [1m[35mCREATE TABLE "deliveries" ("id" serial primary key, "name" character varying, "price" decimal(10,2), "min_days" integer, "max_days" integer, "country_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_ab421f01be"
FOREIGN KEY ("country_id")
  REFERENCES "countries" ("id")
)[0m
  [1m[35m (42.3ms)[0m  [1m[35mCREATE  INDEX  "index_deliveries_on_country_id" ON "deliveries"  ("country_id")[0m
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170121233413"]]
  [1m[35m (16.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCoupons (20170122000449)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (125.6ms)[0m  [1m[35mCREATE TABLE "coupons" ("id" serial primary key, "active" boolean DEFAULT 't', "discount" integer, "code" character varying, "order_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_68a5ba75f4"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
)[0m
  [1m[35m (39.0ms)[0m  [1m[35mCREATE  INDEX  "index_coupons_on_code" ON "coupons"  ("code")[0m
  [1m[35m (42.7ms)[0m  [1m[35mCREATE  INDEX  "index_coupons_on_order_id" ON "coupons"  ("order_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170122000449"]]
  [1m[35m (16.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddRefDeliveryToOrders (20170122000911)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "orders" ADD "delivery_id" integer[0m
  [1m[35m (45.6ms)[0m  [1m[35mCREATE  INDEX  "index_orders_on_delivery_id" ON "orders"  ("delivery_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "orders" ADD CONSTRAINT "fk_rails_caba0da8d5"
FOREIGN KEY ("delivery_id")
  REFERENCES "deliveries" ("id")
[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170122000911"]]
  [1m[35m (14.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCreditCards (20170122002524)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (93.6ms)[0m  [1m[35mCREATE TABLE "credit_cards" ("id" serial primary key, "order_id" integer, "number" character varying, "cvv" character varying, "first_name" character varying, "last_name" character varying, "month" integer, "year" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_a4de8665d6"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
)[0m
  [1m[35m (40.8ms)[0m  [1m[35mCREATE  INDEX  "index_credit_cards_on_order_id" ON "credit_cards"  ("order_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170122002524"]]
  [1m[35m (14.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemoveOrderReferencesFromCreditCards (20170122002818)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "credit_cards" DROP CONSTRAINT "fk_rails_a4de8665d6"[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "credit_cards" DROP "order_id"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170122002818"]]
  [1m[35m (4.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddRefUserToCreditCards (20170122003451)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "credit_cards" ADD "user_id" integer[0m
  [1m[35m (54.4ms)[0m  [1m[35mCREATE  INDEX  "index_credit_cards_on_user_id" ON "credit_cards"  ("user_id")[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "credit_cards" ADD CONSTRAINT "fk_rails_069bf994f3"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170122003451"]]
  [1m[35m (12.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddRefCreditCardToOrders (20170122003806)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "orders" ADD "credit_card_id" integer[0m
  [1m[35m (48.0ms)[0m  [1m[35mCREATE  INDEX  "index_orders_on_credit_card_id" ON "orders"  ("credit_card_id")[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "orders" ADD CONSTRAINT "fk_rails_7d2de72b48"
FOREIGN KEY ("credit_card_id")
  REFERENCES "credit_cards" ("id")
[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170122003806"]]
  [1m[35m (11.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddBooksCountForCategory (20170124143535)
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (174.2ms)[0m  [1m[35mALTER TABLE "categories" ADD "books_count" integer DEFAULT 0[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170124143535"]]
  [1m[35m (11.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemoveLastNameAndYearAndMonthFromCreditCard (20170127181309)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "credit_cards" DROP "first_name"[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "credit_cards" DROP "last_name"[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "credit_cards" DROP "month"[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "credit_cards" DROP "year"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170127181309"]]
  [1m[35m (4.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddNewColumnsToCreditCards (20170127181733)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "credit_cards" ADD "name" character varying[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "credit_cards" ADD "month_year" character varying[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170127181733"]]
  [1m[35m (7.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddTotalPriceToOrders (20170130012731)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "orders" ADD "total_price" decimal(10,2)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170130012731"]]
  [1m[35m (8.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddVerifiedToReviews (20170201194752)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (289.0ms)[0m  [1m[35mALTER TABLE "reviews" ADD "verified" boolean DEFAULT 'f'[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170201194752"]]
  [1m[35m (21.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddConfirmableToDevise (20170204150541)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" ADD "confirmation_token" character varying[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "users" ADD "confirmed_at" timestamp[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "users" ADD "confirmation_sent_at" timestamp[0m
  [1m[35m (57.4ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_confirmation_token" ON "users"  ("confirmation_token")[0m
  [1m[35m (0.5ms)[0m  [1m[33mUPDATE users SET confirmed_at = NOW(), confirmation_sent_at = NOW()[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170204150541"]]
  [1m[35m (19.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemoveActiveFromCoupons (20170205221756)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "coupons" DROP "active"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170205221756"]]
  [1m[35m (7.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddStateToReview (20170208162610)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "reviews" ADD "state" character varying[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "reviews" DROP "approved"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170208162610"]]
  [1m[35m (6.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddUseBaseAddressToOrders (20170220082750)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "orders" ADD "use_base_address" boolean[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170220082750"]]
  [1m[35m (8.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", 2017-03-20 12:37:41 UTC], ["updated_at", 2017-03-20 12:37:41 UTC]]
  [1m[35m (10.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1765805502430986030)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/oleg/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/oleg/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."title" = $1 LIMIT $2[0m  [["title", "Mobile"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = $1 LIMIT $2[0m  [["title", "Mobile"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Mobile"], ["created_at", 2017-03-20 12:39:56 UTC], ["updated_at", 2017-03-20 12:39:56 UTC]]
  [1m[35m (16.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."title" = $1 LIMIT $2[0m  [["title", "Development"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = $1 LIMIT $2[0m  [["title", "Development"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Development"], ["created_at", 2017-03-20 12:39:56 UTC], ["updated_at", 2017-03-20 12:39:56 UTC]]
  [1m[35m (5.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."title" = $1 LIMIT $2[0m  [["title", "Photo"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = $1 LIMIT $2[0m  [["title", "Photo"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Photo"], ["created_at", 2017-03-20 12:39:56 UTC], ["updated_at", 2017-03-20 12:39:56 UTC]]
  [1m[35m (7.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."title" = $1 LIMIT $2[0m  [["title", "Web design"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = $1 LIMIT $2[0m  [["title", "Web design"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Web design"], ["created_at", 2017-03-20 12:39:56 UTC], ["updated_at", 2017-03-20 12:39:56 UTC]]
  [1m[35m (7.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."title" = $1 LIMIT $2[0m  [["title", "Web development"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = $1 LIMIT $2[0m  [["title", "Web development"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Web development"], ["created_at", 2017-03-20 12:39:56 UTC], ["updated_at", 2017-03-20 12:39:56 UTC]]
  [1m[35m (7.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Barbara"], ["last_name", "Yundt"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Barbara"], ["last_name", "Yundt"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "authors" ("first_name", "last_name", "desc", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["first_name", "Barbara"], ["last_name", "Yundt"], ["desc", "Quos culpa esse dolorem ut rerum. Qui quidem animi ut alias et porro eius praesentium. Saepe facere dolorem ut velit blanditiis cupiditate iure quo. Veniam molestias ea ratione dicta. Libero quibusdam et voluptate quae et."], ["created_at", 2017-03-20 12:39:56 UTC], ["updated_at", 2017-03-20 12:39:56 UTC]]
  [1m[35m (17.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Rebekah"], ["last_name", "Gorczany"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Rebekah"], ["last_name", "Gorczany"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors" ("first_name", "last_name", "desc", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["first_name", "Rebekah"], ["last_name", "Gorczany"], ["desc", "Sit magnam voluptatibus iusto minima eos ipsam. Provident labore eum repellat eum et quia iure. Ullam unde qui dolor ea."], ["created_at", 2017-03-20 12:39:56 UTC], ["updated_at", 2017-03-20 12:39:56 UTC]]
  [1m[35m (6.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Jadwiga"], ["last_name", "Schiller"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Jadwiga"], ["last_name", "Schiller"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors" ("first_name", "last_name", "desc", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["first_name", "Jadwiga"], ["last_name", "Schiller"], ["desc", "Vitae earum dicta inventore soluta iste commodi. Dolores architecto debitis quaerat id velit sit. Aspernatur debitis magni est quia tempore at et aliquid. Ea aut excepturi placeat nesciunt sunt pariatur tenetur."], ["created_at", 2017-03-20 12:39:56 UTC], ["updated_at", 2017-03-20 12:39:56 UTC]]
  [1m[35m (6.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Diego"], ["last_name", "Witting"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Diego"], ["last_name", "Witting"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "authors" ("first_name", "last_name", "desc", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["first_name", "Diego"], ["last_name", "Witting"], ["desc", "Laboriosam asperiores totam sequi eligendi fuga optio aspernatur sed. Distinctio quidem numquam sequi nesciunt porro omnis fuga omnis. Nulla et dolorem et qui dicta. Sit ipsam error vero eos dolorem sint nulla esse."], ["created_at", 2017-03-20 12:39:56 UTC], ["updated_at", 2017-03-20 12:39:56 UTC]]
  [1m[35m (6.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Pat"], ["last_name", "Erdman"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Pat"], ["last_name", "Erdman"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors" ("first_name", "last_name", "desc", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["first_name", "Pat"], ["last_name", "Erdman"], ["desc", "Dolorum ratione eveniet officiis est non non minima. Quibusdam id quidem consequatur reprehenderit et. Officia est dolores non distinctio."], ["created_at", 2017-03-20 12:39:56 UTC], ["updated_at", 2017-03-20 12:39:56 UTC]]
  [1m[35m (6.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Magdalena"], ["last_name", "Macejkovic"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Magdalena"], ["last_name", "Macejkovic"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors" ("first_name", "last_name", "desc", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["first_name", "Magdalena"], ["last_name", "Macejkovic"], ["desc", "Quia eligendi quas nesciunt corporis ut nemo enim. Quo vel nam quia nostrum aut eaque ut occaecati. Aperiam illo nihil perspiciatis exercitationem. Ea est minus ut quia dicta magni saepe. Doloremque aliquid quasi sit alias et."], ["created_at", 2017-03-20 12:39:56 UTC], ["updated_at", 2017-03-20 12:39:56 UTC]]
  [1m[35m (6.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Jermaine"], ["last_name", "Vandervort"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Jermaine"], ["last_name", "Vandervort"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors" ("first_name", "last_name", "desc", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["first_name", "Jermaine"], ["last_name", "Vandervort"], ["desc", "Quis dolor excepturi dolores quia. Quae est quasi magni ipsum ut cum. Quae laudantium delectus magnam placeat adipisci ad. Laboriosam sit quia repudiandae exercitationem fugiat harum quam."], ["created_at", 2017-03-20 12:39:56 UTC], ["updated_at", 2017-03-20 12:39:56 UTC]]
  [1m[35m (6.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Trisha"], ["last_name", "Grant"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Trisha"], ["last_name", "Grant"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors" ("first_name", "last_name", "desc", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["first_name", "Trisha"], ["last_name", "Grant"], ["desc", "Possimus aperiam sit maiores neque. Voluptatem perspiciatis iusto consequatur nostrum at quis voluptatem fugit. Exercitationem eveniet commodi dolor aut ut consequatur."], ["created_at", 2017-03-20 12:39:56 UTC], ["updated_at", 2017-03-20 12:39:56 UTC]]
  [1m[35m (6.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Pauletta"], ["last_name", "Oberbrunner"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Pauletta"], ["last_name", "Oberbrunner"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors" ("first_name", "last_name", "desc", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["first_name", "Pauletta"], ["last_name", "Oberbrunner"], ["desc", "Amet voluptates dolor natus aut doloribus voluptate quisquam error. Officia qui ea similique autem voluptate deleniti. Id similique est velit nobis doloribus sed."], ["created_at", 2017-03-20 12:39:56 UTC], ["updated_at", 2017-03-20 12:39:56 UTC]]
  [1m[35m (6.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Keren"], ["last_name", "Mohr"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Keren"], ["last_name", "Mohr"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors" ("first_name", "last_name", "desc", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["first_name", "Keren"], ["last_name", "Mohr"], ["desc", "Nulla molestiae nam error magni nemo sint. Voluptatibus quia expedita voluptate enim dolore consequatur. Ipsa molestiae illum pariatur in officiis. Dignissimos soluta fugit et eveniet repellat sint. Veritatis et ea ratione id est a vel corporis."], ["created_at", 2017-03-20 12:39:56 UTC], ["updated_at", 2017-03-20 12:39:56 UTC]]
  [1m[35m (6.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Grayce"], ["last_name", "O'Conner"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Grayce"], ["last_name", "O'Conner"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors" ("first_name", "last_name", "desc", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["first_name", "Grayce"], ["last_name", "O'Conner"], ["desc", "Porro minus ab non deserunt sequi. Ullam qui totam cupiditate similique. Sed eveniet ut omnis eum assumenda dolores omnis. Velit illum recusandae repellat mollitia qui sit officia doloribus."], ["created_at", 2017-03-20 12:39:56 UTC], ["updated_at", 2017-03-20 12:39:56 UTC]]
  [1m[35m (6.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Magdalene"], ["last_name", "Bogan"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Magdalene"], ["last_name", "Bogan"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors" ("first_name", "last_name", "desc", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["first_name", "Magdalene"], ["last_name", "Bogan"], ["desc", "Exercitationem accusantium voluptatem ipsa tempore voluptates molestias. Debitis quidem quam sed deleniti doloribus illum asperiores velit. Ea cupiditate reprehenderit nesciunt dolorem voluptatem."], ["created_at", 2017-03-20 12:39:56 UTC], ["updated_at", 2017-03-20 12:39:56 UTC]]
  [1m[35m (6.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Grazyna"], ["last_name", "Gusikowski"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Grazyna"], ["last_name", "Gusikowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors" ("first_name", "last_name", "desc", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["first_name", "Grazyna"], ["last_name", "Gusikowski"], ["desc", "Ipsum dolores nostrum perspiciatis cum. Praesentium pariatur sapiente odit ad ducimus sint omnis. Maxime laboriosam rerum vitae eos sapiente saepe. Omnis mollitia asperiores delectus eum similique voluptatem non ea. Consequuntur consectetur alias doloremque cupiditate ut ab corporis quod."], ["created_at", 2017-03-20 12:39:56 UTC], ["updated_at", 2017-03-20 12:39:56 UTC]]
  [1m[35m (6.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Filomena"], ["last_name", "Jakubowski"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Filomena"], ["last_name", "Jakubowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors" ("first_name", "last_name", "desc", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["first_name", "Filomena"], ["last_name", "Jakubowski"], ["desc", "At perferendis ratione perspiciatis rerum accusantium cum reiciendis. Fuga mollitia quod dolorem ut dicta soluta sit non. Velit sequi omnis exercitationem et ad est. Vitae nesciunt id voluptas sit cumque dignissimos consequatur. Dolores minus placeat non laboriosam iusto."], ["created_at", 2017-03-20 12:39:56 UTC], ["updated_at", 2017-03-20 12:39:56 UTC]]
  [1m[35m (6.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Ernestine"], ["last_name", "O'Kon"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Ernestine"], ["last_name", "O'Kon"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors" ("first_name", "last_name", "desc", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["first_name", "Ernestine"], ["last_name", "O'Kon"], ["desc", "Rerum eos cumque velit minus est ut accusamus officiis. Nemo et rerum eum modi eos quisquam quidem. Odio commodi et minima rerum."], ["created_at", 2017-03-20 12:39:56 UTC], ["updated_at", 2017-03-20 12:39:56 UTC]]
  [1m[35m (6.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Apryl"], ["last_name", "Russel"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Apryl"], ["last_name", "Russel"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors" ("first_name", "last_name", "desc", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["first_name", "Apryl"], ["last_name", "Russel"], ["desc", "Quo est sed nisi eum dicta. Nam quia architecto laudantium ut. Quidem aperiam blanditiis qui est."], ["created_at", 2017-03-20 12:39:56 UTC], ["updated_at", 2017-03-20 12:39:56 UTC]]
  [1m[35m (6.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Lawerence"], ["last_name", "Fahey"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Lawerence"], ["last_name", "Fahey"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors" ("first_name", "last_name", "desc", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["first_name", "Lawerence"], ["last_name", "Fahey"], ["desc", "Autem eius culpa voluptatum dignissimos et. Vitae maxime nostrum et consequatur odit. Earum modi libero voluptatum et incidunt. Voluptatem molestias assumenda ut iste libero. Distinctio id rerum officia aut et."], ["created_at", 2017-03-20 12:39:56 UTC], ["updated_at", 2017-03-20 12:39:56 UTC]]
  [1m[35m (6.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Mozell"], ["last_name", "Bosco"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Mozell"], ["last_name", "Bosco"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors" ("first_name", "last_name", "desc", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["first_name", "Mozell"], ["last_name", "Bosco"], ["desc", "Voluptatibus placeat fugiat sunt est animi. Sed earum rerum architecto quidem natus laboriosam magni. Ipsum qui neque eaque excepturi sint non. Enim illum omnis tenetur temporibus asperiores. Quo architecto quas consectetur dolores voluptate doloremque."], ["created_at", 2017-03-20 12:39:56 UTC], ["updated_at", 2017-03-20 12:39:56 UTC]]
  [1m[35m (7.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Annetta"], ["last_name", "Jakubowski"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Annetta"], ["last_name", "Jakubowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors" ("first_name", "last_name", "desc", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["first_name", "Annetta"], ["last_name", "Jakubowski"], ["desc", "Ipsum est consequatur vero dignissimos nesciunt voluptatum. Odit vel enim aliquid esse et sed occaecati quas. Id ab consequatur beatae sapiente sequi amet libero. Molestiae debitis architecto voluptas blanditiis. Amet laboriosam eius natus et."], ["created_at", 2017-03-20 12:39:56 UTC], ["updated_at", 2017-03-20 12:39:56 UTC]]
  [1m[35m (6.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Bradly"], ["last_name", "Gutkowski"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Bradly"], ["last_name", "Gutkowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors" ("first_name", "last_name", "desc", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["first_name", "Bradly"], ["last_name", "Gutkowski"], ["desc", "Inventore quia quo ea blanditiis aut quod illum sit. Fugit modi qui ea quas. Sit consequuntur in velit rerum quia et autem ipsum. Impedit minima aut officia fuga voluptas."], ["created_at", 2017-03-20 12:39:56 UTC], ["updated_at", 2017-03-20 12:39:56 UTC]]
  [1m[35m (6.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" ORDER BY "categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "I Married a Killer Brain"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "I Married a Killer Brain"], ["desc", "Iste voluptatem ut enim qui est. Veritatis aut molestias qui est molestiae tenetur. Dolores odio ab dolores deserunt consequatur. Doloremque fugiat aut quia qui. Aliquam et quia est cupiditate odit voluptatem quos omnis."], ["price", #<BigDecimal:cc4e184,'0.1057E2',18(27)>], ["count", 340], ["created_at", 2017-03-20 12:39:56 UTC], ["updated_at", 2017-03-20 12:39:56 UTC], ["category_id", 1], ["dimension", "{\"h\":5.2,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 1]]
  [1m[35m (14.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Legend of Tokyo Dreams"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Legend of Tokyo Dreams"], ["desc", "Quibusdam voluptatem impedit eveniet autem et iure provident. Et et officia beatae mollitia odio. Necessitatibus est placeat in deleniti pariatur. Ipsam iure sunt quaerat assumenda."], ["price", #<BigDecimal:b769714,'0.1323E2',18(27)>], ["count", 167], ["created_at", 2017-03-20 12:39:57 UTC], ["updated_at", 2017-03-20 12:39:57 UTC], ["category_id", 1], ["dimension", "{\"h\":5.6,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 1]]
  [1m[35m (3.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Nuclear World"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Nuclear World"], ["desc", "Et illum alias mollitia molestiae. Et error laboriosam quasi non aperiam eius. Et quasi dolorem at totam laborum."], ["price", #<BigDecimal:cc86cb4,'0.1977E2',18(27)>], ["count", 424], ["created_at", 2017-03-20 12:39:57 UTC], ["updated_at", 2017-03-20 12:39:57 UTC], ["category_id", 1], ["dimension", "{\"h\":7.5,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 1]]
  [1m[35m (3.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "American Cousins"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "American Cousins"], ["desc", "Libero sint hic rem ut ad voluptatem necessitatibus qui. Quibusdam aut est laborum fugit eos cupiditate minus non. Blanditiis facere animi doloremque deserunt odit sed."], ["price", #<BigDecimal:b737674,'0.1708E2',18(27)>], ["count", 375], ["created_at", 2017-03-20 12:39:57 UTC], ["updated_at", 2017-03-20 12:39:57 UTC], ["category_id", 1], ["dimension", "{\"h\":5.8,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 1]]
  [1m[35m (3.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "War of the Bloody Mutant"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "War of the Bloody Mutant"], ["desc", "Tempora impedit at dolor qui omnis. Tempore quod vel rerum repellat cumque. Maiores repellendus ipsum voluptatem in sed non."], ["price", #<BigDecimal:ccb5e24,'0.1114E2',18(27)>], ["count", 231], ["created_at", 2017-03-20 12:39:57 UTC], ["updated_at", 2017-03-20 12:39:57 UTC], ["category_id", 1], ["dimension", "{\"h\":8.7,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 1]]
  [1m[35m (4.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "I Married a Fake Demon"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "I Married a Fake Demon"], ["desc", "Autem nisi asperiores delectus ratione fuga. Fugiat tempora similique quisquam omnis ducimus placeat laborum. Incidunt qui aut veniam eaque voluptates saepe."], ["price", #<BigDecimal:ccc8ce0,'0.1128E2',18(27)>], ["count", 417], ["created_at", 2017-03-20 12:39:57 UTC], ["updated_at", 2017-03-20 12:39:57 UTC], ["category_id", 1], ["dimension", "{\"h\":5.7,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 1]]
  [1m[35m (3.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Forbidden Demon"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Forbidden Demon"], ["desc", "Et ex et autem id corporis et omnis. Eius nostrum dicta consectetur voluptas assumenda. Veritatis aut deserunt iusto et voluptas."], ["price", #<BigDecimal:b6e5ce8,'0.1178E2',18(27)>], ["count", 367], ["created_at", 2017-03-20 12:39:57 UTC], ["updated_at", 2017-03-20 12:39:57 UTC], ["category_id", 1], ["dimension", "{\"h\":5.5,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 1]]
  [1m[35m (4.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "War of the Blue Wolf"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "War of the Blue Wolf"], ["desc", "Tenetur quis et autem laboriosam magni alias et. Id provident excepturi maxime sapiente expedita qui beatae est. Itaque consequatur expedita sed molestias velit aut."], ["price", #<BigDecimal:cd02fe4,'0.1412E2',18(27)>], ["count", 170], ["created_at", 2017-03-20 12:39:57 UTC], ["updated_at", 2017-03-20 12:39:57 UTC], ["category_id", 1], ["dimension", "{\"h\":9.7,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 1]]
  [1m[35m (4.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Danger Blow"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Danger Blow"], ["desc", "Optio ipsum totam dolores quas rerum aut vero. Suscipit necessitatibus id veritatis pariatur voluptate asperiores rerum. Quis dolores officia labore totam fugiat. Beatae et fugit soluta dicta sunt et accusantium unde. Officia sit asperiores eum quo."], ["price", #<BigDecimal:cd15018,'0.1732E2',18(27)>], ["count", 279], ["created_at", 2017-03-20 12:39:57 UTC], ["updated_at", 2017-03-20 12:39:57 UTC], ["category_id", 1], ["dimension", "{\"h\":9.6,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 1]]
  [1m[35m (3.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Nuclear Monster"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Nuclear Monster"], ["desc", "Consequatur impedit nostrum ut ad. Est soluta doloremque alias ducimus sit et voluptates. Iusto eligendi suscipit quia facilis nesciunt in. Qui et eos in voluptates maiores voluptatibus est eum."], ["price", #<BigDecimal:b699aa0,'0.1269E2',18(27)>], ["count", 429], ["created_at", 2017-03-20 12:39:57 UTC], ["updated_at", 2017-03-20 12:39:57 UTC], ["category_id", 1], ["dimension", "{\"h\":9.0,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 1]]
  [1m[35m (3.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Tokyo Diaries"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Tokyo Diaries"], ["desc", "Dolores quo ut rerum tempora officiis. Molestiae voluptas fugiat reprehenderit nemo dolor accusamus illum. Voluptatum dolorum expedita vel nulla quia culpa. Minima soluta aut dolorem quia."], ["price", #<BigDecimal:cd4b53c,'0.1689E2',18(27)>], ["count", 167], ["created_at", 2017-03-20 12:39:57 UTC], ["updated_at", 2017-03-20 12:39:57 UTC], ["category_id", 1], ["dimension", "{\"h\":5.5,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 1]]
  [1m[35m (4.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Codename: Green Gypsy"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Codename: Green Gypsy"], ["desc", "Omnis quidem omnis nobis ab et rem at. Alias rerum aut voluptates qui ut. Consectetur ad nulla omnis aut pariatur perferendis esse aut. Iusto quia et nulla et iure quia."], ["price", #<BigDecimal:cd6afb8,'0.161E2',18(27)>], ["count", 451], ["created_at", 2017-03-20 12:39:57 UTC], ["updated_at", 2017-03-20 12:39:57 UTC], ["category_id", 1], ["dimension", "{\"h\":8.7,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 1]]
  [1m[35m (3.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Tokyo Tears"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Tokyo Tears"], ["desc", "Voluptatem sed ad distinctio illo aut eveniet eos deserunt. Illum voluptatibus sunt at eius id quidem laborum voluptatum. Sunt repellat id autem ipsum veritatis consectetur recusandae nemo."], ["price", #<BigDecimal:cd7d988,'0.1003E2',18(27)>], ["count", 332], ["created_at", 2017-03-20 12:39:57 UTC], ["updated_at", 2017-03-20 12:39:57 UTC], ["category_id", 1], ["dimension", "{\"h\":8.5,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 1]]
  [1m[35m (3.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "War of the Hungry Thief"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "War of the Hungry Thief"], ["desc", "Perspiciatis sapiente officia deserunt aut id. Recusandae dolor omnis maxime doloribus soluta sint. Optio doloribus odit sint dolor ut molestiae neque. Dolorum ad quae repellendus quisquam."], ["price", #<BigDecimal:b6273b0,'0.1136E2',18(27)>], ["count", 477], ["created_at", 2017-03-20 12:39:57 UTC], ["updated_at", 2017-03-20 12:39:57 UTC], ["category_id", 1], ["dimension", "{\"h\":9.7,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 1]]
  [1m[35m (4.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Killer Fly"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Killer Fly"], ["desc", "Voluptatibus autem sed quo necessitatibus at rerum totam. Consequatur repudiandae alias quasi et ratione. Error facilis architecto non ea id provident quia itaque. Vel sint consequatur dolor fuga."], ["price", #<BigDecimal:cdb3308,'0.149E2',18(27)>], ["count", 338], ["created_at", 2017-03-20 12:39:57 UTC], ["updated_at", 2017-03-20 12:39:57 UTC], ["category_id", 1], ["dimension", "{\"h\":9.6,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 1]]
  [1m[35m (3.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Flying Brain"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Flying Brain"], ["desc", "Consequatur sed magnam quidem laborum quae. Aut dolorem voluptates itaque sint dolorem ut deserunt expedita. Placeat consequatur unde quia ut praesentium ipsam qui."], ["price", #<BigDecimal:cdc9f54,'0.1318E2',18(27)>], ["count", 259], ["created_at", 2017-03-20 12:39:57 UTC], ["updated_at", 2017-03-20 12:39:57 UTC], ["category_id", 1], ["dimension", "{\"h\":6.9,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 1]]
  [1m[35m (4.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Rise of the Fake Jungle"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Rise of the Fake Jungle"], ["desc", "Quibusdam iure fuga aut consequatur maxime vero autem. Ut velit cum rerum sequi voluptatem quasi est. Saepe sint voluptatem in porro ut. Et ipsa rerum optio voluptas omnis."], ["price", #<BigDecimal:cddd054,'0.1058E2',18(27)>], ["count", 238], ["created_at", 2017-03-20 12:39:57 UTC], ["updated_at", 2017-03-20 12:39:57 UTC], ["category_id", 1], ["dimension", "{\"h\":8.9,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 1]]
  [1m[35m (4.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Planet of the Killer Fly"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Planet of the Killer Fly"], ["desc", "Voluptas aspernatur ad ab labore blanditiis architecto possimus unde. Amet eius tempore consequatur adipisci nisi. Dicta et omnis quia deleniti."], ["price", #<BigDecimal:b5b6ad4,'0.1585E2',18(27)>], ["count", 334], ["created_at", 2017-03-20 12:39:57 UTC], ["updated_at", 2017-03-20 12:39:57 UTC], ["category_id", 1], ["dimension", "{\"h\":9.2,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 1]]
  [1m[35m (2.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Bloody Rain"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Bloody Rain"], ["desc", "Sunt exercitationem ea consectetur fugit incidunt. Nulla nobis architecto numquam natus maiores rerum eaque voluptate. Magnam enim sint cumque omnis recusandae iste illo et. Earum quia et ipsa alias dolore."], ["price", #<BigDecimal:b59c300,'0.1159E2',18(27)>], ["count", 203], ["created_at", 2017-03-20 12:39:57 UTC], ["updated_at", 2017-03-20 12:39:57 UTC], ["category_id", 1], ["dimension", "{\"h\":9.8,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 1]]
  [1m[35m (3.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Electric Witch"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Electric Witch"], ["desc", "Deleniti rerum assumenda et et ut. Voluptatem nulla facere eaque atque explicabo. Cum aut ut aspernatur eaque."], ["price", #<BigDecimal:ce2a944,'0.1009E2',18(27)>], ["count", 117], ["created_at", 2017-03-20 12:39:57 UTC], ["updated_at", 2017-03-20 12:39:57 UTC], ["category_id", 1], ["dimension", "{\"h\":6.2,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 1]]
  [1m[35m (4.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Death Friday"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Death Friday"], ["desc", "Qui aut dolor veniam hic quo et assumenda dolores. Vitae pariatur quis ullam minima dignissimos. Id nihil ad accusantium architecto excepturi aliquid. Omnis eos saepe ut excepturi nostrum qui qui. Placeat ut quos accusamus harum quasi consequuntur laudantium magnam."], ["price", #<BigDecimal:b55ce6c,'0.1148E2',18(27)>], ["count", 307], ["created_at", 2017-03-20 12:39:57 UTC], ["updated_at", 2017-03-20 12:39:57 UTC], ["category_id", 2], ["dimension", "{\"h\":5.6,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 2]]
  [1m[35m (3.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Curse of the Blonde Ninjas"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Curse of the Blonde Ninjas"], ["desc", "Omnis repellat neque inventore dolores et explicabo. Odio excepturi occaecati sit saepe aliquid nihil a. Distinctio aut autem sed ut aspernatur."], ["price", #<BigDecimal:ce5d150,'0.1621E2',18(27)>], ["count", 386], ["created_at", 2017-03-20 12:39:57 UTC], ["updated_at", 2017-03-20 12:39:57 UTC], ["category_id", 2], ["dimension", "{\"h\":5.6,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 2]]
  [1m[35m (3.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Killer Beast"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Killer Beast"], ["desc", "Nam unde sunt eos aut consequuntur ipsa voluptas. Deleniti dicta officia nesciunt hic natus quisquam et. Et quo sunt occaecati minus consequuntur enim dolorem."], ["price", #<BigDecimal:ce7ba24,'0.1149E2',18(27)>], ["count", 227], ["created_at", 2017-03-20 12:39:57 UTC], ["updated_at", 2017-03-20 12:39:57 UTC], ["category_id", 2], ["dimension", "{\"h\":5.4,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 2]]
  [1m[35m (4.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Death Wolves"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Death Wolves"], ["desc", "Et cupiditate tenetur molestiae architecto impedit. Rem iure ut temporibus molestias enim. Neque aliquam itaque tenetur rerum qui."], ["price", #<BigDecimal:ce92fd0,'0.1467E2',18(27)>], ["count", 438], ["created_at", 2017-03-20 12:39:57 UTC], ["updated_at", 2017-03-20 12:39:57 UTC], ["category_id", 2], ["dimension", "{\"h\":5.2,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 2]]
  [1m[35m (4.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "The Ultra Men"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "The Ultra Men"], ["desc", "Error velit ad sapiente repudiandae. Iste fugiat optio sequi in. Dolore esse aut deserunt iusto. Quod voluptatibus eveniet harum nihil modi sit quaerat."], ["price", #<BigDecimal:cea6288,'0.16E2',9(18)>], ["count", 430], ["created_at", 2017-03-20 12:39:57 UTC], ["updated_at", 2017-03-20 12:39:57 UTC], ["category_id", 2], ["dimension", "{\"h\":6.7,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 2]]
  [1m[35m (4.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Danger Men"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Danger Men"], ["desc", "Recusandae at est assumenda ex cum laborum ut. Sapiente quia nesciunt voluptate odio. Enim ab nam voluptas et aspernatur sunt sit et."], ["price", #<BigDecimal:cebdc80,'0.1258E2',18(27)>], ["count", 312], ["created_at", 2017-03-20 12:39:57 UTC], ["updated_at", 2017-03-20 12:39:57 UTC], ["category_id", 3], ["dimension", "{\"h\":6.8,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 3]]
  [1m[35m (3.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Return of the American Ninjas"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Return of the American Ninjas"], ["desc", "Deleniti id ullam natus enim dolore laudantium facilis enim. Quia animi quae dolor suscipit velit ut explicabo. Et laborum ut esse ad distinctio neque. Recusandae occaecati ea incidunt sed. Molestias esse omnis beatae accusantium vitae consectetur."], ["price", #<BigDecimal:ced522c,'0.1342E2',18(27)>], ["count", 458], ["created_at", 2017-03-20 12:39:57 UTC], ["updated_at", 2017-03-20 12:39:57 UTC], ["category_id", 3], ["dimension", "{\"h\":6.9,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 3]]
  [1m[35m (3.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Danger Jungle"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Danger Jungle"], ["desc", "Ratione consequatur nesciunt occaecati debitis tempora officiis quis esse. Architecto vel numquam sed laborum et tenetur ut. Minima reprehenderit aut eum quidem laudantium non dolorem. Itaque aut dolorem ab impedit est necessitatibus est laboriosam."], ["price", #<BigDecimal:cee87c8,'0.1969E2',18(27)>], ["count", 245], ["created_at", 2017-03-20 12:39:57 UTC], ["updated_at", 2017-03-20 12:39:57 UTC], ["category_id", 3], ["dimension", "{\"h\":5.7,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 3]]
  [1m[35m (3.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Season of the Hungry Brain"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Season of the Hungry Brain"], ["desc", "Vel ratione aut ea velit nihil molestiae. Corrupti ullam odit eligendi sint est. Quo quo eos repellendus ut. Itaque eum consequatur hic et autem."], ["price", #<BigDecimal:b47cf38,'0.1242E2',18(27)>], ["count", 101], ["created_at", 2017-03-20 12:39:57 UTC], ["updated_at", 2017-03-20 12:39:57 UTC], ["category_id", 3], ["dimension", "{\"h\":6.6,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 3]]
  [1m[35m (4.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Day of the Fake Monster"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Day of the Fake Monster"], ["desc", "Nihil qui ducimus est eum illo sed deleniti ex. Non eum ut nulla adipisci. Nihil aut iusto tempora quia. Labore corrupti libero tempore asperiores officia natus perferendis."], ["price", #<BigDecimal:cf1eecc,'0.1806E2',18(27)>], ["count", 425], ["created_at", 2017-03-20 12:39:57 UTC], ["updated_at", 2017-03-20 12:39:57 UTC], ["category_id", 3], ["dimension", "{\"h\":8.7,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 3]]
  [1m[35m (3.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Planet of the Forbidden Dreams"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Planet of the Forbidden Dreams"], ["desc", "Dolor quibusdam dolorem velit laudantium numquam eos ut aut. Iste quaerat nobis ut et consequatur odit id. Ut natus quia dolorem sequi."], ["price", #<BigDecimal:cf35eb0,'0.1816E2',18(27)>], ["count", 178], ["created_at", 2017-03-20 12:39:57 UTC], ["updated_at", 2017-03-20 12:39:57 UTC], ["category_id", 3], ["dimension", "{\"h\":7.0,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 3]]
  [1m[35m (4.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "I am Flying Witch"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "I am Flying Witch"], ["desc", "Voluptates et autem ex illum sunt iusto omnis accusantium. Ea hic saepe placeat quasi fugiat eveniet eius eum. Ipsum fugiat et commodi dicta. Suscipit culpa quidem ut nulla provident at sit nihil. Vel autem laboriosam voluptate velit ut aliquam."], ["price", #<BigDecimal:cf49078,'0.1581E2',18(27)>], ["count", 132], ["created_at", 2017-03-20 12:39:57 UTC], ["updated_at", 2017-03-20 12:39:57 UTC], ["category_id", 3], ["dimension", "{\"h\":5.3,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 3]]
  [1m[35m (4.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "The Bloody Friday"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "The Bloody Friday"], ["desc", "Ullam fugit voluptatem repellendus deserunt harum ut qui ea. Officiis voluptatem doloribus eos dolores qui. Libero ex et voluptas voluptate est. A deserunt nam quia reiciendis tempore et eius."], ["price", #<BigDecimal:cf60c8c,'0.1883E2',18(27)>], ["count", 376], ["created_at", 2017-03-20 12:39:57 UTC], ["updated_at", 2017-03-20 12:39:57 UTC], ["category_id", 3], ["dimension", "{\"h\":6.5,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 3]]
  [1m[35m (3.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "I Married a Blonde Tentacle"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "I Married a Blonde Tentacle"], ["desc", "Quaerat nobis quia assumenda qui voluptatem minima et architecto. Doloribus blanditiis fugiat ab dolor. Quas labore aspernatur et et fugiat. Ea deleniti nam voluptatum a quibusdam qui exercitationem. Nobis blanditiis quos ullam neque temporibus ratione."], ["price", #<BigDecimal:b3f93b8,'0.1394E2',18(27)>], ["count", 232], ["created_at", 2017-03-20 12:39:57 UTC], ["updated_at", 2017-03-20 12:39:57 UTC], ["category_id", 3], ["dimension", "{\"h\":5.7,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 3]]
  [1m[35m (3.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "War of the Fake Mutant"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "War of the Fake Mutant"], ["desc", "Quasi exercitationem commodi ullam recusandae. Quos rerum voluptatem vel consectetur quis. Aut ipsum enim ut adipisci veniam est. Voluptatem consequatur tempora deserunt quam fugiat voluptate quae. Est enim dolor earum et dignissimos itaque."], ["price", #<BigDecimal:b3e43c8,'0.1003E2',18(27)>], ["count", 425], ["created_at", 2017-03-20 12:39:57 UTC], ["updated_at", 2017-03-20 12:39:57 UTC], ["category_id", 3], ["dimension", "{\"h\":7.9,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 3]]
  [1m[35m (4.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Blue Thief"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Blue Thief"], ["desc", "Quod nulla similique maxime quia laudantium qui. Voluptatem commodi modi velit neque illo blanditiis. Fugit et perferendis perspiciatis nulla ipsam optio quia ad. Et suscipit necessitatibus adipisci reprehenderit."], ["price", #<BigDecimal:cfb2528,'0.1126E2',18(27)>], ["count", 389], ["created_at", 2017-03-20 12:39:57 UTC], ["updated_at", 2017-03-20 12:39:57 UTC], ["category_id", 3], ["dimension", "{\"h\":5.2,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 3]]
  [1m[35m (3.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Fake Brain"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Fake Brain"], ["desc", "Temporibus ducimus qui illum aut alias reiciendis nesciunt veniam. Aliquid dolore dolor perspiciatis quo rem. Et iure quasi illo quo dolor quo. Et vel maiores dolorem perferendis est mollitia eveniet."], ["price", #<BigDecimal:cfc5588,'0.1802E2',18(27)>], ["count", 272], ["created_at", 2017-03-20 12:39:57 UTC], ["updated_at", 2017-03-20 12:39:57 UTC], ["category_id", 3], ["dimension", "{\"h\":5.9,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 3]]
  [1m[35m (4.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Champagne Cat"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Champagne Cat"], ["desc", "Voluptate quia eveniet ex voluptatem molestias libero nobis. Dolor numquam ipsam non amet. Amet quis quis quidem rem ad cum expedita aperiam. Sed ut iusto quos tempore facere."], ["price", #<BigDecimal:cfdd688,'0.1768E2',18(27)>], ["count", 396], ["created_at", 2017-03-20 12:39:57 UTC], ["updated_at", 2017-03-20 12:39:57 UTC], ["category_id", 3], ["dimension", "{\"h\":7.5,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 3]]
  [1m[35m (4.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Return of the Forbidden Mutant"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Return of the Forbidden Mutant"], ["desc", "Voluptas et a nobis possimus eos. Perspiciatis qui repudiandae aspernatur dicta quas soluta est et. Aut voluptatum commodi unde vero est quo inventore earum. Impedit at qui ducimus vel qui natus necessitatibus ut."], ["price", #<BigDecimal:cff5df0,'0.1927E2',18(27)>], ["count", 478], ["created_at", 2017-03-20 12:39:57 UTC], ["updated_at", 2017-03-20 12:39:57 UTC], ["category_id", 4], ["dimension", "{\"h\":5.6,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 4]]
  [1m[35m (3.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Invasion of the American Brain"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Invasion of the American Brain"], ["desc", "Magni fugit doloribus magnam aut similique eum delectus. Quo laboriosam dolores molestiae voluptatem neque delectus nostrum recusandae. Ipsa reprehenderit veritatis nulla nisi inventore repudiandae. Tempora voluptas nostrum atque minus aut pariatur qui magni. Ea necessitatibus est eum sed ducimus in omnis sit."], ["price", #<BigDecimal:d009e54,'0.1745E2',18(27)>], ["count", 161], ["created_at", 2017-03-20 12:39:57 UTC], ["updated_at", 2017-03-20 12:39:57 UTC], ["category_id", 4], ["dimension", "{\"h\":7.9,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 4]]
  [1m[35m (3.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Legend of Flying Witch"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Legend of Flying Witch"], ["desc", "Fuga vel repellat similique nihil ducimus. Fugit et quia eaque quo. Deleniti quia ut iste omnis ut. Est et doloribus minima aut magni. Similique suscipit quo soluta quibusdam nulla velit laborum ex."], ["price", #<BigDecimal:d020dac,'0.1651E2',18(27)>], ["count", 225], ["created_at", 2017-03-20 12:39:57 UTC], ["updated_at", 2017-03-20 12:39:57 UTC], ["category_id", 4], ["dimension", "{\"h\":5.5,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 4]]
  [1m[35m (4.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "War of the Killer Tears"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "War of the Killer Tears"], ["desc", "Libero deserunt voluptatem quo error qui a rem. Blanditiis voluptatem minus ut voluptas vel necessitatibus dignissimos. Tempora sapiente ut exercitationem autem voluptatem et. A sed nesciunt corporis odio expedita delectus. Eum voluptatibus numquam velit ipsam."], ["price", #<BigDecimal:d038074,'0.1069E2',18(27)>], ["count", 345], ["created_at", 2017-03-20 12:39:57 UTC], ["updated_at", 2017-03-20 12:39:57 UTC], ["category_id", 4], ["dimension", "{\"h\":7.6,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 4]]
  [1m[35m (3.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Champagne Witch"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Champagne Witch"], ["desc", "Repudiandae aspernatur nobis enim dolor asperiores nemo sit sequi. Vitae corporis illo ex dolores veniam eum porro aspernatur. Sed aspernatur sit sint et eos magnam voluptatem. Ut est sunt tenetur doloribus aut libero. Voluptatem officia rerum atque quae."], ["price", #<BigDecimal:b2f72a8,'0.1382E2',18(27)>], ["count", 315], ["created_at", 2017-03-20 12:39:57 UTC], ["updated_at", 2017-03-20 12:39:57 UTC], ["category_id", 4], ["dimension", "{\"h\":9.1,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 4]]
  [1m[35m (4.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Champagne Dreams"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Champagne Dreams"], ["desc", "Molestiae dolore sequi quibusdam modi quia dolores non. Nobis consequatur praesentium corporis tempora et. Ea et nihil expedita natus et voluptatem sed. Aperiam neque et labore nesciunt ut est praesentium."], ["price", #<BigDecimal:b2e236c,'0.1313E2',18(27)>], ["count", 242], ["created_at", 2017-03-20 12:39:57 UTC], ["updated_at", 2017-03-20 12:39:57 UTC], ["category_id", 4], ["dimension", "{\"h\":8.4,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 4]]
  [1m[35m (3.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Forbidden Men"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Forbidden Men"], ["desc", "Sit eligendi ea et qui. Repudiandae suscipit rem et vero. Molestias sit dolor dolorem rem."], ["price", #<BigDecimal:b2c5578,'0.1932E2',18(27)>], ["count", 196], ["created_at", 2017-03-20 12:39:57 UTC], ["updated_at", 2017-03-20 12:39:57 UTC], ["category_id", 4], ["dimension", "{\"h\":8.7,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 4]]
  [1m[35m (4.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Dangerous Diaries"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Dangerous Diaries"], ["desc", "Aut quam facere dolore veniam blanditiis. Blanditiis sit possimus sit sed quae beatae voluptatem. Mollitia consequatur delectus iste quo sunt placeat."], ["price", #<BigDecimal:d09f044,'0.1598E2',18(27)>], ["count", 452], ["created_at", 2017-03-20 12:39:57 UTC], ["updated_at", 2017-03-20 12:39:57 UTC], ["category_id", 4], ["dimension", "{\"h\":5.7,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 4]]
  [1m[35m (3.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Season of the Fake Ninja"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Season of the Fake Ninja"], ["desc", "Voluptatem aut doloremque nulla error perspiciatis officiis et. Consequatur eaque voluptatum reiciendis est. Sunt dolore dolorem est beatae reprehenderit consequatur optio eaque. Qui est est excepturi inventore. Dolorum voluptatum a quos perferendis."], ["price", #<BigDecimal:d0b2be4,'0.1482E2',18(27)>], ["count", 285], ["created_at", 2017-03-20 12:39:57 UTC], ["updated_at", 2017-03-20 12:39:57 UTC], ["category_id", 5], ["dimension", "{\"h\":9.6,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 5]]
  [1m[35m (4.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Invasion of the Flying Man"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Invasion of the Flying Man"], ["desc", "Autem explicabo id vel voluptatum. Reprehenderit provident est nam in. Labore in et mollitia rerum id perferendis voluptates adipisci. Maxime qui assumenda voluptas est inventore."], ["price", #<BigDecimal:d0c85fc,'0.1773E2',18(27)>], ["count", 363], ["created_at", 2017-03-20 12:39:57 UTC], ["updated_at", 2017-03-20 12:39:57 UTC], ["category_id", 5], ["dimension", "{\"h\":7.1,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 5]]
  [1m[35m (3.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Return of the Tokyo Beast"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Return of the Tokyo Beast"], ["desc", "Consequuntur velit laborum magni veritatis fugit reiciendis fugiat. Nesciunt qui et et ea dolorum. Molestias non qui neque quo."], ["price", #<BigDecimal:d0e11ec,'0.1284E2',18(27)>], ["count", 447], ["created_at", 2017-03-20 12:39:57 UTC], ["updated_at", 2017-03-20 12:39:57 UTC], ["category_id", 5], ["dimension", "{\"h\":9.5,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 5]]
  [1m[35m (4.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Planet of the Death Man"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Planet of the Death Man"], ["desc", "Iste eum eos id odit voluptatem ab commodi maiores. Et quisquam soluta quibusdam ut assumenda iure. Animi et sequi et dolor eum voluptates. Voluptatem ipsam qui repellendus provident. Id numquam in possimus at non et aut."], ["price", #<BigDecimal:d0f4224,'0.1296E2',18(27)>], ["count", 365], ["created_at", 2017-03-20 12:39:57 UTC], ["updated_at", 2017-03-20 12:39:57 UTC], ["category_id", 5], ["dimension", "{\"h\":9.2,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 5]]
  [1m[35m (4.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Planet of the Death Cousins"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Planet of the Death Cousins"], ["desc", "Id velit voluptatem et accusamus repellat et aut. Aliquam nihil occaecati quia aperiam rerum. Doloribus incidunt ipsum at qui dicta libero exercitationem aliquam."], ["price", #<BigDecimal:d10c464,'0.1199E2',18(27)>], ["count", 189], ["created_at", 2017-03-20 12:39:57 UTC], ["updated_at", 2017-03-20 12:39:57 UTC], ["category_id", 5], ["dimension", "{\"h\":5.3,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 5]]
  [1m[35m (3.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Day of the Danger Beast"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Day of the Danger Beast"], ["desc", "Corrupti ipsum quos accusamus neque. Et id iusto repellat animi sint beatae earum nemo. Saepe et rerum similique aut. Odit voluptatem repellat excepturi in."], ["price", #<BigDecimal:b1f1c00,'0.1815E2',18(27)>], ["count", 411], ["created_at", 2017-03-20 12:39:57 UTC], ["updated_at", 2017-03-20 12:39:57 UTC], ["category_id", 5], ["dimension", "{\"h\":6.9,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 5]]
  [1m[35m (4.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Bloody Beast"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Bloody Beast"], ["desc", "Architecto qui illum autem et dignissimos et et. Sed et voluptas sapiente ut iste sed maxime. Quasi sit nobis animi est deserunt."], ["price", #<BigDecimal:b1d12c0,'0.1544E2',18(27)>], ["count", 124], ["created_at", 2017-03-20 12:39:57 UTC], ["updated_at", 2017-03-20 12:39:57 UTC], ["category_id", 5], ["dimension", "{\"h\":8.8,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 5]]
  [1m[35m (4.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Green Beast"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Green Beast"], ["desc", "Quia ipsa tempora reprehenderit officiis id aperiam beatae doloribus. In veniam error totam eum. Unde itaque ipsam culpa voluptatum et."], ["price", #<BigDecimal:b1a8ec4,'0.1848E2',18(27)>], ["count", 479], ["created_at", 2017-03-20 12:39:57 UTC], ["updated_at", 2017-03-20 12:39:57 UTC], ["category_id", 5], ["dimension", "{\"h\":6.9,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 5]]
  [1m[35m (3.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Fake Ninja"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Fake Ninja"], ["desc", "Expedita tempore exercitationem ut et officiis aut et optio. Dolor officia libero odio molestias qui. Ad quod quo delectus labore deserunt deleniti. Saepe animi error cum molestiae tempore voluptatum accusantium. Officiis quas sit maxime quo."], ["price", #<BigDecimal:d16b3ec,'0.1849E2',18(27)>], ["count", 327], ["created_at", 2017-03-20 12:39:57 UTC], ["updated_at", 2017-03-20 12:39:57 UTC], ["category_id", 5], ["dimension", "{\"h\":8.4,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 5]]
  [1m[35m (4.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Invasion of the Flying Dreams"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Invasion of the Flying Dreams"], ["desc", "Voluptatem est commodi nulla saepe aliquam repudiandae deleniti explicabo. Vel sit magni corrupti aut sunt ipsa. Aliquid nisi distinctio est aut omnis cumque omnis enim. Architecto officiis deserunt sint eius. Provident repellendus et illo quas aut aperiam atque."], ["price", #<BigDecimal:d17ede8,'0.124E2',18(27)>], ["count", 103], ["created_at", 2017-03-20 12:39:57 UTC], ["updated_at", 2017-03-20 12:39:57 UTC], ["category_id", 5], ["dimension", "{\"h\":8.3,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 5]]
  [1m[35m (3.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Return of the Green Blow"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Return of the Green Blow"], ["desc", "Ipsa aperiam similique quia nulla. Praesentium recusandae illo magnam culpa aut fugit. Velit autem sequi totam quia. Sit consequuntur quis voluptatem possimus et."], ["price", #<BigDecimal:d19285c,'0.1138E2',18(27)>], ["count", 444], ["created_at", 2017-03-20 12:39:57 UTC], ["updated_at", 2017-03-20 12:39:57 UTC], ["category_id", 5], ["dimension", "{\"h\":9.2,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 5]]
  [1m[35m (4.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "The Red Identity"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "The Red Identity"], ["desc", "Impedit neque corporis fugiat aspernatur adipisci maiores. Rerum recusandae et et expedita quia ut. Sapiente quia et velit accusamus in aut."], ["price", #<BigDecimal:d1a5f88,'0.1583E2',18(27)>], ["count", 261], ["created_at", 2017-03-20 12:39:57 UTC], ["updated_at", 2017-03-20 12:39:57 UTC], ["category_id", 5], ["dimension", "{\"h\":8.8,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 5]]
  [1m[35m (4.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Blue City"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Blue City"], ["desc", "Expedita et porro magnam commodi. Ut voluptas rerum voluptates eligendi quo nam. Possimus sint dolor rerum consequuntur quibusdam iusto. Velit et et rerum tempora. Et libero id maxime mollitia non praesentium quia."], ["price", #<BigDecimal:d1b8174,'0.1503E2',18(27)>], ["count", 312], ["created_at", 2017-03-20 12:39:57 UTC], ["updated_at", 2017-03-20 12:39:57 UTC], ["category_id", 5], ["dimension", "{\"h\":5.4,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 5]]
  [1m[35m (4.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Electric Monster"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Electric Monster"], ["desc", "Explicabo eligendi aliquam exercitationem nisi ea commodi minima saepe. Aliquam placeat mollitia praesentium maiores fuga tenetur unde amet. Ducimus odit architecto placeat perspiciatis nihil ut. Nostrum ab dolore natus molestiae unde."], ["price", #<BigDecimal:b0ef154,'0.1611E2',18(27)>], ["count", 232], ["created_at", 2017-03-20 12:39:57 UTC], ["updated_at", 2017-03-20 12:39:57 UTC], ["category_id", 5], ["dimension", "{\"h\":5.7,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 5]]
  [1m[35m (3.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.4ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" WHERE "materials"."name" = $1 LIMIT $2[0m  [["name", "glossy paper"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 LIMIT $2[0m  [["name", "glossy paper"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "materials" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "glossy paper"], ["created_at", 2017-03-20 12:39:57 UTC], ["updated_at", 2017-03-20 12:39:57 UTC]]
  [1m[35m (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.3ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" WHERE "materials"."name" = $1 LIMIT $2[0m  [["name", "wood"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 LIMIT $2[0m  [["name", "wood"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "materials" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "wood"], ["created_at", 2017-03-20 12:39:57 UTC], ["updated_at", 2017-03-20 12:39:57 UTC]]
  [1m[35m (6.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.3ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" WHERE "materials"."name" = $1 LIMIT $2[0m  [["name", "textile"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 LIMIT $2[0m  [["name", "textile"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "materials" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "textile"], ["created_at", 2017-03-20 12:39:57 UTC], ["updated_at", 2017-03-20 12:39:57 UTC]]
  [1m[35m (7.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.3ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" WHERE "materials"."name" = $1 LIMIT $2[0m  [["name", "glass"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 LIMIT $2[0m  [["name", "glass"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "materials" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "glass"], ["created_at", 2017-03-20 12:39:57 UTC], ["updated_at", 2017-03-20 12:39:57 UTC]]
  [1m[35m (7.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT  "books".* FROM "books" ORDER BY "books"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Mozell"], ["id", 18], ["last_name", "Bosco"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 18], ["book_id", 1]]
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Annetta"], ["id", 19], ["last_name", "Jakubowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 1]]
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Bradly"], ["id", 20], ["last_name", "Gutkowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 1]]
  [1m[35m (10.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.3ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mMaterial Load (0.5ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 1], ["material_id", 4]]
  [1m[35m (13.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Mozell"], ["id", 18], ["last_name", "Bosco"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 18], ["book_id", 2]]
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Annetta"], ["id", 19], ["last_name", "Jakubowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 2]]
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Bradly"], ["id", 20], ["last_name", "Gutkowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 2]]
  [1m[35m (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.3ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mMaterial Load (0.3ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 2], ["material_id", 3]]
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 2], ["material_id", 4]]
  [1m[35m (8.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Annetta"], ["id", 19], ["last_name", "Jakubowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 3]]
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Bradly"], ["id", 20], ["last_name", "Gutkowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 3]]
  [1m[35m (8.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.3ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mMaterial Load (0.4ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "wood"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 3], ["material_id", 2]]
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 3], ["material_id", 3]]
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 3], ["material_id", 4]]
  [1m[35m (4.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Mozell"], ["id", 18], ["last_name", "Bosco"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 18], ["book_id", 4]]
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Annetta"], ["id", 19], ["last_name", "Jakubowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 4]]
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Bradly"], ["id", 20], ["last_name", "Gutkowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 4]]
  [1m[35m (3.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.2ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mMaterial Load (0.3ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 4], ["material_id", 3]]
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 4], ["material_id", 4]]
  [1m[35m (9.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 5]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Annetta"], ["id", 19], ["last_name", "Jakubowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 5]]
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Bradly"], ["id", 20], ["last_name", "Gutkowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 5]]
  [1m[35m (8.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.3ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mMaterial Load (0.4ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 5]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "wood"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 5], ["material_id", 2]]
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 5], ["material_id", 3]]
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 5], ["material_id", 4]]
  [1m[35m (4.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 6]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Bradly"], ["id", 20], ["last_name", "Gutkowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 6]]
  [1m[35m (2.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.3ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mMaterial Load (0.4ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 6]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 6], ["material_id", 3]]
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 6], ["material_id", 4]]
  [1m[35m (8.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 7]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Bradly"], ["id", 20], ["last_name", "Gutkowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 7]]
  [1m[35m (2.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.3ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mMaterial Load (0.2ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 7]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 7], ["material_id", 3]]
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 7], ["material_id", 4]]
  [1m[35m (9.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 8]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Mozell"], ["id", 18], ["last_name", "Bosco"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 18], ["book_id", 8]]
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Annetta"], ["id", 19], ["last_name", "Jakubowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 8]]
  [1m[36mAuthor Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Bradly"], ["id", 20], ["last_name", "Gutkowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 8]]
  [1m[35m (4.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.2ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mMaterial Load (0.2ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 8]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 8], ["material_id", 4]]
  [1m[35m (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 9]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Mozell"], ["id", 18], ["last_name", "Bosco"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 18], ["book_id", 9]]
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Annetta"], ["id", 19], ["last_name", "Jakubowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 9]]
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Bradly"], ["id", 20], ["last_name", "Gutkowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 9]]
  [1m[35m (3.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.3ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mMaterial Load (0.2ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 9]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "wood"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 9], ["material_id", 2]]
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 9], ["material_id", 3]]
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 9], ["material_id", 4]]
  [1m[35m (4.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 10]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Annetta"], ["id", 19], ["last_name", "Jakubowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 10]]
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Bradly"], ["id", 20], ["last_name", "Gutkowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 10]]
  [1m[35m (8.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.3ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mMaterial Load (0.2ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 10]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 10], ["material_id", 4]]
  [1m[35m (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 11]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Annetta"], ["id", 19], ["last_name", "Jakubowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 11]]
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Bradly"], ["id", 20], ["last_name", "Gutkowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 11]]
  [1m[35m (8.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.3ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mMaterial Load (0.2ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 11]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "wood"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 11], ["material_id", 2]]
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 11], ["material_id", 3]]
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 11], ["material_id", 4]]
  [1m[35m (4.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 12]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Bradly"], ["id", 20], ["last_name", "Gutkowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 12]]
  [1m[35m (2.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.3ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mMaterial Load (0.2ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 12]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 12], ["material_id", 3]]
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 12], ["material_id", 4]]
  [1m[35m (8.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 13]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Bradly"], ["id", 20], ["last_name", "Gutkowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 13]]
  [1m[35m (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.3ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mMaterial Load (0.2ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 13]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "wood"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 13], ["material_id", 2]]
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 13], ["material_id", 3]]
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 13], ["material_id", 4]]
  [1m[35m (4.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 14]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Annetta"], ["id", 19], ["last_name", "Jakubowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 14]]
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Bradly"], ["id", 20], ["last_name", "Gutkowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 14]]
  [1m[35m (8.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.3ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mMaterial Load (0.2ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 14]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 14], ["material_id", 3]]
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 14], ["material_id", 4]]
  [1m[35m (9.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 15]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Mozell"], ["id", 18], ["last_name", "Bosco"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 18], ["book_id", 15]]
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Annetta"], ["id", 19], ["last_name", "Jakubowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 15]]
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Bradly"], ["id", 20], ["last_name", "Gutkowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 15]]
  [1m[35m (3.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.2ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mMaterial Load (0.2ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 15]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 15], ["material_id", 3]]
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 15], ["material_id", 4]]
  [1m[35m (9.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 16]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Mozell"], ["id", 18], ["last_name", "Bosco"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 18], ["book_id", 16]]
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Annetta"], ["id", 19], ["last_name", "Jakubowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 16]]
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Bradly"], ["id", 20], ["last_name", "Gutkowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 16]]
  [1m[35m (4.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.3ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mMaterial Load (0.2ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 16]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 16], ["material_id", 3]]
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 16], ["material_id", 4]]
  [1m[35m (9.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 17]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Annetta"], ["id", 19], ["last_name", "Jakubowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 17]]
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Bradly"], ["id", 20], ["last_name", "Gutkowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 17]]
  [1m[35m (8.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.3ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mMaterial Load (0.2ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 17]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "wood"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 17], ["material_id", 2]]
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 17], ["material_id", 3]]
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 17], ["material_id", 4]]
  [1m[35m (4.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 18]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Bradly"], ["id", 20], ["last_name", "Gutkowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 18]]
  [1m[35m (2.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.3ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mMaterial Load (0.2ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 18]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 18], ["material_id", 3]]
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 18], ["material_id", 4]]
  [1m[35m (9.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 19]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Annetta"], ["id", 19], ["last_name", "Jakubowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 19]]
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Bradly"], ["id", 20], ["last_name", "Gutkowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 19]]
  [1m[35m (9.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.3ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mMaterial Load (0.2ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 19]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 19], ["material_id", 4]]
  [1m[35m (2.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 20]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Bradly"], ["id", 20], ["last_name", "Gutkowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 20]]
  [1m[35m (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.3ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mMaterial Load (0.2ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 20]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 20], ["material_id", 3]]
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 20], ["material_id", 4]]
  [1m[35m (9.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 21]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Annetta"], ["id", 19], ["last_name", "Jakubowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 21]]
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Bradly"], ["id", 20], ["last_name", "Gutkowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 21]]
  [1m[35m (8.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.3ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mMaterial Load (0.2ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 21]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 21], ["material_id", 3]]
  [1m[36mMaterial Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 21], ["material_id", 4]]
  [1m[35m (8.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 22]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Mozell"], ["id", 18], ["last_name", "Bosco"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 18], ["book_id", 22]]
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Annetta"], ["id", 19], ["last_name", "Jakubowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 22]]
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Bradly"], ["id", 20], ["last_name", "Gutkowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 22]]
  [1m[35m (3.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.3ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mMaterial Load (0.2ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 22]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 22], ["material_id", 4]]
  [1m[35m (2.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 23]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Bradly"], ["id", 20], ["last_name", "Gutkowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 23]]
  [1m[35m (2.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.3ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mMaterial Load (0.2ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 23]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 23], ["material_id", 4]]
  [1m[35m (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 24]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Mozell"], ["id", 18], ["last_name", "Bosco"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 18], ["book_id", 24]]
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Annetta"], ["id", 19], ["last_name", "Jakubowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 24]]
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Bradly"], ["id", 20], ["last_name", "Gutkowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 24]]
  [1m[35m (4.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.3ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mMaterial Load (0.2ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 24]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "wood"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 24], ["material_id", 2]]
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 24], ["material_id", 3]]
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 24], ["material_id", 4]]
  [1m[35m (4.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 25]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Annetta"], ["id", 19], ["last_name", "Jakubowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 25]]
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Bradly"], ["id", 20], ["last_name", "Gutkowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 25]]
  [1m[35m (8.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.3ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mMaterial Load (0.2ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 25]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 25], ["material_id", 4]]
  [1m[35m (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 26]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Mozell"], ["id", 18], ["last_name", "Bosco"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 18], ["book_id", 26]]
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Annetta"], ["id", 19], ["last_name", "Jakubowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 26]]
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Bradly"], ["id", 20], ["last_name", "Gutkowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 26]]
  [1m[35m (4.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.3ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mMaterial Load (0.2ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 26]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "wood"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 26], ["material_id", 2]]
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 26], ["material_id", 3]]
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 26], ["material_id", 4]]
  [1m[35m (4.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 27]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Annetta"], ["id", 19], ["last_name", "Jakubowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 27]]
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Bradly"], ["id", 20], ["last_name", "Gutkowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 27]]
  [1m[35m (8.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.2ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mMaterial Load (0.2ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 27]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 27], ["material_id", 4]]
  [1m[35m (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 28]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Mozell"], ["id", 18], ["last_name", "Bosco"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 18], ["book_id", 28]]
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Annetta"], ["id", 19], ["last_name", "Jakubowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 28]]
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Bradly"], ["id", 20], ["last_name", "Gutkowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 28]]
  [1m[35m (3.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.3ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mMaterial Load (0.2ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 28]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "wood"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 28], ["material_id", 2]]
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 28], ["material_id", 3]]
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 28], ["material_id", 4]]
  [1m[35m (4.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 29]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Annetta"], ["id", 19], ["last_name", "Jakubowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 29]]
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Bradly"], ["id", 20], ["last_name", "Gutkowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 29]]
  [1m[35m (8.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.3ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mMaterial Load (0.2ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 29]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 29], ["material_id", 4]]
  [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 30]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Annetta"], ["id", 19], ["last_name", "Jakubowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 30]]
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Bradly"], ["id", 20], ["last_name", "Gutkowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 30]]
  [1m[35m (10.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.3ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mMaterial Load (0.2ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 30]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "wood"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 30], ["material_id", 2]]
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 30], ["material_id", 3]]
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 30], ["material_id", 4]]
  [1m[35m (3.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 31]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Annetta"], ["id", 19], ["last_name", "Jakubowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 31]]
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Bradly"], ["id", 20], ["last_name", "Gutkowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 31]]
  [1m[35m (8.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.3ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mMaterial Load (0.2ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 31]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 31], ["material_id", 3]]
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 31], ["material_id", 4]]
  [1m[35m (8.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 32]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Mozell"], ["id", 18], ["last_name", "Bosco"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 18], ["book_id", 32]]
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Annetta"], ["id", 19], ["last_name", "Jakubowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 32]]
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Bradly"], ["id", 20], ["last_name", "Gutkowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 32]]
  [1m[35m (3.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.2ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mMaterial Load (0.2ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 32]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 32], ["material_id", 3]]
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 32], ["material_id", 4]]
  [1m[35m (9.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 33]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Bradly"], ["id", 20], ["last_name", "Gutkowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 33]]
  [1m[35m (2.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.2ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mMaterial Load (0.2ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 33]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "wood"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 33], ["material_id", 2]]
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 33], ["material_id", 3]]
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 33], ["material_id", 4]]
  [1m[35m (4.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 34]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Mozell"], ["id", 18], ["last_name", "Bosco"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 18], ["book_id", 34]]
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Annetta"], ["id", 19], ["last_name", "Jakubowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 34]]
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Bradly"], ["id", 20], ["last_name", "Gutkowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 34]]
  [1m[35m (4.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.2ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mMaterial Load (0.2ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 34]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "wood"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 34], ["material_id", 2]]
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 34], ["material_id", 3]]
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 34], ["material_id", 4]]
  [1m[35m (4.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 35]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Bradly"], ["id", 20], ["last_name", "Gutkowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 35]]
  [1m[35m (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.2ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mMaterial Load (0.2ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 35]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 35], ["material_id", 3]]
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 35], ["material_id", 4]]
  [1m[35m (9.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 36]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Mozell"], ["id", 18], ["last_name", "Bosco"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 18], ["book_id", 36]]
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Annetta"], ["id", 19], ["last_name", "Jakubowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 36]]
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Bradly"], ["id", 20], ["last_name", "Gutkowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 36]]
  [1m[35m (4.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.2ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mMaterial Load (0.2ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 36]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 36], ["material_id", 4]]
  [1m[35m (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 37]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Bradly"], ["id", 20], ["last_name", "Gutkowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 37]]
  [1m[35m (3.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.2ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mMaterial Load (0.2ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 37]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "wood"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 37], ["material_id", 2]]
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 37], ["material_id", 3]]
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 37], ["material_id", 4]]
  [1m[35m (4.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 38]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Bradly"], ["id", 20], ["last_name", "Gutkowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 38]]
  [1m[35m (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.2ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mMaterial Load (0.2ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 38]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 38], ["material_id", 3]]
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 38], ["material_id", 4]]
  [1m[35m (9.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 39]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Bradly"], ["id", 20], ["last_name", "Gutkowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 39]]
  [1m[35m (2.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.3ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mMaterial Load (0.2ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 39]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 39], ["material_id", 3]]
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 39], ["material_id", 4]]
  [1m[35m (9.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 40]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Bradly"], ["id", 20], ["last_name", "Gutkowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 40]]
  [1m[35m (2.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.3ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mMaterial Load (0.2ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 40]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "wood"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 40], ["material_id", 2]]
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 40], ["material_id", 3]]
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 40], ["material_id", 4]]
  [1m[35m (4.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 41]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Bradly"], ["id", 20], ["last_name", "Gutkowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 41]]
  [1m[35m (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.3ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mMaterial Load (0.2ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 41]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 41], ["material_id", 4]]
  [1m[35m (2.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 42]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Annetta"], ["id", 19], ["last_name", "Jakubowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 42]]
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Bradly"], ["id", 20], ["last_name", "Gutkowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 42]]
  [1m[35m (8.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.3ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mMaterial Load (0.2ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 42]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "wood"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 42], ["material_id", 2]]
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 42], ["material_id", 3]]
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 42], ["material_id", 4]]
  [1m[35m (4.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 43]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Mozell"], ["id", 18], ["last_name", "Bosco"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 18], ["book_id", 43]]
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Annetta"], ["id", 19], ["last_name", "Jakubowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 43]]
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Bradly"], ["id", 20], ["last_name", "Gutkowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 43]]
  [1m[35m (4.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.3ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mMaterial Load (0.2ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 43]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "wood"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 43], ["material_id", 2]]
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 43], ["material_id", 3]]
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 43], ["material_id", 4]]
  [1m[35m (4.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 44]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Annetta"], ["id", 19], ["last_name", "Jakubowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 44]]
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Bradly"], ["id", 20], ["last_name", "Gutkowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 44]]
  [1m[35m (8.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.3ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mMaterial Load (0.2ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 44]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "wood"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 44], ["material_id", 2]]
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 44], ["material_id", 3]]
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 44], ["material_id", 4]]
  [1m[35m (4.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 45]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Annetta"], ["id", 19], ["last_name", "Jakubowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 45]]
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Bradly"], ["id", 20], ["last_name", "Gutkowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 45]]
  [1m[35m (8.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.3ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mMaterial Load (0.3ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 45]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "wood"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 45], ["material_id", 2]]
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 45], ["material_id", 3]]
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 45], ["material_id", 4]]
  [1m[35m (4.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 46]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Mozell"], ["id", 18], ["last_name", "Bosco"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 18], ["book_id", 46]]
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Annetta"], ["id", 19], ["last_name", "Jakubowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 46]]
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Bradly"], ["id", 20], ["last_name", "Gutkowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 46]]
  [1m[35m (3.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.3ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mMaterial Load (0.3ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 46]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "wood"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 46], ["material_id", 2]]
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 46], ["material_id", 3]]
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 46], ["material_id", 4]]
  [1m[35m (4.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 47]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Bradly"], ["id", 20], ["last_name", "Gutkowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 47]]
  [1m[35m (2.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.3ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mMaterial Load (0.2ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 47]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 47], ["material_id", 3]]
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 47], ["material_id", 4]]
  [1m[35m (9.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 48]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Mozell"], ["id", 18], ["last_name", "Bosco"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 18], ["book_id", 48]]
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Annetta"], ["id", 19], ["last_name", "Jakubowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 48]]
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Bradly"], ["id", 20], ["last_name", "Gutkowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 48]]
  [1m[35m (4.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.3ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mMaterial Load (0.2ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 48]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "wood"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 48], ["material_id", 2]]
  [1m[36mMaterial Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 48], ["material_id", 3]]
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 48], ["material_id", 4]]
  [1m[35m (3.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 49]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Bradly"], ["id", 20], ["last_name", "Gutkowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 49]]
  [1m[35m (13.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.3ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mMaterial Load (0.2ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 49]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 49], ["material_id", 4]]
  [1m[35m (2.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 50]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Bradly"], ["id", 20], ["last_name", "Gutkowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 50]]
  [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.3ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mMaterial Load (0.2ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 50]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 50], ["material_id", 3]]
  [1m[36mMaterial Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 50], ["material_id", 4]]
  [1m[35m (8.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 51]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Bradly"], ["id", 20], ["last_name", "Gutkowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 51]]
  [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.3ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mMaterial Load (0.2ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 51]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "wood"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 51], ["material_id", 2]]
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 51], ["material_id", 3]]
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 51], ["material_id", 4]]
  [1m[35m (4.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 52]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Annetta"], ["id", 19], ["last_name", "Jakubowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 52]]
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Bradly"], ["id", 20], ["last_name", "Gutkowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 52]]
  [1m[35m (9.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.2ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mMaterial Load (0.2ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 52]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "wood"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 52], ["material_id", 2]]
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 52], ["material_id", 3]]
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 52], ["material_id", 4]]
  [1m[35m (4.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 53]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Annetta"], ["id", 19], ["last_name", "Jakubowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 53]]
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Bradly"], ["id", 20], ["last_name", "Gutkowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 53]]
  [1m[35m (8.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.2ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mMaterial Load (0.2ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 53]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 53], ["material_id", 3]]
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 53], ["material_id", 4]]
  [1m[35m (9.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 54]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Bradly"], ["id", 20], ["last_name", "Gutkowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 54]]
  [1m[35m (13.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.3ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mMaterial Load (0.2ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 54]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 54], ["material_id", 4]]
  [1m[35m (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 55]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Annetta"], ["id", 19], ["last_name", "Jakubowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 55]]
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Bradly"], ["id", 20], ["last_name", "Gutkowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 55]]
  [1m[35m (8.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.2ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mMaterial Load (0.2ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 55]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "wood"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 55], ["material_id", 2]]
  [1m[36mMaterial Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 55], ["material_id", 3]]
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 55], ["material_id", 4]]
  [1m[35m (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 56]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Bradly"], ["id", 20], ["last_name", "Gutkowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 56]]
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.2ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mMaterial Load (0.2ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 56]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 56], ["material_id", 3]]
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 56], ["material_id", 4]]
  [1m[35m (8.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 57]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Annetta"], ["id", 19], ["last_name", "Jakubowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 57]]
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Bradly"], ["id", 20], ["last_name", "Gutkowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 57]]
  [1m[35m (8.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.2ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mMaterial Load (0.2ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 57]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 57], ["material_id", 3]]
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 57], ["material_id", 4]]
  [1m[35m (9.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 58]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Bradly"], ["id", 20], ["last_name", "Gutkowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 58]]
  [1m[35m (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.3ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mMaterial Load (0.2ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 58]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "wood"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 58], ["material_id", 2]]
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 58], ["material_id", 3]]
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 58], ["material_id", 4]]
  [1m[35m (4.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 59]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Annetta"], ["id", 19], ["last_name", "Jakubowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 59]]
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Bradly"], ["id", 20], ["last_name", "Gutkowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 59]]
  [1m[35m (8.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.2ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mMaterial Load (0.2ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 59]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 59], ["material_id", 3]]
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 59], ["material_id", 4]]
  [1m[35m (8.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 60]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Annetta"], ["id", 19], ["last_name", "Jakubowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 60]]
  [1m[36mAuthor Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Bradly"], ["id", 20], ["last_name", "Gutkowski"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 60]]
  [1m[35m (7.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.3ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mMaterial Load (0.3ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 60]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "wood"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 60], ["material_id", 2]]
  [1m[36mMaterial Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 60], ["material_id", 3]]
  [1m[36mMaterial Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 60], ["material_id", 4]]
  [1m[35m (12.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCountry Load (0.4ms)[0m  [1m[34mSELECT  "countries".* FROM "countries" WHERE "countries"."name" = $1 AND "countries"."code" = $2 LIMIT $3[0m  [["name", :Ukraine], ["code", "380"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at", "code") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ukraine"], ["created_at", 2017-03-20 12:40:00 UTC], ["updated_at", 2017-03-20 12:40:00 UTC], ["code", "380"]]
  [1m[35m (5.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCountry Load (0.3ms)[0m  [1m[34mSELECT  "countries".* FROM "countries" WHERE "countries"."name" = $1 AND "countries"."code" = $2 LIMIT $3[0m  [["name", :Russia], ["code", "230"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at", "code") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Russia"], ["created_at", 2017-03-20 12:40:00 UTC], ["updated_at", 2017-03-20 12:40:00 UTC], ["code", "230"]]
  [1m[35m (8.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCountry Load (0.3ms)[0m  [1m[34mSELECT  "countries".* FROM "countries" ORDER BY "countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[36mDelivery Load (0.4ms)[0m  [1m[34mSELECT  "deliveries".* FROM "deliveries" WHERE "deliveries"."name" = $1 LIMIT $2[0m  [["name", "UkraineStandart"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDelivery Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "deliveries" WHERE "deliveries"."name" = $1 AND "deliveries"."country_id" = 1 LIMIT $2[0m  [["name", "UkraineStandart"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "deliveries" ("name", "price", "min_days", "max_days", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "UkraineStandart"], ["price", #<BigDecimal:c86052c,'0.95E2',9(18)>], ["min_days", 6], ["max_days", 16], ["country_id", 1], ["created_at", 2017-03-20 12:40:00 UTC], ["updated_at", 2017-03-20 12:40:00 UTC]]
  [1m[35m (8.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mDelivery Load (0.3ms)[0m  [1m[34mSELECT  "deliveries".* FROM "deliveries" WHERE "deliveries"."name" = $1 LIMIT $2[0m  [["name", "UkraineExpress"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDelivery Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "deliveries" WHERE "deliveries"."name" = $1 AND "deliveries"."country_id" = 1 LIMIT $2[0m  [["name", "UkraineExpress"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "deliveries" ("name", "price", "min_days", "max_days", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "UkraineExpress"], ["price", #<BigDecimal:c837e24,'0.48E2',9(18)>], ["min_days", 8], ["max_days", 18], ["country_id", 1], ["created_at", 2017-03-20 12:40:00 UTC], ["updated_at", 2017-03-20 12:40:00 UTC]]
  [1m[35m (6.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mDelivery Load (0.3ms)[0m  [1m[34mSELECT  "deliveries".* FROM "deliveries" WHERE "deliveries"."name" = $1 LIMIT $2[0m  [["name", "RussiaStandart"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDelivery Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "deliveries" WHERE "deliveries"."name" = $1 AND "deliveries"."country_id" = 2 LIMIT $2[0m  [["name", "RussiaStandart"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "deliveries" ("name", "price", "min_days", "max_days", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "RussiaStandart"], ["price", #<BigDecimal:c81aff4,'0.45E2',9(18)>], ["min_days", 9], ["max_days", 20], ["country_id", 2], ["created_at", 2017-03-20 12:40:00 UTC], ["updated_at", 2017-03-20 12:40:00 UTC]]
  [1m[35m (6.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mDelivery Load (0.3ms)[0m  [1m[34mSELECT  "deliveries".* FROM "deliveries" WHERE "deliveries"."name" = $1 LIMIT $2[0m  [["name", "RussiaExpress"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDelivery Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "deliveries" WHERE "deliveries"."name" = $1 AND "deliveries"."country_id" = 2 LIMIT $2[0m  [["name", "RussiaExpress"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "deliveries" ("name", "price", "min_days", "max_days", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "RussiaExpress"], ["price", #<BigDecimal:c8123cc,'0.93E2',9(18)>], ["min_days", 5], ["max_days", 15], ["country_id", 2], ["created_at", 2017-03-20 12:40:00 UTC], ["updated_at", 2017-03-20 12:40:00 UTC]]
  [1m[35m (6.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "yaroslav555@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "yaroslav555@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "admin", "confirmation_token", "confirmation_sent_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "yaroslav555@gmail.com"], ["encrypted_password", "$2a$11$cwdtRXwCd/9SuYEsLNLHueWToqqw0ywboQBbs2aVjbvwQ4VElAzF6"], ["created_at", 2017-03-20 12:40:00 UTC], ["updated_at", 2017-03-20 12:40:00 UTC], ["admin", true], ["confirmation_token", "x1DnVEQjXyRsmxHfncJG"], ["confirmation_sent_at", 2017-03-20 12:40:00 UTC]]
  [1m[35m (5.2ms)[0m  [1m[35mCOMMIT[0m
  Rendering devise/mailer/confirmation_instructions.html.erb
  Rendered devise/mailer/confirmation_instructions.html.erb (9.1ms)
Devise::Mailer#confirmation_instructions: processed outbound mail in 679.5ms
Sent mail to yaroslav555@gmail.com (90.2ms)
Date: Mon, 20 Mar 2017 14:40:01 +0200
From: amazon555@gmail.com
Reply-To: amazon555@gmail.com
To: yaroslav555@gmail.com
Message-ID: <58cfcda12b260_415845198c6123bf@oleg.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome yaroslav555@gmail.com!</p>

<p>You can confirm your account email through the link below:</p>

<p><a href="http://localhost:3000/confirmation?confirmation_token=x1DnVEQjXyRsmxHfncJG">Confirm my account</a></p>

  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[36mCreditCard Load (0.4ms)[0m  [1m[34mSELECT  "credit_cards".* FROM "credit_cards" WHERE "credit_cards"."number" = $1 AND "credit_cards"."user_id" = 1 LIMIT $2[0m  [["number", "5274576394259961"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.8ms)[0m  [1m[32mINSERT INTO "credit_cards" ("number", "cvv", "created_at", "updated_at", "user_id", "name", "month_year") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["number", "5274576394259961"], ["cvv", "123"], ["created_at", 2017-03-20 12:40:01 UTC], ["updated_at", 2017-03-20 12:40:01 UTC], ["user_id", 1], ["name", "Conception"], ["month_year", "12/17"]]
  [1m[35m (11.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "countries"[0m
  [1m[36mCountry Load (0.3ms)[0m  [1m[34mSELECT  "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "addresses" ("first_name", "last_name", "name", "country_id", "city", "zip", "phone", "created_at", "updated_at", "address_type") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["first_name", "Tressie"], ["last_name", "Hills"], ["name", "Leffler Hill"], ["country_id", 1], ["city", "Dnepr"], ["zip", "49000"], ["phone", "+380632863823"], ["created_at", 2017-03-20 12:40:01 UTC], ["updated_at", 2017-03-20 12:40:01 UTC], ["address_type", 1]]
  [1m[35m (4.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAddress Load (0.4ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 1], ["addressable_type", "User"], ["address_type", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "addresses" SET "addressable_type" = $1, "addressable_id" = $2, "updated_at" = $3 WHERE "addresses"."id" = $4[0m  [["addressable_type", "User"], ["addressable_id", 1], ["updated_at", 2017-03-20 12:40:01 UTC], ["id", 1]]
  [1m[35m (7.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "addresses" ("first_name", "last_name", "name", "country_id", "city", "zip", "phone", "created_at", "updated_at", "address_type") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["first_name", "Floy"], ["last_name", "Schamberger"], ["name", "Schiller Orchard"], ["country_id", 1], ["city", "Dnepr"], ["zip", "49000"], ["phone", "+380632863823"], ["created_at", 2017-03-20 12:40:01 UTC], ["updated_at", 2017-03-20 12:40:01 UTC], ["address_type", 0]]
  [1m[35m (7.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAddress Load (0.4ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 1], ["addressable_type", "User"], ["address_type", 0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "addresses" SET "addressable_type" = $1, "addressable_id" = $2, "updated_at" = $3 WHERE "addresses"."id" = $4[0m  [["addressable_type", "User"], ["addressable_id", 1], ["updated_at", 2017-03-20 12:40:01 UTC], ["id", 2]]
  [1m[35m (3.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mDelivery Load (0.4ms)[0m  [1m[34mSELECT  "deliveries".* FROM "deliveries" WHERE "deliveries"."country_id" = $1 ORDER BY "deliveries"."id" ASC LIMIT $2[0m  [["country_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "credit_cards" ("number", "cvv", "created_at", "updated_at", "user_id", "name", "month_year") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["number", "5274576394259961"], ["cvv", "123"], ["created_at", 2017-03-20 12:40:01 UTC], ["updated_at", 2017-03-20 12:40:01 UTC], ["user_id", 1], ["name", "Conception"], ["month_year", "12/17"]]
  [1m[35mSQL (1.6ms)[0m  [1m[32mINSERT INTO "orders" ("state", "created_at", "updated_at", "delivery_id", "credit_card_id", "total_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["state", "in_progress"], ["created_at", 2017-03-20 12:40:01 UTC], ["updated_at", 2017-03-20 12:40:01 UTC], ["delivery_id", 1], ["credit_card_id", 2], ["total_price", #<BigDecimal:cfe5194,'0.95E2',9(18)>]]
  [1m[35mSQL (2.8ms)[0m  [1m[32mINSERT INTO "addresses" ("addressable_type", "addressable_id", "first_name", "last_name", "name", "country_id", "city", "zip", "phone", "created_at", "updated_at", "address_type") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["addressable_type", "Order"], ["addressable_id", 1], ["first_name", "Floy"], ["last_name", "Schamberger"], ["name", "Schiller Orchard"], ["country_id", 1], ["city", "Dnepr"], ["zip", "49000"], ["phone", "+380632863823"], ["created_at", 2017-03-20 12:40:01 UTC], ["updated_at", 2017-03-20 12:40:01 UTC], ["address_type", 0]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "addresses" ("addressable_type", "addressable_id", "first_name", "last_name", "name", "country_id", "city", "zip", "phone", "created_at", "updated_at", "address_type") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["addressable_type", "Order"], ["addressable_id", 1], ["first_name", "Tressie"], ["last_name", "Hills"], ["name", "Leffler Hill"], ["country_id", 1], ["city", "Dnepr"], ["zip", "49000"], ["phone", "+380632863823"], ["created_at", 2017-03-20 12:40:01 UTC], ["updated_at", 2017-03-20 12:40:01 UTC], ["address_type", 1]]
  [1m[35m (67.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 23], ["LIMIT", 1]]
  [1m[35mSQL (1.6ms)[0m  [1m[32mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["book_id", 23], ["order_id", 1], ["created_at", 2017-03-20 12:40:01 UTC], ["updated_at", 2017-03-20 12:40:01 UTC]]
  [1m[35m (54.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "orders" SET "user_id" = $1, "updated_at" = $2, "total_price" = $3 WHERE "orders"."id" = $4[0m  [["user_id", 1], ["updated_at", 2017-03-20 12:40:01 UTC], ["total_price", #<BigDecimal:cedcd10,'0.12947E3',18(27)>], ["id", 1]]
  [1m[35m (128.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["book_id", 26], ["order_id", 1], ["created_at", 2017-03-20 12:40:01 UTC], ["updated_at", 2017-03-20 12:40:01 UTC]]
  [1m[35m (70.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "orders" SET "updated_at" = $1, "total_price" = $2 WHERE "orders"."id" = $3[0m  [["updated_at", 2017-03-20 12:40:01 UTC], ["total_price", #<BigDecimal:ce90f00,'0.15463E3',18(27)>], ["id", 1]]
  [1m[35m (11.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 32], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["book_id", 32], ["order_id", 1], ["created_at", 2017-03-20 12:40:01 UTC], ["updated_at", 2017-03-20 12:40:01 UTC]]
  [1m[35m (4.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "orders" SET "updated_at" = $1, "total_price" = $2 WHERE "orders"."id" = $3[0m  [["updated_at", 2017-03-20 12:40:02 UTC], ["total_price", #<BigDecimal:ce44650,'0.20206E3',18(27)>], ["id", 1]]
  [1m[35m (5.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mDelivery Load (0.3ms)[0m  [1m[34mSELECT  "deliveries".* FROM "deliveries" WHERE "deliveries"."country_id" = $1 ORDER BY "deliveries"."id" ASC LIMIT $2[0m  [["country_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "credit_cards" ("number", "cvv", "created_at", "updated_at", "user_id", "name", "month_year") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["number", "5274576394259961"], ["cvv", "123"], ["created_at", 2017-03-20 12:40:02 UTC], ["updated_at", 2017-03-20 12:40:02 UTC], ["user_id", 1], ["name", "Conception"], ["month_year", "12/17"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "orders" ("state", "created_at", "updated_at", "delivery_id", "credit_card_id", "total_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["state", "in_transit"], ["created_at", 2017-03-20 12:40:02 UTC], ["updated_at", 2017-03-20 12:40:02 UTC], ["delivery_id", 1], ["credit_card_id", 3], ["total_price", #<BigDecimal:cdf72c4,'0.95E2',9(18)>]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "addresses" ("addressable_type", "addressable_id", "first_name", "last_name", "name", "country_id", "city", "zip", "phone", "created_at", "updated_at", "address_type") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["addressable_type", "Order"], ["addressable_id", 2], ["first_name", "Floy"], ["last_name", "Schamberger"], ["name", "Schiller Orchard"], ["country_id", 1], ["city", "Dnepr"], ["zip", "49000"], ["phone", "+380632863823"], ["created_at", 2017-03-20 12:40:02 UTC], ["updated_at", 2017-03-20 12:40:02 UTC], ["address_type", 0]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "addresses" ("addressable_type", "addressable_id", "first_name", "last_name", "name", "country_id", "city", "zip", "phone", "created_at", "updated_at", "address_type") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["addressable_type", "Order"], ["addressable_id", 2], ["first_name", "Tressie"], ["last_name", "Hills"], ["name", "Leffler Hill"], ["country_id", 1], ["city", "Dnepr"], ["zip", "49000"], ["phone", "+380632863823"], ["created_at", 2017-03-20 12:40:02 UTC], ["updated_at", 2017-03-20 12:40:02 UTC], ["address_type", 1]]
  [1m[35m (8.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 42], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["book_id", 42], ["order_id", 2], ["created_at", 2017-03-20 12:40:02 UTC], ["updated_at", 2017-03-20 12:40:02 UTC]]
  [1m[35m (4.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "orders" SET "user_id" = $1, "updated_at" = $2, "total_price" = $3 WHERE "orders"."id" = $4[0m  [["user_id", 1], ["updated_at", 2017-03-20 12:40:02 UTC], ["total_price", #<BigDecimal:cd962e4,'0.11638E3',18(27)>], ["id", 2]]
  [1m[35m (6.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["book_id", 20], ["order_id", 2], ["created_at", 2017-03-20 12:40:02 UTC], ["updated_at", 2017-03-20 12:40:02 UTC]]
  [1m[35m (4.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "orders" SET "updated_at" = $1, "total_price" = $2 WHERE "orders"."id" = $3[0m  [["updated_at", 2017-03-20 12:40:02 UTC], ["total_price", #<BigDecimal:cd4b050,'0.12647E3',18(27)>], ["id", 2]]
  [1m[35m (6.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["book_id", 2], ["order_id", 2], ["created_at", 2017-03-20 12:40:02 UTC], ["updated_at", 2017-03-20 12:40:02 UTC]]
  [1m[35m (5.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "orders" SET "updated_at" = $1, "total_price" = $2 WHERE "orders"."id" = $3[0m  [["updated_at", 2017-03-20 12:40:02 UTC], ["total_price", #<BigDecimal:cd0b068,'0.16616E3',18(27)>], ["id", 2]]
  [1m[35m (6.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["book_id", 3], ["order_id", 2], ["created_at", 2017-03-20 12:40:02 UTC], ["updated_at", 2017-03-20 12:40:02 UTC]]
  [1m[35m (5.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "orders" SET "updated_at" = $1, "total_price" = $2 WHERE "orders"."id" = $3[0m  [["updated_at", 2017-03-20 12:40:02 UTC], ["total_price", #<BigDecimal:ccc3f9c,'0.22547E3',18(27)>], ["id", 2]]
  [1m[35m (6.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mDelivery Load (0.3ms)[0m  [1m[34mSELECT  "deliveries".* FROM "deliveries" WHERE "deliveries"."country_id" = $1 ORDER BY "deliveries"."id" ASC LIMIT $2[0m  [["country_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "credit_cards" ("number", "cvv", "created_at", "updated_at", "user_id", "name", "month_year") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["number", "5274576394259961"], ["cvv", "123"], ["created_at", 2017-03-20 12:40:02 UTC], ["updated_at", 2017-03-20 12:40:02 UTC], ["user_id", 1], ["name", "Conception"], ["month_year", "12/17"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "orders" ("state", "created_at", "updated_at", "delivery_id", "credit_card_id", "total_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["state", "in_progress"], ["created_at", 2017-03-20 12:40:02 UTC], ["updated_at", 2017-03-20 12:40:02 UTC], ["delivery_id", 1], ["credit_card_id", 4], ["total_price", #<BigDecimal:cc8ce98,'0.95E2',9(18)>]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "addresses" ("addressable_type", "addressable_id", "first_name", "last_name", "name", "country_id", "city", "zip", "phone", "created_at", "updated_at", "address_type") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["addressable_type", "Order"], ["addressable_id", 3], ["first_name", "Floy"], ["last_name", "Schamberger"], ["name", "Schiller Orchard"], ["country_id", 1], ["city", "Dnepr"], ["zip", "49000"], ["phone", "+380632863823"], ["created_at", 2017-03-20 12:40:02 UTC], ["updated_at", 2017-03-20 12:40:02 UTC], ["address_type", 0]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "addresses" ("addressable_type", "addressable_id", "first_name", "last_name", "name", "country_id", "city", "zip", "phone", "created_at", "updated_at", "address_type") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["addressable_type", "Order"], ["addressable_id", 3], ["first_name", "Tressie"], ["last_name", "Hills"], ["name", "Leffler Hill"], ["country_id", 1], ["city", "Dnepr"], ["zip", "49000"], ["phone", "+380632863823"], ["created_at", 2017-03-20 12:40:02 UTC], ["updated_at", 2017-03-20 12:40:02 UTC], ["address_type", 1]]
  [1m[35m (8.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["book_id", 14], ["order_id", 3], ["created_at", 2017-03-20 12:40:02 UTC], ["updated_at", 2017-03-20 12:40:02 UTC]]
  [1m[35m (4.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "orders" SET "user_id" = $1, "updated_at" = $2, "total_price" = $3 WHERE "orders"."id" = $4[0m  [["user_id", 1], ["updated_at", 2017-03-20 12:40:02 UTC], ["total_price", #<BigDecimal:ca78300,'0.12908E3',18(27)>], ["id", 3]]
  [1m[35m (6.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["book_id", 6], ["order_id", 3], ["created_at", 2017-03-20 12:40:02 UTC], ["updated_at", 2017-03-20 12:40:02 UTC]]
  [1m[35m (5.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "orders" SET "updated_at" = $1, "total_price" = $2 WHERE "orders"."id" = $3[0m  [["updated_at", 2017-03-20 12:40:02 UTC], ["total_price", #<BigDecimal:ca40644,'0.15164E3',18(27)>], ["id", 3]]
  [1m[35m (6.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/oleg/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/oleg/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
Started GET "/" for 127.0.0.1 at 2017-03-20 14:43:09 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by MainPagesController#home as HTML
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."title" = $1 LIMIT $2[0m  [["title", "Mobile"], ["LIMIT", 1]]
  [1m[36mBook Load (2.1ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" INNER JOIN "order_items" ON "order_items"."book_id" = "books"."id" INNER JOIN "orders" ON "orders"."id" = "order_items"."order_id" WHERE (lower(categories.title) = 'mobile') AND "orders"."state" = $1 GROUP BY order_items.book_id, books.id ORDER BY SUM(order_items.quantity) desc LIMIT $2[0m  [["state", "delivered"], ["LIMIT", 4]]
  Rendering main_pages/home.html.haml within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') LIMIT $1) subquery_for_count[0m  [["LIMIT", 4]]
  [1m[36mBook Load (1.0ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') ORDER BY "books"."created_at" DESC LIMIT $1[0m  [["LIMIT", 4]]
  [1m[36mHABTM_Authors Load (0.4ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (20, 19, 18, 17)[0m
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (20, 19)[0m
  Rendered books/_carousel_books.html.haml (17926.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') ORDER BY "books"."created_at" DESC LIMIT $1[0m  [["LIMIT", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (20, 19, 18, 17)[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (20, 19)[0m
  Rendered books/_book_buttons.html.haml (3.6ms)
  Rendered books/_book_buttons.html.haml (1.4ms)
  Rendered books/_book_buttons.html.haml (1.2ms)
  Rendered books/_book_buttons.html.haml (1.1ms)
  Rendered main_pages/home.html.haml within layouts/application (17996.7ms)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" IS NULL AND "orders"."state" = $1 LIMIT $2[0m  [["state", "processing"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "orders" ("state", "created_at", "updated_at", "total_price") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["state", "processing"], ["created_at", 2017-03-20 12:43:28 UTC], ["updated_at", 2017-03-20 12:43:28 UTC], ["total_price", #<BigDecimal:aee9af30,'0.0',9(18)>]]
  [1m[35m (33.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (6.9ms)
  Rendered layouts/_collapse_ul.html.haml (3.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (6.7ms)
  Rendered layouts/_collapse_ul.html.haml (9.3ms)
  Rendered layouts/_navbar.html.haml (31.8ms)
  Rendered layouts/_dropdown_ul.html.haml (3.4ms)
  Rendered layouts/_dropdown_ul.html.haml (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (5.4ms)
  Rendered layouts/_dropdown_ul.html.haml (8.0ms)
  Rendered layouts/_navbar.html.haml (16.2ms)
  Rendered layouts/_header.html.haml (140.8ms)
  Rendered layouts/_footer.html.haml (8.7ms)
Completed 200 OK in 18967ms (Views: 18309.2ms | ActiveRecord: 60.8ms)


Started POST "/order_items" for 127.0.0.1 at 2017-03-20 14:43:48 +0200
Processing by OrderItemsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"0MXRWYOvlWonEqoFH1OVkepZQCYUcwc1QXn+ivAy3bFy5eYAKV1Vb/ud+AW7Z859fG83anVwO9WWWAJ4WhauyQ==", "book_id"=>"19", "quantity"=>"1"}
  [1m[36mOrder Load (0.8ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 4], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (1.2ms)[0m  [1m[34mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2 ORDER BY "order_items"."created_at" ASC LIMIT $3[0m  [["order_id", 4], ["book_id", 19], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[35mSQL (1.9ms)[0m  [1m[32mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["book_id", 19], ["order_id", 4], ["created_at", 2017-03-20 12:43:48 UTC], ["updated_at", 2017-03-20 12:43:48 UTC]]
  [1m[35m (14.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 4]]
  [1m[36mCoupon Load (0.4ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "orders" SET "updated_at" = $1, "total_price" = $2 WHERE "orders"."id" = $3[0m  [["updated_at", 2017-03-20 12:43:48 UTC], ["total_price", #<BigDecimal:b10ae6bc,'0.1159E2',18(27)>], ["id", 4]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "order_items" SET "created_at" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["created_at", 2017-03-20 12:43:48 UTC], ["updated_at", 2017-03-20 12:43:48 UTC], ["id", 10]]
  [1m[35m (11.7ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 79ms (ActiveRecord: 36.6ms)


Started GET "/" for 127.0.0.1 at 2017-03-20 14:43:48 +0200
Processing by MainPagesController#home as HTML
  [1m[36mCategory Load (0.9ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."title" = $1 LIMIT $2[0m  [["title", "Mobile"], ["LIMIT", 1]]
  [1m[36mBook Load (3.6ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" INNER JOIN "order_items" ON "order_items"."book_id" = "books"."id" INNER JOIN "orders" ON "orders"."id" = "order_items"."order_id" WHERE (lower(categories.title) = 'mobile') AND "orders"."state" = $1 GROUP BY order_items.book_id, books.id ORDER BY SUM(order_items.quantity) desc LIMIT $2[0m  [["state", "delivered"], ["LIMIT", 4]]
  Rendering main_pages/home.html.haml within layouts/application
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') LIMIT $1) subquery_for_count[0m  [["LIMIT", 4]]
  [1m[36mBook Load (0.9ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') ORDER BY "books"."created_at" DESC LIMIT $1[0m  [["LIMIT", 4]]
  [1m[36mHABTM_Authors Load (1.3ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (20, 19, 18, 17)[0m
  [1m[36mAuthor Load (0.8ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (20, 19)[0m
  Rendered books/_carousel_books.html.haml (67.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') ORDER BY "books"."created_at" DESC LIMIT $1[0m  [["LIMIT", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (20, 19, 18, 17)[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (20, 19)[0m
  Rendered books/_book_buttons.html.haml (6.6ms)
  Rendered books/_book_buttons.html.haml (3.4ms)
  Rendered books/_book_buttons.html.haml (1.5ms)
  Rendered books/_book_buttons.html.haml (1.1ms)
  Rendered main_pages/home.html.haml within layouts/application (137.2ms)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 4], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.6ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 4]]
  [1m[36mCategory Load (0.8ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (6.8ms)
  Rendered layouts/_collapse_ul.html.haml (2.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (12.2ms)
  Rendered layouts/_collapse_ul.html.haml (16.2ms)
  Rendered layouts/_navbar.html.haml (41.2ms)
  Rendered layouts/_dropdown_ul.html.haml (2.8ms)
  Rendered layouts/_dropdown_ul.html.haml (1.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (6.9ms)
  Rendered layouts/_dropdown_ul.html.haml (9.4ms)
  Rendered layouts/_navbar.html.haml (18.2ms)
  Rendered layouts/_header.html.haml (81.3ms)
  Rendered layouts/_footer.html.haml (10.5ms)
Completed 200 OK in 380ms (Views: 362.0ms | ActiveRecord: 10.6ms)


Started GET "/cart" for 127.0.0.1 at 2017-03-20 14:44:59 +0200
Processing by CartsController#edit as HTML
  [1m[36mOrder Load (1.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 4], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.8ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = 4 ORDER BY "order_items"."created_at" ASC[0m
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 19[0m
  [1m[36mCoupon Load (0.5ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 4], ["LIMIT", 1]]
  Rendering carts/edit.html.haml within layouts/application
  Rendered order_items/_delete_link.html.haml (2.1ms)
  Rendered order_items/_quantity_field.html.haml (10.8ms)
  Rendered order_items/_order_item.html.haml (151.0ms)
  Rendered orders/_result_panel.html.haml (11.6ms)
  Rendered carts/_bottom_panel.html.haml (28.4ms)
  Rendered order_items/_quantity_field.html.haml (3.0ms)
  Rendered order_items/_delete_link.html.haml (0.6ms)
  Rendered order_items/_table_field.html.haml (12.2ms)
  Rendered order_items/_table.html.haml (17.7ms)
  Rendered orders/_result_panel.html.haml (1.9ms)
  Rendered carts/_bottom_panel.html.haml (5.8ms)
  Rendered carts/edit.html.haml within layouts/application (278.5ms)
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (4.7ms)
  Rendered layouts/_collapse_ul.html.haml (1.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (9.1ms)
  Rendered layouts/_collapse_ul.html.haml (11.3ms)
  Rendered layouts/_navbar.html.haml (26.3ms)
  Rendered layouts/_dropdown_ul.html.haml (2.9ms)
  Rendered layouts/_dropdown_ul.html.haml (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (7.9ms)
  Rendered layouts/_dropdown_ul.html.haml (10.3ms)
  Rendered layouts/_navbar.html.haml (17.7ms)
  Rendered layouts/_header.html.haml (53.0ms)
  Rendered layouts/_footer.html.haml (7.3ms)
Completed 200 OK in 560ms (Views: 482.8ms | ActiveRecord: 4.1ms)


Started PATCH "/cart" for 127.0.0.1 at 2017-03-20 14:45:34 +0200
Processing by CartsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"U4aGp1lj1I9E7H8BiN+BVdw1vh/+upmwd/4irT96dE3xprH+85EUiphjLQEs69q5SgPJU5+5pVCg395flV4HNQ==", "order"=>{"order_items_attributes"=>{"0"=>{"quantity"=>"4", "id"=>"10"}}, "coupon"=>{"code"=>""}}, "commit"=>"Update cart"}
  [1m[36mOrder Load (1.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 4], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrder Load (1.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mOrderItem Load (1.6ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = 4 ORDER BY "order_items"."created_at" ASC[0m
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 19[0m
  [1m[36mCoupon Load (0.5ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."code" = $1 LIMIT $2[0m  [["code", ""], ["LIMIT", 1]]
Unpermitted parameter: coupon
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCoupon Load (0.2ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "orders" SET "updated_at" = $1, "total_price" = $2 WHERE "orders"."id" = $3[0m  [["updated_at", 2017-03-20 12:45:34 UTC], ["total_price", #<BigDecimal:ae994d88,'0.4636E2',18(27)>], ["id", 4]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "order_items" SET "quantity" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["quantity", 4], ["updated_at", 2017-03-20 12:45:34 UTC], ["id", 10]]
  [1m[35m (39.9ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/cart
Completed 302 Found in 101ms (ActiveRecord: 46.4ms)


Started GET "/cart" for 127.0.0.1 at 2017-03-20 14:45:34 +0200
Processing by CartsController#edit as HTML
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 4], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = 4 ORDER BY "order_items"."created_at" ASC[0m
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 19[0m
  [1m[36mCoupon Load (0.3ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 4], ["LIMIT", 1]]
  Rendering carts/edit.html.haml within layouts/application
  Rendered order_items/_delete_link.html.haml (2.4ms)
  Rendered order_items/_quantity_field.html.haml (8.4ms)
  Rendered order_items/_order_item.html.haml (23.5ms)
  Rendered orders/_result_panel.html.haml (7.8ms)
  Rendered carts/_bottom_panel.html.haml (15.5ms)
  Rendered order_items/_quantity_field.html.haml (3.1ms)
  Rendered order_items/_delete_link.html.haml (0.5ms)
  Rendered order_items/_table_field.html.haml (13.7ms)
  Rendered order_items/_table.html.haml (21.2ms)
  Rendered orders/_result_panel.html.haml (1.7ms)
  Rendered carts/_bottom_panel.html.haml (7.3ms)
  Rendered carts/edit.html.haml within layouts/application (78.4ms)
  [1m[36mCategory Load (1.1ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (5.6ms)
  Rendered layouts/_collapse_ul.html.haml (1.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (6.3ms)
  Rendered layouts/_collapse_ul.html.haml (8.3ms)
  Rendered layouts/_navbar.html.haml (23.2ms)
  Rendered layouts/_dropdown_ul.html.haml (3.7ms)
  Rendered layouts/_dropdown_ul.html.haml (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (4.4ms)
  Rendered layouts/_dropdown_ul.html.haml (6.1ms)
  Rendered layouts/_navbar.html.haml (14.7ms)
  Rendered layouts/_header.html.haml (46.8ms)
  Rendered layouts/_footer.html.haml (8.7ms)
Completed 200 OK in 255ms (Views: 237.5ms | ActiveRecord: 3.1ms)


Started PATCH "/cart" for 127.0.0.1 at 2017-03-20 14:45:39 +0200
Processing by CartsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"2e+jrdTVz1BJiub6MvFOsBdkaM2AhNoDjgcLYQofsGR7z5T0ficPVZUFtPqWxRVcgVIfgeGH5uNZJveToDvDHA==", "order"=>{"order_items_attributes"=>{"0"=>{"quantity"=>"4", "id"=>"10"}}, "coupon"=>{"code"=>""}}, "to_checkout"=>"Checkout"}
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 4], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = 4 ORDER BY "order_items"."created_at" ASC[0m
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 19[0m
  [1m[36mCoupon Load (0.3ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."code" = $1 LIMIT $2[0m  [["code", ""], ["LIMIT", 1]]
Unpermitted parameter: coupon
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCoupon Load (1.3ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 4], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/checkouts/address
Completed 302 Found in 26ms (ActiveRecord: 3.6ms)


Started GET "/checkouts/address" for 127.0.0.1 at 2017-03-20 14:45:39 +0200
Processing by CheckoutsController#show as HTML
  Parameters: {"id"=>"address"}
Redirected to http://localhost:3000/sign_up/fast
Filter chain halted as :fast_authenticate_user! rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)


Started GET "/sign_up/fast" for 127.0.0.1 at 2017-03-20 14:45:40 +0200
Processing by UsersController#new as HTML
  Parameters: {"type"=>"fast"}
  Rendering users/fast_auth.html.haml within layouts/application
  Rendered users/_omni_links.html.haml (2.3ms)
  Rendered devise/sessions/_login_form.html.haml (22.6ms)
  Rendered users/_omni_links.html.haml (0.7ms)
  Rendered users/fast_auth.html.haml within layouts/application (39.0ms)
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 4], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 4]]
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (4.9ms)
  Rendered layouts/_collapse_ul.html.haml (1.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (5.7ms)
  Rendered layouts/_collapse_ul.html.haml (7.6ms)
  Rendered layouts/_navbar.html.haml (24.1ms)
  Rendered layouts/_dropdown_ul.html.haml (2.8ms)
  Rendered layouts/_dropdown_ul.html.haml (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (3.8ms)
  Rendered layouts/_dropdown_ul.html.haml (5.4ms)
  Rendered layouts/_navbar.html.haml (12.8ms)
  Rendered layouts/_header.html.haml (52.1ms)
  Rendered layouts/_footer.html.haml (7.9ms)
Completed 200 OK in 324ms (Views: 288.0ms | ActiveRecord: 7.6ms)


Started GET "/" for 127.0.0.1 at 2017-03-20 14:51:08 +0200
Processing by MainPagesController#home as HTML
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."title" = $1 LIMIT $2[0m  [["title", "Mobile"], ["LIMIT", 1]]
  [1m[36mBook Load (2.9ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" INNER JOIN "order_items" ON "order_items"."book_id" = "books"."id" INNER JOIN "orders" ON "orders"."id" = "order_items"."order_id" WHERE (lower(categories.title) = 'mobile') AND "orders"."state" = $1 GROUP BY order_items.book_id, books.id ORDER BY SUM(order_items.quantity) desc LIMIT $2[0m  [["state", "delivered"], ["LIMIT", 4]]
  Rendering main_pages/home.html.haml within layouts/application
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') LIMIT $1) subquery_for_count[0m  [["LIMIT", 4]]
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') ORDER BY "books"."created_at" DESC LIMIT $1[0m  [["LIMIT", 4]]
  [1m[36mHABTM_Authors Load (0.4ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (20, 19, 18, 17)[0m
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (20, 19)[0m
  Rendered books/_carousel_books.html.haml (59.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') ORDER BY "books"."created_at" DESC LIMIT $1[0m  [["LIMIT", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (20, 19, 18, 17)[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (20, 19)[0m
  Rendered books/_book_buttons.html.haml (5.0ms)
  Rendered books/_book_buttons.html.haml (1.5ms)
  Rendered books/_book_buttons.html.haml (2.5ms)
  Rendered books/_book_buttons.html.haml (1.0ms)
  Rendered main_pages/home.html.haml within layouts/application (119.5ms)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 4], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 4]]
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (4.2ms)
  Rendered layouts/_collapse_ul.html.haml (1.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (5.6ms)
  Rendered layouts/_collapse_ul.html.haml (7.5ms)
  Rendered layouts/_navbar.html.haml (22.6ms)
  Rendered layouts/_dropdown_ul.html.haml (4.3ms)
  Rendered layouts/_dropdown_ul.html.haml (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (4.0ms)
  Rendered layouts/_dropdown_ul.html.haml (5.6ms)
  Rendered layouts/_navbar.html.haml (14.9ms)
  Rendered layouts/_header.html.haml (52.6ms)
  Rendered layouts/_footer.html.haml (7.7ms)
Completed 200 OK in 308ms (Views: 291.2ms | ActiveRecord: 7.4ms)


Started GET "/sign_up" for 127.0.0.1 at 2017-03-20 14:51:10 +0200
Processing by UsersController#new as HTML
  Rendering users/new.html.haml within layouts/application
  Rendered users/_omni_links.html.haml (3.3ms)
  Rendered users/new.html.haml within layouts/application (19.9ms)
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 4], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.8ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 4]]
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (5.9ms)
  Rendered layouts/_collapse_ul.html.haml (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (5.2ms)
  Rendered layouts/_collapse_ul.html.haml (6.8ms)
  Rendered layouts/_navbar.html.haml (38.0ms)
  Rendered layouts/_dropdown_ul.html.haml (4.2ms)
  Rendered layouts/_dropdown_ul.html.haml (1.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (3.7ms)
  Rendered layouts/_dropdown_ul.html.haml (5.2ms)
  Rendered layouts/_navbar.html.haml (14.2ms)
  Rendered layouts/_header.html.haml (68.7ms)
  Rendered layouts/_footer.html.haml (9.4ms)
Completed 200 OK in 211ms (Views: 207.9ms | ActiveRecord: 1.6ms)


Started POST "/" for 127.0.0.1 at 2017-03-20 14:51:51 +0200
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"C90XGC/cC7dpvggZsfqS413l/aTNeQZ6OEGQJbTloPup/SBBhS7LsrUxWhkVzskPy9OK6Kx6OprvYGzXHsHTgw==", "user"=>{"email"=>"test@exmpl.ua", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@exmpl.ua"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  Rendering users/new.html.haml within layouts/application
  Rendered users/_omni_links.html.haml (2.2ms)
  Rendered users/new.html.haml within layouts/application (14.7ms)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 4], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 4]]
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (5.9ms)
  Rendered layouts/_collapse_ul.html.haml (1.4ms)
  [1m[36mCACHE (0.1ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (10.1ms)
  Rendered layouts/_collapse_ul.html.haml (12.6ms)
  Rendered layouts/_navbar.html.haml (29.9ms)
  Rendered layouts/_dropdown_ul.html.haml (3.4ms)
  Rendered layouts/_dropdown_ul.html.haml (1.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (5.7ms)
  Rendered layouts/_dropdown_ul.html.haml (7.6ms)
  Rendered layouts/_navbar.html.haml (15.9ms)
  Rendered layouts/_header.html.haml (62.1ms)
  Rendered layouts/_footer.html.haml (7.7ms)
Completed 200 OK in 476ms (Views: 195.0ms | ActiveRecord: 2.4ms)


Started POST "/" for 127.0.0.1 at 2017-03-20 14:52:12 +0200
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"KBdLM5riMRgmzesvaVaN5le7bgPsojttFDJnqdRXLZ+KN3xqMBDxHfpCuS/NYtYKwY0ZT42hB43DE5tbfnNe5w==", "user"=>{"email"=>"test@exmpl.ua", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@exmpl.ua"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  Rendering users/new.html.haml within layouts/application
  Rendered users/_omni_links.html.haml (2.3ms)
  Rendered users/new.html.haml within layouts/application (17.0ms)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 4], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 4]]
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (5.2ms)
  Rendered layouts/_collapse_ul.html.haml (1.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (6.4ms)
  Rendered layouts/_collapse_ul.html.haml (8.5ms)
  Rendered layouts/_navbar.html.haml (25.1ms)
  Rendered layouts/_dropdown_ul.html.haml (3.1ms)
  Rendered layouts/_dropdown_ul.html.haml (1.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (4.2ms)
  Rendered layouts/_dropdown_ul.html.haml (5.8ms)
  Rendered layouts/_navbar.html.haml (14.1ms)
  Rendered layouts/_header.html.haml (53.9ms)
  Rendered layouts/_footer.html.haml (8.1ms)
Completed 200 OK in 439ms (Views: 187.1ms | ActiveRecord: 2.2ms)


Started POST "/" for 127.0.0.1 at 2017-03-20 14:52:33 +0200
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"YbSoqxejYkNEoCSvzKSKXBGnnqRaT1k5RjcnM30IrhrDlJ/yvVGiRpgvdq9okNGwh5Hp6DtMZdmRFtvB1yzdYg==", "user"=>{"email"=>"test@exmpl.ua", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@exmpl.ua"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "confirmation_token", "confirmation_sent_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@exmpl.ua"], ["encrypted_password", "$2a$11$0Qnygh0pKoP0wyVYD436hu0iaEUFamWUSPSEP4Zm/nGv4sFgdntpq"], ["created_at", 2017-03-20 12:52:33 UTC], ["updated_at", 2017-03-20 12:52:33 UTC], ["confirmation_token", "BCLdsqywxEqPfPK56KTZ"], ["confirmation_sent_at", 2017-03-20 12:52:33 UTC]]
  [1m[35m (31.4ms)[0m  [1m[35mCOMMIT[0m
  Rendering devise/mailer/confirmation_instructions.html.erb
  Rendered devise/mailer/confirmation_instructions.html.erb (3.0ms)
Devise::Mailer#confirmation_instructions: processed outbound mail in 227.4ms
Sent mail to test@exmpl.ua (32.4ms)
Date: Mon, 20 Mar 2017 14:52:33 +0200
From: amazon555@gmail.com
Reply-To: amazon555@gmail.com
To: test@exmpl.ua
Message-ID: <58cfd091d85a9_41bc61e518a7566b@oleg.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome test@exmpl.ua!</p>

<p>You can confirm your account email through the link below:</p>

<p><a href="http://localhost:3000/confirmation?confirmation_token=BCLdsqywxEqPfPK56KTZ">Confirm my account</a></p>

  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", 2017-03-20 12:52:33 UTC], ["last_sign_in_at", 2017-03-20 12:52:33 UTC], ["current_sign_in_ip", "127.0.0.1/32"], ["last_sign_in_ip", "127.0.0.1/32"], ["updated_at", 2017-03-20 12:52:33 UTC], ["id", 2]]
  [1m[35m (5.5ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/checkouts/address
Completed 302 Found in 584ms (ActiveRecord: 39.0ms)


Started GET "/checkouts/address" for 127.0.0.1 at 2017-03-20 14:52:33 +0200
Processing by CheckoutsController#show as HTML
  Parameters: {"id"=>"address"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 4], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "orders" ("state", "user_id", "created_at", "updated_at", "total_price") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["state", "processing"], ["user_id", 2], ["created_at", 2017-03-20 12:52:34 UTC], ["updated_at", 2017-03-20 12:52:34 UTC], ["total_price", #<BigDecimal:ae97b130,'0.0',9(18)>]]
  [1m[35m (9.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mOrderItem Load (0.7ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 4]]
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2 ORDER BY "order_items"."created_at" ASC LIMIT $3[0m  [["order_id", 5], ["book_id", 19], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["book_id", 19], ["order_id", 5], ["created_at", 2017-03-20 12:52:34 UTC], ["updated_at", 2017-03-20 12:52:34 UTC]]
  [1m[35m (11.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCoupon Load (0.4ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 4], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "order_items" WHERE "order_items"."id" = $1[0m  [["id", 10]]
  [1m[36mAddress Load (1.1ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 4], ["addressable_type", "Order"], ["address_type", 0], ["LIMIT", 1]]
  [1m[36mAddress Load (2.1ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 4], ["addressable_type", "Order"], ["address_type", 1], ["LIMIT", 1]]
  [1m[35mSQL (1.6ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 4]]
  [1m[35m (9.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "orders" SET "updated_at" = $1, "total_price" = $2 WHERE "orders"."id" = $3[0m  [["updated_at", 2017-03-20 12:52:34 UTC], ["total_price", #<BigDecimal:adb62eb8,'0.4636E2',18(27)>], ["id", 5]]
  [1m[35m (12.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAddress Load (1.2ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 5], ["addressable_type", "Order"], ["address_type", 0], ["LIMIT", 1]]
  [1m[36mAddress Load (0.6ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 5], ["addressable_type", "Order"], ["address_type", 1], ["LIMIT", 1]]
  [1m[36mAddress Load (0.8ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 2], ["addressable_type", "User"], ["address_type", 0], ["LIMIT", 1]]
  [1m[36mAddress Load (1.1ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 2], ["addressable_type", "User"], ["address_type", 1], ["LIMIT", 1]]
  Rendering checkouts/address.html.haml within layouts/application
  Rendered checkouts/_step_nav.html.haml (8.0ms)
  [1m[36mCountry Load (0.4ms)[0m  [1m[34mSELECT "countries"."id", "countries"."name", "countries"."code" FROM "countries"[0m
  Rendered addresses/_fields.haml (58.0ms)
  Rendered addresses/_fields.haml (20.6ms)
  Rendered orders/_result_panel.html.haml (9.4ms)
  Rendered checkouts/address.html.haml within layouts/application (124.0ms)
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (4.3ms)
  Rendered layouts/_collapse_ul.html.haml (1.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (5.9ms)
  Rendered layouts/_collapse_ul.html.haml (7.6ms)
  [1m[36mBook Load (10.6ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendered layouts/_collapse_ul.html.haml (62.0ms)
  Rendered layouts/_navbar.html.haml (84.3ms)
  Rendered layouts/_dropdown_ul.html.haml (2.8ms)
  Rendered layouts/_dropdown_ul.html.haml (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (4.6ms)
  Rendered layouts/_dropdown_ul.html.haml (7.5ms)
  Rendered layouts/_dropdown_ul.html.haml (1.1ms)
  Rendered layouts/_navbar.html.haml (16.5ms)
  Rendered layouts/_header.html.haml (109.2ms)
  Rendered layouts/_footer.html.haml (6.9ms)
Completed 200 OK in 574ms (Views: 334.3ms | ActiveRecord: 88.4ms)


Started GET "/confirmation?confirmation_token=BCLdsqywxEqPfPK56KTZ" for 127.0.0.1 at 2017-03-20 14:52:58 +0200
Processing by ConfirmationsController#show as HTML
  Parameters: {"confirmation_token"=>"BCLdsqywxEqPfPK56KTZ"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."confirmation_token" = $1 LIMIT $2[0m  [["confirmation_token", "BCLdsqywxEqPfPK56KTZ"], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."confirmation_token" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["confirmation_token", "BCLdsqywxEqPfPK56KTZ"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "confirmed_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["confirmed_at", 2017-03-20 12:52:58 UTC], ["updated_at", 2017-03-20 12:52:58 UTC], ["id", 2]]
  [1m[35m (16.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 33ms (ActiveRecord: 19.4ms)


Started GET "/" for 127.0.0.1 at 2017-03-20 14:52:58 +0200
Processing by MainPagesController#home as HTML
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."title" = $1 LIMIT $2[0m  [["title", "Mobile"], ["LIMIT", 1]]
  [1m[36mBook Load (1.7ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" INNER JOIN "order_items" ON "order_items"."book_id" = "books"."id" INNER JOIN "orders" ON "orders"."id" = "order_items"."order_id" WHERE (lower(categories.title) = 'mobile') AND "orders"."state" = $1 GROUP BY order_items.book_id, books.id ORDER BY SUM(order_items.quantity) desc LIMIT $2[0m  [["state", "delivered"], ["LIMIT", 4]]
  Rendering main_pages/home.html.haml within layouts/application
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') LIMIT $1) subquery_for_count[0m  [["LIMIT", 4]]
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') ORDER BY "books"."created_at" DESC LIMIT $1[0m  [["LIMIT", 4]]
  [1m[36mHABTM_Authors Load (0.5ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (20, 19, 18, 17)[0m
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (20, 19)[0m
  Rendered books/_carousel_books.html.haml (47.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') ORDER BY "books"."created_at" DESC LIMIT $1[0m  [["LIMIT", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (20, 19, 18, 17)[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (20, 19)[0m
  Rendered books/_book_buttons.html.haml (3.4ms)
  Rendered books/_book_buttons.html.haml (1.1ms)
  Rendered books/_book_buttons.html.haml (1.0ms)
  Rendered books/_book_buttons.html.haml (1.7ms)
  Rendered main_pages/home.html.haml within layouts/application (87.6ms)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 5], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 5]]
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (4.1ms)
  Rendered layouts/_collapse_ul.html.haml (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (6.8ms)
  Rendered layouts/_collapse_ul.html.haml (8.5ms)
  [1m[36mBook Load (9.9ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendered layouts/_collapse_ul.html.haml (15.6ms)
  Rendered layouts/_navbar.html.haml (38.4ms)
  Rendered layouts/_dropdown_ul.html.haml (2.9ms)
  Rendered layouts/_dropdown_ul.html.haml (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (3.6ms)
  Rendered layouts/_dropdown_ul.html.haml (5.1ms)
  Rendered layouts/_dropdown_ul.html.haml (1.2ms)
  Rendered layouts/_navbar.html.haml (13.7ms)
  Rendered layouts/_header.html.haml (70.6ms)
  Rendered layouts/_footer.html.haml (8.9ms)
Completed 200 OK in 269ms (Views: 246.7ms | ActiveRecord: 16.5ms)


Started GET "/" for 127.0.0.1 at 2017-03-20 14:53:33 +0200
Processing by MainPagesController#home as HTML
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."title" = $1 LIMIT $2[0m  [["title", "Mobile"], ["LIMIT", 1]]
  [1m[36mBook Load (1.8ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" INNER JOIN "order_items" ON "order_items"."book_id" = "books"."id" INNER JOIN "orders" ON "orders"."id" = "order_items"."order_id" WHERE (lower(categories.title) = 'mobile') AND "orders"."state" = $1 GROUP BY order_items.book_id, books.id ORDER BY SUM(order_items.quantity) desc LIMIT $2[0m  [["state", "delivered"], ["LIMIT", 4]]
  Rendering main_pages/home.html.haml within layouts/application
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') LIMIT $1) subquery_for_count[0m  [["LIMIT", 4]]
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') ORDER BY "books"."created_at" DESC LIMIT $1[0m  [["LIMIT", 4]]
  [1m[36mHABTM_Authors Load (0.5ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (20, 19, 18, 17)[0m
  [1m[36mAuthor Load (1.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (20, 19)[0m
  Rendered books/_carousel_books.html.haml (53.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') ORDER BY "books"."created_at" DESC LIMIT $1[0m  [["LIMIT", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (20, 19, 18, 17)[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (20, 19)[0m
  Rendered books/_book_buttons.html.haml (3.3ms)
  Rendered books/_book_buttons.html.haml (2.8ms)
  Rendered books/_book_buttons.html.haml (1.0ms)
  Rendered books/_book_buttons.html.haml (1.0ms)
  Rendered main_pages/home.html.haml within layouts/application (99.6ms)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 5], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 5]]
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (4.2ms)
  Rendered layouts/_collapse_ul.html.haml (1.1ms)
  [1m[36mCACHE (0.1ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (10.1ms)
  Rendered layouts/_collapse_ul.html.haml (12.0ms)
  [1m[36mBook Load (15.6ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendered layouts/_collapse_ul.html.haml (30.2ms)
  Rendered layouts/_navbar.html.haml (57.3ms)
  Rendered layouts/_dropdown_ul.html.haml (4.8ms)
  Rendered layouts/_dropdown_ul.html.haml (1.2ms)
  [1m[36mCACHE (0.1ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (4.1ms)
  Rendered layouts/_dropdown_ul.html.haml (5.7ms)
  Rendered layouts/_dropdown_ul.html.haml (1.9ms)
  Rendered layouts/_navbar.html.haml (20.1ms)
  Rendered layouts/_header.html.haml (97.6ms)
  Rendered layouts/_footer.html.haml (6.7ms)
Completed 200 OK in 308ms (Views: 272.6ms | ActiveRecord: 28.9ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-20 14:54:02 +0200
Processing by RailsAdmin::MainController#dashboard as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (10.0ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[36mAddress Load (0.4ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" ORDER BY "addresses"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "authors"[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE ('t'='t')[0m
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  "books".* FROM "books" ORDER BY "books"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE ('t'='t')[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" ORDER BY "categories"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "countries"[0m
  [1m[36mCountry Load (0.3ms)[0m  [1m[34mSELECT  "countries".* FROM "countries" ORDER BY "countries"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coupons"[0m
  [1m[36mCoupon Load (1.0ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" ORDER BY "coupons"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "deliveries"[0m
  [1m[36mDelivery Load (0.3ms)[0m  [1m[34mSELECT  "deliveries".* FROM "deliveries" ORDER BY "deliveries"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "materials"[0m
  [1m[36mMaterial Load (0.3ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders" WHERE ('t'='t')[0m
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" ORDER BY "orders"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "pictures"[0m
  [1m[36mPicture Load (0.3ms)[0m  [1m[34mSELECT  "pictures".* FROM "pictures" ORDER BY "pictures"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "reviews" WHERE ('t'='t')[0m
  [1m[36mReview Load (0.6ms)[0m  [1m[34mSELECT  "reviews".* FROM "reviews" ORDER BY "reviews"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE ('t'='t')[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/dashboard.html.haml within layouts/rails_admin/application
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/dashboard.html.haml within layouts/rails_admin/application (61.0ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_secondary_navigation.html.haml (6.3ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_navigation.html.haml (12.3ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_sidebar_navigation.html.haml (21.5ms)
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml (9.0ms)
Completed 200 OK in 1060ms (Views: 599.6ms | ActiveRecord: 26.3ms)


Started GET "/admin/address?_pjax=%5Bdata-pjax-container%5D" for 127.0.0.1 at 2017-03-20 14:54:18 +0200
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"_pjax"=>"[data-pjax-container]", "model_name"=>"address"}
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (16.3ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax
  [1m[36mAddress Load (0.7ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" ORDER BY addresses.id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 20], ["OFFSET", 0]]
  [1m[36mCountry Load (0.5ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = 1[0m
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax (192.7ms)
Completed 200 OK in 264ms (Views: 214.9ms | ActiveRecord: 21.2ms)


Started GET "/admin/author?_pjax=%5Bdata-pjax-container%5D" for 127.0.0.1 at 2017-03-20 14:54:26 +0200
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"_pjax"=>"[data-pjax-container]", "model_name"=>"author"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (10.8ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY authors.id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 20], ["OFFSET", 0]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "authors"[0m
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax (186.6ms)
Completed 200 OK in 237ms (Views: 201.5ms | ActiveRecord: 12.2ms)


Started GET "/admin/book?_pjax=%5Bdata-pjax-container%5D" for 127.0.0.1 at 2017-03-20 14:54:32 +0200
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"_pjax"=>"[data-pjax-container]", "model_name"=>"book"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (14.6ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE ('t'='t') ORDER BY books.id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 20], ["OFFSET", 0]]
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" IN (5, 4)[0m
  [1m[36mHABTM_Authors Load (0.5ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (60, 59, 58, 57, 56, 55, 54, 53, 52, 51, 50, 49, 48, 47, 46, 45, 44, 43, 42, 41)[0m
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (19, 20, 18)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE ('t'='t')[0m
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax (357.4ms)
Completed 200 OK in 447ms (Views: 370.8ms | ActiveRecord: 17.5ms)


Started GET "/admin/book?_pjax=%5Bdata-pjax-container%5D&page=2&sort=id&sort_reverse=false&_pjax=%5Bdata-pjax-container%5D" for 127.0.0.1 at 2017-03-20 14:54:38 +0200
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"_pjax"=>"[data-pjax-container]", "page"=>"2", "sort"=>"id", "sort_reverse"=>"false", "model_name"=>"book"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (16.9ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE ('t'='t') ORDER BY books.id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 20], ["OFFSET", 20]]
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" IN (4, 3, 2)[0m
  [1m[36mHABTM_Authors Load (0.4ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (40, 39, 38, 37, 36, 35, 34, 33, 32, 31, 30, 29, 28, 27, 26, 25, 24, 23, 22, 21)[0m
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (20, 18, 19)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE ('t'='t')[0m
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax (336.1ms)
Completed 200 OK in 407ms (Views: 354.3ms | ActiveRecord: 19.7ms)


Started GET "/admin/delivery?_pjax=%5Bdata-pjax-container%5D" for 127.0.0.1 at 2017-03-20 14:54:40 +0200
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"_pjax"=>"[data-pjax-container]", "model_name"=>"delivery"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (17.3ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax
  [1m[36mDelivery Load (0.5ms)[0m  [1m[34mSELECT  "deliveries".* FROM "deliveries" ORDER BY deliveries.id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 20], ["OFFSET", 0]]
  [1m[36mCountry Load (0.4ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" IN (2, 1)[0m
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."delivery_id" = $1[0m  [["delivery_id", 4]]
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."delivery_id" = $1[0m  [["delivery_id", 3]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."delivery_id" = $1[0m  [["delivery_id", 2]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."delivery_id" = $1[0m  [["delivery_id", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "deliveries"[0m
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax (108.2ms)
Completed 200 OK in 176ms (Views: 123.7ms | ActiveRecord: 20.6ms)


Started GET "/admin/material?_pjax=%5Bdata-pjax-container%5D" for 127.0.0.1 at 2017-03-20 14:54:55 +0200
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"_pjax"=>"[data-pjax-container]", "model_name"=>"material"}
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (19.6ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax
  [1m[36mMaterial Load (0.4ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY materials.id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 20], ["OFFSET", 0]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "materials"[0m
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax (56.3ms)
Completed 200 OK in 115ms (Views: 70.7ms | ActiveRecord: 22.5ms)


Started GET "/admin/order?_pjax=%5Bdata-pjax-container%5D" for 127.0.0.1 at 2017-03-20 14:55:06 +0200
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"_pjax"=>"[data-pjax-container]", "model_name"=>"order"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (18.1ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE ('t'='t') AND ("orders"."user_id" IS NOT NULL) ORDER BY orders.id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 20], ["OFFSET", 0]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders" WHERE ('t'='t') AND ("orders"."user_id" IS NOT NULL)[0m
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax (145.7ms)
Completed 200 OK in 204ms (Views: 161.4ms | ActiveRecord: 19.7ms)


Started POST "/admin/order/5/state?attr=state&event=confirm" for 127.0.0.1 at 2017-03-20 14:55:31 +0200
Processing by RailsAdmin::MainController#state as HTML
  Parameters: {"authenticity_token"=>"+8K3k8/zdDOXr/PGn/C56DMpqoW+J7ZmD8nM8iltl69Z4oDKZQG0NksgocY7xOIEpR/dyd8kiobY6DAAg0nk1w==", "attr"=>"state", "event"=>"confirm", "model_name"=>"order", "id"=>"5"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (10.1ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 ORDER BY "orders"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mOrderItem Load (1.6ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 5]]
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mCoupon Load (0.4ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 5], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "orders" SET "state" = $1, "updated_at" = $2 WHERE "orders"."id" = $3[0m  [["state", "in_progress"], ["updated_at", 2017-03-20 12:55:31 UTC], ["id", 5]]
  [1m[35m (9.1ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from redirect_to at /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_controller/metal/redirecting.rb:66)
Redirected to http://localhost:3000/admin/order
Completed 302 Found in 60ms (ActiveRecord: 23.4ms)


Started GET "/admin/order" for 127.0.0.1 at 2017-03-20 14:55:31 +0200
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"model_name"=>"order"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (9.3ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/application
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE ('t'='t') AND ("orders"."user_id" IS NOT NULL) ORDER BY orders.id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 20], ["OFFSET", 0]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders" WHERE ('t'='t') AND ("orders"."user_id" IS NOT NULL)[0m
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/application (166.7ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_secondary_navigation.html.haml (16.3ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_navigation.html.haml (22.9ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_sidebar_navigation.html.haml (21.6ms)
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml (12.2ms)
Completed 200 OK in 460ms (Views: 428.9ms | ActiveRecord: 10.7ms)


Started POST "/admin/order/5/state?attr=state&event=sent" for 127.0.0.1 at 2017-03-20 14:55:45 +0200
Processing by RailsAdmin::MainController#state as HTML
  Parameters: {"authenticity_token"=>"LWvMSbo1VMa0wtjwW4qow4SBRBDHyMy2M6eTWY8G8e6PS/sQEMeUw2hNivD/vvMvErczXKbL8Fbkhm+rJSKClg==", "attr"=>"state", "event"=>"sent", "model_name"=>"order", "id"=>"5"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (11.4ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 ORDER BY "orders"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 5]]
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mCoupon Load (0.3ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 5], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "orders" SET "state" = $1, "updated_at" = $2 WHERE "orders"."id" = $3[0m  [["state", "in_transit"], ["updated_at", 2017-03-20 12:55:45 UTC], ["id", 5]]
  [1m[35m (19.0ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from redirect_to at /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_controller/metal/redirecting.rb:66)
Redirected to http://localhost:3000/admin/order
Completed 302 Found in 63ms (ActiveRecord: 33.4ms)


Started GET "/admin/order" for 127.0.0.1 at 2017-03-20 14:55:45 +0200
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"model_name"=>"order"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (13.9ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/application
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE ('t'='t') AND ("orders"."user_id" IS NOT NULL) ORDER BY orders.id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 20], ["OFFSET", 0]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders" WHERE ('t'='t') AND ("orders"."user_id" IS NOT NULL)[0m
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/application (137.0ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_secondary_navigation.html.haml (6.9ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_navigation.html.haml (13.8ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_sidebar_navigation.html.haml (21.0ms)
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml (12.7ms)
Completed 200 OK in 416ms (Views: 386.7ms | ActiveRecord: 15.4ms)


Started POST "/admin/order/5/state?attr=state&event=delivered" for 127.0.0.1 at 2017-03-20 14:55:51 +0200
Processing by RailsAdmin::MainController#state as HTML
  Parameters: {"authenticity_token"=>"eoogJzkKwWguHC0iw9DeMdgABmXRdb14i2jnJ6P/hLHYqhd+k/gBbfKTfyJn5IXdTjZxKbB2gZhcSRvVCdv3yQ==", "attr"=>"state", "event"=>"delivered", "model_name"=>"order", "id"=>"5"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (14.0ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 ORDER BY "orders"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 5]]
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mCoupon Load (0.2ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 5], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "orders" SET "state" = $1, "updated_at" = $2 WHERE "orders"."id" = $3[0m  [["state", "delivered"], ["updated_at", 2017-03-20 12:55:51 UTC], ["id", 5]]
  [1m[35m (16.0ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from redirect_to at /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_controller/metal/redirecting.rb:66)
Redirected to http://localhost:3000/admin/order
Completed 302 Found in 61ms (ActiveRecord: 32.5ms)


Started GET "/admin/order" for 127.0.0.1 at 2017-03-20 14:55:51 +0200
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"model_name"=>"order"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (12.1ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/application
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE ('t'='t') AND ("orders"."user_id" IS NOT NULL) ORDER BY orders.id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 20], ["OFFSET", 0]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders" WHERE ('t'='t') AND ("orders"."user_id" IS NOT NULL)[0m
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/application (129.0ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_secondary_navigation.html.haml (5.7ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_navigation.html.haml (11.3ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_sidebar_navigation.html.haml (20.2ms)
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml (12.6ms)
Completed 200 OK in 406ms (Views: 378.4ms | ActiveRecord: 13.4ms)


Started GET "/admin/picture?_pjax=%5Bdata-pjax-container%5D" for 127.0.0.1 at 2017-03-20 14:56:50 +0200
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"_pjax"=>"[data-pjax-container]", "model_name"=>"picture"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (14.2ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax
  [1m[36mPicture Load (0.4ms)[0m  [1m[34mSELECT  "pictures".* FROM "pictures" ORDER BY pictures.id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 20], ["OFFSET", 0]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "pictures"[0m
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax (35.4ms)
Completed 200 OK in 97ms (Views: 49.0ms | ActiveRecord: 15.3ms)


Started GET "/admin/review?_pjax=%5Bdata-pjax-container%5D" for 127.0.0.1 at 2017-03-20 14:56:54 +0200
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"_pjax"=>"[data-pjax-container]", "model_name"=>"review"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (15.9ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax
  [1m[36mReview Load (0.5ms)[0m  [1m[34mSELECT  "reviews".* FROM "reviews" WHERE ('t'='t') ORDER BY reviews.id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 20], ["OFFSET", 0]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "reviews" WHERE ('t'='t')[0m
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax (41.7ms)
Completed 200 OK in 105ms (Views: 60.0ms | ActiveRecord: 17.2ms)


Started GET "/admin/picture?_pjax=%5Bdata-pjax-container%5D" for 127.0.0.1 at 2017-03-20 14:57:03 +0200
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"_pjax"=>"[data-pjax-container]", "model_name"=>"picture"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (17.5ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax
  [1m[36mPicture Load (0.4ms)[0m  [1m[34mSELECT  "pictures".* FROM "pictures" ORDER BY pictures.id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 20], ["OFFSET", 0]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "pictures"[0m
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax (32.9ms)
Completed 200 OK in 92ms (Views: 48.5ms | ActiveRecord: 18.9ms)


Started PATCH "/checkouts/address" for 127.0.0.1 at 2017-03-20 14:58:42 +0200
Processing by CheckoutsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"BqMeYOC/Xz9imxMz4Ot/ewVjCsITZz+Ql1JO/Q6PuGukgyk5Sk2fOr4UQTNE3ySXk1V9jnJkA3BAc7IPpKvLEw==", "order"=>{"billing_attributes"=>{"address_type"=>"billing", "first_name"=>"Oleg", "last_name"=>"Matvieiev", "name"=>"mystreet 5", "city"=>"Dnepr", "zip"=>"49000", "country_id"=>"1", "phone"=>"0501234567"}, "shipping_attributes"=>{"address_type"=>"shipping", "first_name"=>"", "last_name"=>"", "name"=>"", "city"=>"", "zip"=>"", "country_id"=>"", "phone"=>""}}, "use_base_address"=>"on", "commit"=>"Save and Continue", "id"=>"address"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 5], ["state", "processing"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "orders" ("state", "created_at", "updated_at", "total_price") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["state", "processing"], ["created_at", 2017-03-20 12:58:42 UTC], ["updated_at", 2017-03-20 12:58:42 UTC], ["total_price", #<BigDecimal:af5af35c,'0.0',9(18)>]]
  [1m[35m (34.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.9ms)[0m  [1m[32mINSERT INTO "orders" ("state", "user_id", "created_at", "updated_at", "total_price") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["state", "processing"], ["user_id", 2], ["created_at", 2017-03-20 12:58:42 UTC], ["updated_at", 2017-03-20 12:58:42 UTC], ["total_price", #<BigDecimal:af59b4ec,'0.0',9(18)>]]
  [1m[35m (25.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (1.0ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 6], ["addressable_type", "Order"], ["address_type", 0], ["LIMIT", 1]]
  [1m[36mAddress Load (0.6ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 6], ["addressable_type", "Order"], ["address_type", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 6]]
  [1m[35m (54.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAddress Load (0.5ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 7], ["addressable_type", "Order"], ["address_type", 0], ["LIMIT", 1]]
  [1m[36mAddress Load (0.5ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 7], ["addressable_type", "Order"], ["address_type", 1], ["LIMIT", 1]]
  [1m[36mAddress Load (1.3ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 2], ["addressable_type", "User"], ["address_type", 0], ["LIMIT", 1]]
  [1m[36mAddress Load (0.4ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 2], ["addressable_type", "User"], ["address_type", 1], ["LIMIT", 1]]
  [1m[36mCountry Load (0.4ms)[0m  [1m[34mSELECT  "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering checkouts/address.html.haml within layouts/application
  Rendered checkouts/_step_nav.html.haml (3.5ms)
  [1m[36mCountry Load (0.3ms)[0m  [1m[34mSELECT "countries"."id", "countries"."name", "countries"."code" FROM "countries"[0m
  Rendered addresses/_fields.haml (16.4ms)
  Rendered addresses/_fields.haml (20.6ms)
  Rendered orders/_result_panel.html.haml (7.8ms)
  Rendered checkouts/address.html.haml within layouts/application (62.8ms)
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (3.8ms)
  Rendered layouts/_collapse_ul.html.haml (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (5.9ms)
  Rendered layouts/_collapse_ul.html.haml (7.6ms)
  [1m[36mBook Load (9.5ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendered layouts/_collapse_ul.html.haml (15.4ms)
  Rendered layouts/_navbar.html.haml (36.6ms)
  Rendered layouts/_dropdown_ul.html.haml (4.5ms)
  Rendered layouts/_dropdown_ul.html.haml (1.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (3.9ms)
  Rendered layouts/_dropdown_ul.html.haml (5.5ms)
  Rendered layouts/_dropdown_ul.html.haml (1.2ms)
  Rendered layouts/_navbar.html.haml (17.5ms)
  Rendered layouts/_header.html.haml (61.5ms)
  Rendered layouts/_footer.html.haml (7.4ms)
Completed 200 OK in 417ms (Views: 212.1ms | ActiveRecord: 135.7ms)


Started PATCH "/checkouts/address" for 127.0.0.1 at 2017-03-20 15:02:12 +0200
Processing by CheckoutsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"59hPm0UMqDj3Laqv61WOW4z2KKnqzzpZ2BCvaoDGSulF+HjC7/5oPSui+K9PYdW3GsBf5YvMBrkPMVOYKuI5kQ==", "order"=>{"billing_attributes"=>{"address_type"=>"billing", "first_name"=>"Oleg", "last_name"=>"Matvieiev", "name"=>"mystreet 5", "city"=>"Dnepr", "zip"=>"49000", "country_id"=>"1", "phone"=>"+380501234567"}, "shipping_attributes"=>{"address_type"=>"shipping", "first_name"=>"Oleg", "last_name"=>"Matvieiev", "name"=>"mystreet 5", "city"=>"Dnepr", "zip"=>"49000", "country_id"=>"1", "phone"=>"0501234567"}}, "use_base_address"=>"on", "commit"=>"Save and Continue", "id"=>"address"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 7], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mAddress Load (0.7ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 7], ["addressable_type", "Order"], ["address_type", 0], ["LIMIT", 1]]
  [1m[36mAddress Load (0.5ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 7], ["addressable_type", "Order"], ["address_type", 1], ["LIMIT", 1]]
  [1m[36mAddress Load (0.6ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 2], ["addressable_type", "User"], ["address_type", 0], ["LIMIT", 1]]
  [1m[36mAddress Load (0.5ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 2], ["addressable_type", "User"], ["address_type", 1], ["LIMIT", 1]]
  [1m[36mCountry Load (0.3ms)[0m  [1m[34mSELECT  "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1m[34mSELECT  "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 7]]
  [1m[36mCoupon Load (0.3ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 7], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "orders" SET "updated_at" = $1, "use_base_address" = $2 WHERE "orders"."id" = $3[0m  [["updated_at", 2017-03-20 13:02:12 UTC], ["use_base_address", true], ["id", 7]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "addresses" ("addressable_type", "addressable_id", "first_name", "last_name", "name", "country_id", "city", "zip", "phone", "created_at", "updated_at", "address_type") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["addressable_type", "Order"], ["addressable_id", 7], ["first_name", "Oleg"], ["last_name", "Matvieiev"], ["name", "mystreet 5"], ["country_id", 1], ["city", "Dnepr"], ["zip", "49000"], ["phone", "+380501234567"], ["created_at", 2017-03-20 13:02:12 UTC], ["updated_at", 2017-03-20 13:02:12 UTC], ["address_type", 0]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "addresses" ("addressable_type", "addressable_id", "first_name", "last_name", "name", "country_id", "city", "zip", "phone", "created_at", "updated_at", "address_type") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["addressable_type", "Order"], ["addressable_id", 7], ["first_name", "Oleg"], ["last_name", "Matvieiev"], ["name", "mystreet 5"], ["country_id", 1], ["city", "Dnepr"], ["zip", "49000"], ["phone", "+380501234567"], ["created_at", 2017-03-20 13:02:12 UTC], ["updated_at", 2017-03-20 13:02:12 UTC], ["address_type", 1]]
  [1m[35m (53.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/checkouts/delivery
Completed 302 Found in 116ms (ActiveRecord: 61.1ms)


Started GET "/checkouts/delivery" for 127.0.0.1 at 2017-03-20 15:02:12 +0200
Processing by CheckoutsController#show as HTML
  Parameters: {"id"=>"delivery"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 7], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 7]]
Redirected to http://localhost:3000/books
Completed 302 Found in 13ms (ActiveRecord: 2.4ms)


Started GET "/books" for 127.0.0.1 at 2017-03-20 15:02:12 +0200
Processing by BooksController#index as HTML
  Rendering books/index.html.haml within layouts/application
  Rendered books/_items_sorted_by.html.haml (2.0ms)
  Rendered books/_drop_down_list.html.haml (5.6ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_category_items.html.haml (11.2ms)
  Rendered books/_items_sorted_by.html.haml (0.7ms)
  Rendered books/_drop_down_list.html.haml (1.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (5.1ms)
  Rendered books/_drop_down_list.html.haml (6.1ms)
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT  "books"."id", "books"."price", "books"."title", "books"."count", "books"."avatar" FROM "books" ORDER BY "books"."title" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 12], ["OFFSET", 0]]
  [1m[36mHABTM_Authors Load (0.4ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (4, 53, 19, 59, 36, 38, 44, 43, 12, 22, 9, 28)[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (18, 19, 20)[0m
  Rendered books/_book_buttons.html.haml (5.0ms)
  Rendered books/_book_buttons.html.haml (1.1ms)
  Rendered books/_book_buttons.html.haml (1.0ms)
  Rendered books/_book_buttons.html.haml (0.9ms)
  Rendered collection of books/_book.html.haml [4 times] (35.0ms)
  Rendered books/_book_buttons.html.haml (2.1ms)
  Rendered books/_book_buttons.html.haml (0.9ms)
  Rendered books/_book_buttons.html.haml (0.9ms)
  Rendered books/_book_buttons.html.haml (0.9ms)
  Rendered collection of books/_book.html.haml [4 times] (27.1ms)
  Rendered books/_book_buttons.html.haml (1.0ms)
  Rendered books/_book_buttons.html.haml (0.9ms)
  Rendered books/_book_buttons.html.haml (0.9ms)
  Rendered books/_book_buttons.html.haml (1.7ms)
  Rendered collection of books/_book.html.haml [4 times] (28.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
  Rendered books/index.html.haml within layouts/application (141.2ms)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 7], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 7]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (3.8ms)
  Rendered layouts/_collapse_ul.html.haml (1.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (5.0ms)
  Rendered layouts/_collapse_ul.html.haml (6.5ms)
  [1m[36mBook Load (11.3ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendered layouts/_collapse_ul.html.haml (17.1ms)
  Rendered layouts/_navbar.html.haml (36.9ms)
  Rendered layouts/_dropdown_ul.html.haml (2.8ms)
  Rendered layouts/_dropdown_ul.html.haml (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (3.4ms)
  Rendered layouts/_dropdown_ul.html.haml (4.9ms)
  Rendered layouts/_dropdown_ul.html.haml (1.1ms)
  Rendered layouts/_navbar.html.haml (14.1ms)
  Rendered layouts/_header.html.haml (67.5ms)
  Rendered layouts/_footer.html.haml (9.9ms)
Completed 200 OK in 332ms (Views: 312.0ms | ActiveRecord: 15.1ms)


Started GET "/settings" for 127.0.0.1 at 2017-03-20 15:02:29 +0200
Processing by UsersController#edit as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (17.6ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  [1m[36mAddress Load (0.5ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 2], ["addressable_type", "User"], ["address_type", 0], ["LIMIT", 1]]
  [1m[36mAddress Load (0.5ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 2], ["addressable_type", "User"], ["address_type", 1], ["LIMIT", 1]]
  Rendering users/edit.html.haml within layouts/application
  [1m[36mCountry Load (0.4ms)[0m  [1m[34mSELECT "countries"."id", "countries"."name", "countries"."code" FROM "countries"[0m
  Rendered addresses/_fields.haml (17.3ms)
  Rendered addresses/_user_form.html.haml (23.2ms)
  Rendered addresses/_fields.haml (14.8ms)
  Rendered addresses/_user_form.html.haml (18.8ms)
  Rendered users/_user_form.html.haml (11.6ms)
  Rendered users/_password_form.html.haml (10.8ms)
  Rendered users/_remove_account_form.html.haml (3.2ms)
  Rendered users/edit.html.haml within layouts/application (84.8ms)
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 7], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 7]]
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (5.4ms)
  Rendered layouts/_collapse_ul.html.haml (1.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (9.3ms)
  Rendered layouts/_collapse_ul.html.haml (11.2ms)
  Rendered layouts/_collapse_ul.html.haml (1.5ms)
  Rendered layouts/_navbar.html.haml (31.6ms)
  Rendered layouts/_dropdown_ul.html.haml (3.0ms)
  Rendered layouts/_dropdown_ul.html.haml (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (4.2ms)
  Rendered layouts/_dropdown_ul.html.haml (5.7ms)
  Rendered layouts/_dropdown_ul.html.haml (1.2ms)
  Rendered layouts/_navbar.html.haml (14.4ms)
  Rendered layouts/_header.html.haml (62.2ms)
  Rendered layouts/_footer.html.haml (7.3ms)
Completed 200 OK in 328ms (Views: 262.1ms | ActiveRecord: 20.9ms)


Started GET "/" for 127.0.0.1 at 2017-03-20 15:02:40 +0200
Processing by MainPagesController#home as HTML
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."title" = $1 LIMIT $2[0m  [["title", "Mobile"], ["LIMIT", 1]]
  [1m[36mBook Load (1.7ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" INNER JOIN "order_items" ON "order_items"."book_id" = "books"."id" INNER JOIN "orders" ON "orders"."id" = "order_items"."order_id" WHERE (lower(categories.title) = 'mobile') AND "orders"."state" = $1 GROUP BY order_items.book_id, books.id ORDER BY SUM(order_items.quantity) desc LIMIT $2[0m  [["state", "delivered"], ["LIMIT", 4]]
  [1m[36mHABTM_Authors Load (1.2ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" = 19[0m
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (19, 20)[0m
  Rendering main_pages/home.html.haml within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') LIMIT $1) subquery_for_count[0m  [["LIMIT", 4]]
  [1m[36mBook Load (0.9ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') ORDER BY "books"."created_at" DESC LIMIT $1[0m  [["LIMIT", 4]]
  [1m[36mHABTM_Authors Load (0.7ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (20, 19, 18, 17)[0m
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (20, 19)[0m
  Rendered books/_carousel_books.html.haml (46.5ms)
  Rendered books/_book_buttons.html.haml (7.3ms)
  Rendered main_pages/home.html.haml within layouts/application (65.4ms)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 7], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 7]]
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (4.1ms)
  Rendered layouts/_collapse_ul.html.haml (1.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (9.8ms)
  Rendered layouts/_collapse_ul.html.haml (12.5ms)
  [1m[36mBook Load (9.6ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendered layouts/_collapse_ul.html.haml (14.2ms)
  Rendered layouts/_navbar.html.haml (42.4ms)
  Rendered layouts/_dropdown_ul.html.haml (12.4ms)
  Rendered layouts/_dropdown_ul.html.haml (2.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (3.9ms)
  Rendered layouts/_dropdown_ul.html.haml (5.6ms)
  Rendered layouts/_dropdown_ul.html.haml (1.3ms)
  Rendered layouts/_navbar.html.haml (26.8ms)
  Rendered layouts/_header.html.haml (90.1ms)
  Rendered layouts/_footer.html.haml (6.7ms)
Completed 200 OK in 292ms (Views: 256.2ms | ActiveRecord: 18.6ms)


Started GET "/ru/home" for 127.0.0.1 at 2017-03-20 15:03:13 +0200
Processing by MainPagesController#home as HTML
  Parameters: {"locale"=>"ru"}
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."title" = $1 LIMIT $2[0m  [["title", "Mobile"], ["LIMIT", 1]]
  [1m[36mBook Load (3.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" INNER JOIN "order_items" ON "order_items"."book_id" = "books"."id" INNER JOIN "orders" ON "orders"."id" = "order_items"."order_id" WHERE (lower(categories.title) = 'mobile') AND "orders"."state" = $1 GROUP BY order_items.book_id, books.id ORDER BY SUM(order_items.quantity) desc LIMIT $2[0m  [["state", "delivered"], ["LIMIT", 4]]
  [1m[36mHABTM_Authors Load (0.3ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" = 19[0m
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (19, 20)[0m
  Rendering main_pages/home.html.haml within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') LIMIT $1) subquery_for_count[0m  [["LIMIT", 4]]
  [1m[36mBook Load (1.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') ORDER BY "books"."created_at" DESC LIMIT $1[0m  [["LIMIT", 4]]
  [1m[36mHABTM_Authors Load (0.3ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (20, 19, 18, 17)[0m
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (20, 19)[0m
  Rendered books/_carousel_books.html.haml (46.6ms)
  Rendered books/_book_buttons.html.haml (3.9ms)
  Rendered main_pages/home.html.haml within layouts/application (64.6ms)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 7], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (1.0ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 7]]
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (5.4ms)
  Rendered layouts/_collapse_ul.html.haml (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (7.9ms)
  Rendered layouts/_collapse_ul.html.haml (9.4ms)
  [1m[36mBook Load (9.5ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendered layouts/_collapse_ul.html.haml (16.3ms)
  Rendered layouts/_navbar.html.haml (41.4ms)
  Rendered layouts/_dropdown_ul.html.haml (2.8ms)
  Rendered layouts/_dropdown_ul.html.haml (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (6.5ms)
  Rendered layouts/_dropdown_ul.html.haml (8.2ms)
  Rendered layouts/_dropdown_ul.html.haml (1.6ms)
  Rendered layouts/_navbar.html.haml (19.1ms)
  Rendered layouts/_header.html.haml (79.6ms)
  Rendered layouts/_footer.html.haml (23.9ms)
Completed 200 OK in 299ms (Views: 268.1ms | ActiveRecord: 19.5ms)


Started GET "/ru/books" for 127.0.0.1 at 2017-03-20 15:03:26 +0200
Processing by BooksController#index as HTML
  Parameters: {"locale"=>"ru"}
  Rendering books/index.html.haml within layouts/application
  Rendered books/_items_sorted_by.html.haml (2.2ms)
  Rendered books/_drop_down_list.html.haml (5.4ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_category_items.html.haml (10.4ms)
  Rendered books/_items_sorted_by.html.haml (0.7ms)
  Rendered books/_drop_down_list.html.haml (2.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (7.8ms)
  Rendered books/_drop_down_list.html.haml (9.3ms)
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books"."id", "books"."price", "books"."title", "books"."count", "books"."avatar" FROM "books" ORDER BY "books"."title" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 12], ["OFFSET", 0]]
  [1m[36mHABTM_Authors Load (0.3ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (4, 53, 19, 59, 36, 38, 44, 43, 12, 22, 9, 28)[0m
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (18, 19, 20)[0m
  Rendered books/_book_buttons.html.haml (3.2ms)
  Rendered books/_book_buttons.html.haml (1.3ms)
  Rendered books/_book_buttons.html.haml (1.0ms)
  Rendered books/_book_buttons.html.haml (1.2ms)
  Rendered collection of books/_book.html.haml [4 times] (39.1ms)
  Rendered books/_book_buttons.html.haml (0.9ms)
  Rendered books/_book_buttons.html.haml (0.9ms)
  Rendered books/_book_buttons.html.haml (1.8ms)
  Rendered books/_book_buttons.html.haml (0.9ms)
  Rendered collection of books/_book.html.haml [4 times] (28.7ms)
  Rendered books/_book_buttons.html.haml (1.0ms)
  Rendered books/_book_buttons.html.haml (1.1ms)
  Rendered books/_book_buttons.html.haml (1.2ms)
  Rendered books/_book_buttons.html.haml (1.0ms)
  Rendered collection of books/_book.html.haml [4 times] (29.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
  Rendered books/index.html.haml within layouts/application (155.5ms)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 7], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 7]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (4.2ms)
  Rendered layouts/_collapse_ul.html.haml (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (7.1ms)
  Rendered layouts/_collapse_ul.html.haml (9.0ms)
  [1m[36mBook Load (9.6ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendered layouts/_collapse_ul.html.haml (15.4ms)
  Rendered layouts/_navbar.html.haml (40.1ms)
  Rendered layouts/_dropdown_ul.html.haml (2.7ms)
  Rendered layouts/_dropdown_ul.html.haml (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (3.8ms)
  Rendered layouts/_dropdown_ul.html.haml (5.3ms)
  Rendered layouts/_dropdown_ul.html.haml (2.3ms)
  Rendered layouts/_navbar.html.haml (16.0ms)
  Rendered layouts/_header.html.haml (73.2ms)
  Rendered layouts/_footer.html.haml (6.8ms)
Completed 200 OK in 336ms (Views: 320.7ms | ActiveRecord: 13.3ms)


Started POST "/ru/order_items" for 127.0.0.1 at 2017-03-20 15:03:29 +0200
Processing by OrderItemsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ANiV90hX6HtuEqhyxLAKAqcg+vcMCYWrj0lPdT5XQDii+KKu4qUofrKd+nJghFHuMRaNu20KuUtYaLOHlHMzQA==", "book_id"=>"19", "quantity"=>"1", "locale"=>"ru"}
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 7], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2 ORDER BY "order_items"."created_at" ASC LIMIT $3[0m  [["order_id", 7], ["book_id", 19], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["book_id", 19], ["order_id", 7], ["created_at", 2017-03-20 13:03:29 UTC], ["updated_at", 2017-03-20 13:03:29 UTC]]
  [1m[35m (10.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 7]]
  [1m[36mCoupon Load (0.4ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 7], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "orders" SET "updated_at" = $1, "total_price" = $2 WHERE "orders"."id" = $3[0m  [["updated_at", 2017-03-20 13:03:29 UTC], ["total_price", #<BigDecimal:af5922d4,'0.1159E2',18(27)>], ["id", 7]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "order_items" SET "created_at" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["created_at", 2017-03-20 13:03:29 UTC], ["updated_at", 2017-03-20 13:03:29 UTC], ["id", 12]]
  [1m[35m (7.9ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/ru/books
Completed 302 Found in 53ms (ActiveRecord: 24.3ms)


Started GET "/ru/books" for 127.0.0.1 at 2017-03-20 15:03:29 +0200
Processing by BooksController#index as HTML
  Parameters: {"locale"=>"ru"}
  Rendering books/index.html.haml within layouts/application
  Rendered books/_items_sorted_by.html.haml (2.3ms)
  Rendered books/_drop_down_list.html.haml (5.7ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_category_items.html.haml (13.4ms)
  Rendered books/_items_sorted_by.html.haml (0.7ms)
  Rendered books/_drop_down_list.html.haml (1.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (5.3ms)
  Rendered books/_drop_down_list.html.haml (6.4ms)
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  "books"."id", "books"."price", "books"."title", "books"."count", "books"."avatar" FROM "books" ORDER BY "books"."title" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 12], ["OFFSET", 0]]
  [1m[36mHABTM_Authors Load (0.5ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (4, 53, 19, 59, 36, 38, 44, 43, 12, 22, 9, 28)[0m
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (18, 19, 20)[0m
  Rendered books/_book_buttons.html.haml (6.7ms)
  Rendered books/_book_buttons.html.haml (1.0ms)
  Rendered books/_book_buttons.html.haml (1.1ms)
  Rendered books/_book_buttons.html.haml (1.0ms)
  Rendered collection of books/_book.html.haml [4 times] (38.0ms)
  Rendered books/_book_buttons.html.haml (2.1ms)
  Rendered books/_book_buttons.html.haml (1.0ms)
  Rendered books/_book_buttons.html.haml (1.1ms)
  Rendered books/_book_buttons.html.haml (1.0ms)
  Rendered collection of books/_book.html.haml [4 times] (30.9ms)
  Rendered books/_book_buttons.html.haml (1.3ms)
  Rendered books/_book_buttons.html.haml (1.0ms)
  Rendered books/_book_buttons.html.haml (1.0ms)
  Rendered books/_book_buttons.html.haml (1.0ms)
  Rendered collection of books/_book.html.haml [4 times] (31.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
  Rendered books/index.html.haml within layouts/application (157.4ms)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 7], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 7]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (3.5ms)
  Rendered layouts/_collapse_ul.html.haml (1.1ms)
  [1m[36mCACHE (0.1ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (7.8ms)
  Rendered layouts/_collapse_ul.html.haml (9.8ms)
  [1m[36mBook Load (10.7ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendered layouts/_collapse_ul.html.haml (15.8ms)
  Rendered layouts/_navbar.html.haml (39.3ms)
  Rendered layouts/_dropdown_ul.html.haml (2.7ms)
  Rendered layouts/_dropdown_ul.html.haml (1.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (4.1ms)
  Rendered layouts/_dropdown_ul.html.haml (6.3ms)
  Rendered layouts/_dropdown_ul.html.haml (2.0ms)
  Rendered layouts/_navbar.html.haml (17.2ms)
  Rendered layouts/_header.html.haml (74.8ms)
  Rendered layouts/_footer.html.haml (9.0ms)
Completed 200 OK in 344ms (Views: 323.8ms | ActiveRecord: 15.1ms)


Started POST "/ru/order_items" for 127.0.0.1 at 2017-03-20 15:03:32 +0200
Processing by OrderItemsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Iu/MorTrnIIexn7TrVjnBMB+OHpM4qL2t/TjRhL35qqAz/v7Hhlch8JJLNMJbLzoVkhPNi3hnhZg1R+0uNOV0g==", "book_id"=>"44", "quantity"=>"1", "locale"=>"ru"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 7], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.6ms)[0m  [1m[34mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2 ORDER BY "order_items"."created_at" ASC LIMIT $3[0m  [["order_id", 7], ["book_id", 44], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 44], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["book_id", 44], ["order_id", 7], ["created_at", 2017-03-20 13:03:32 UTC], ["updated_at", 2017-03-20 13:03:32 UTC]]
  [1m[35m (17.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 7]]
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mCoupon Load (0.3ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 7], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "orders" SET "updated_at" = $1, "total_price" = $2 WHERE "orders"."id" = $3[0m  [["updated_at", 2017-03-20 13:03:32 UTC], ["total_price", #<BigDecimal:b272a42c,'0.2472E2',18(27)>], ["id", 7]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "order_items" SET "created_at" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["created_at", 2017-03-20 13:03:32 UTC], ["updated_at", 2017-03-20 13:03:32 UTC], ["id", 13]]
  [1m[35m (204.0ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/ru/books
Completed 302 Found in 264ms (ActiveRecord: 227.4ms)


Started GET "/ru/books" for 127.0.0.1 at 2017-03-20 15:03:32 +0200
Processing by BooksController#index as HTML
  Parameters: {"locale"=>"ru"}
  Rendering books/index.html.haml within layouts/application
  Rendered books/_items_sorted_by.html.haml (2.1ms)
  Rendered books/_drop_down_list.html.haml (6.8ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_category_items.html.haml (9.4ms)
  Rendered books/_items_sorted_by.html.haml (0.7ms)
  Rendered books/_drop_down_list.html.haml (2.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (5.3ms)
  Rendered books/_drop_down_list.html.haml (6.5ms)
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  "books"."id", "books"."price", "books"."title", "books"."count", "books"."avatar" FROM "books" ORDER BY "books"."title" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 12], ["OFFSET", 0]]
  [1m[36mHABTM_Authors Load (0.4ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (4, 53, 19, 59, 36, 38, 44, 43, 12, 22, 9, 28)[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (18, 19, 20)[0m
  Rendered books/_book_buttons.html.haml (4.4ms)
  Rendered books/_book_buttons.html.haml (1.0ms)
  Rendered books/_book_buttons.html.haml (2.3ms)
  Rendered books/_book_buttons.html.haml (0.9ms)
  Rendered collection of books/_book.html.haml [4 times] (35.8ms)
  Rendered books/_book_buttons.html.haml (0.9ms)
  Rendered books/_book_buttons.html.haml (1.0ms)
  Rendered books/_book_buttons.html.haml (1.1ms)
  Rendered books/_book_buttons.html.haml (1.0ms)
  Rendered collection of books/_book.html.haml [4 times] (28.1ms)
  Rendered books/_book_buttons.html.haml (1.1ms)
  Rendered books/_book_buttons.html.haml (0.9ms)
  Rendered books/_book_buttons.html.haml (0.9ms)
  Rendered books/_book_buttons.html.haml (1.3ms)
  Rendered collection of books/_book.html.haml [4 times] (29.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
  Rendered books/index.html.haml within layouts/application (149.9ms)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 7], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 7]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (3.4ms)
  Rendered layouts/_collapse_ul.html.haml (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (7.1ms)
  Rendered layouts/_collapse_ul.html.haml (8.6ms)
  [1m[36mBook Load (10.3ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendered layouts/_collapse_ul.html.haml (16.8ms)
  Rendered layouts/_navbar.html.haml (41.7ms)
  Rendered layouts/_dropdown_ul.html.haml (2.6ms)
  Rendered layouts/_dropdown_ul.html.haml (0.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (6.9ms)
  Rendered layouts/_dropdown_ul.html.haml (8.6ms)
  Rendered layouts/_dropdown_ul.html.haml (1.2ms)
  Rendered layouts/_navbar.html.haml (18.4ms)
  Rendered layouts/_header.html.haml (78.1ms)
  Rendered layouts/_footer.html.haml (6.2ms)
Completed 200 OK in 344ms (Views: 328.6ms | ActiveRecord: 14.0ms)


Started GET "/ru/cart" for 127.0.0.1 at 2017-03-20 15:03:38 +0200
Processing by CartsController#edit as HTML
  Parameters: {"locale"=>"ru"}
  [1m[36mOrder Load (2.0ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 7], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = 7 ORDER BY "order_items"."created_at" ASC[0m
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (19, 44)[0m
  [1m[36mCoupon Load (0.4ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 7], ["LIMIT", 1]]
  Rendering carts/edit.html.haml within layouts/application
  Rendered order_items/_delete_link.html.haml (2.1ms)
  Rendered order_items/_quantity_field.html.haml (4.9ms)
  Rendered order_items/_order_item.html.haml (19.6ms)
  Rendered order_items/_delete_link.html.haml (1.6ms)
  Rendered order_items/_quantity_field.html.haml (2.5ms)
  Rendered order_items/_order_item.html.haml (8.8ms)
  Rendered orders/_result_panel.html.haml (5.5ms)
  Rendered carts/_bottom_panel.html.haml (16.7ms)
  Rendered order_items/_quantity_field.html.haml (2.6ms)
  Rendered order_items/_delete_link.html.haml (0.8ms)
  Rendered order_items/_table_field.html.haml (11.3ms)
  Rendered order_items/_quantity_field.html.haml (4.2ms)
  Rendered order_items/_delete_link.html.haml (0.5ms)
  Rendered order_items/_table_field.html.haml (11.2ms)
  Rendered order_items/_table.html.haml (29.7ms)
  Rendered orders/_result_panel.html.haml (1.4ms)
  Rendered carts/_bottom_panel.html.haml (6.1ms)
  Rendered carts/edit.html.haml within layouts/application (98.9ms)
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (3.9ms)
  Rendered layouts/_collapse_ul.html.haml (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (6.1ms)
  Rendered layouts/_collapse_ul.html.haml (7.6ms)
  [1m[36mBook Load (9.5ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendered layouts/_collapse_ul.html.haml (16.2ms)
  Rendered layouts/_navbar.html.haml (38.6ms)
  Rendered layouts/_dropdown_ul.html.haml (4.1ms)
  Rendered layouts/_dropdown_ul.html.haml (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (4.0ms)
  Rendered layouts/_dropdown_ul.html.haml (5.3ms)
  Rendered layouts/_dropdown_ul.html.haml (1.3ms)
  Rendered layouts/_navbar.html.haml (16.3ms)
  Rendered layouts/_header.html.haml (63.8ms)
  Rendered layouts/_footer.html.haml (6.3ms)
Completed 200 OK in 300ms (Views: 261.1ms | ActiveRecord: 15.1ms)


Started PATCH "/ru/cart" for 127.0.0.1 at 2017-03-20 15:03:47 +0200
Processing by CartsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"r1sPSXpJPpiB3LTxMtHRKvAqBX3VYdxvVj0WBz7eSNINezgQ0Lv+nV1T5vGW5YrGZhxyMbRi4I+BHOr1lPo7qg==", "order"=>{"order_items_attributes"=>{"0"=>{"quantity"=>"1", "id"=>"12"}, "1"=>{"quantity"=>"1", "id"=>"13"}}, "coupon"=>{"code"=>""}}, "to_checkout"=>"Оформление заказа", "locale"=>"ru"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 7], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = 7 ORDER BY "order_items"."created_at" ASC[0m
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (19, 44)[0m
  [1m[36mCoupon Load (0.5ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."code" = $1 LIMIT $2[0m  [["code", ""], ["LIMIT", 1]]
Unpermitted parameter: coupon
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCoupon Load (0.6ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 7], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/ru/checkouts/address
Completed 302 Found in 29ms (ActiveRecord: 4.0ms)


Started GET "/ru/checkouts/address" for 127.0.0.1 at 2017-03-20 15:03:47 +0200
Processing by CheckoutsController#show as HTML
  Parameters: {"locale"=>"ru", "id"=>"address"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 7], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mAddress Load (1.1ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 7], ["addressable_type", "Order"], ["address_type", 0], ["LIMIT", 1]]
  [1m[36mAddress Load (0.4ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 7], ["addressable_type", "Order"], ["address_type", 1], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 7]]
  Rendering checkouts/address.html.haml within layouts/application
  Rendered checkouts/_step_nav.html.haml (3.6ms)
  [1m[36mCountry Load (0.3ms)[0m  [1m[34mSELECT "countries"."id", "countries"."name", "countries"."code" FROM "countries"[0m
  Rendered addresses/_fields.haml (22.3ms)
  Rendered addresses/_fields.haml (14.6ms)
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 44], ["LIMIT", 1]]
  [1m[36mCoupon Load (0.3ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 7], ["LIMIT", 1]]
  Rendered orders/_result_panel.html.haml (14.8ms)
  Rendered checkouts/address.html.haml within layouts/application (70.1ms)
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (4.0ms)
  Rendered layouts/_collapse_ul.html.haml (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (5.3ms)
  Rendered layouts/_collapse_ul.html.haml (6.7ms)
  [1m[36mBook Load (9.5ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendered layouts/_collapse_ul.html.haml (17.3ms)
  Rendered layouts/_navbar.html.haml (39.9ms)
  Rendered layouts/_dropdown_ul.html.haml (3.7ms)
  Rendered layouts/_dropdown_ul.html.haml (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (3.9ms)
  Rendered layouts/_dropdown_ul.html.haml (5.2ms)
  Rendered layouts/_dropdown_ul.html.haml (1.5ms)
  Rendered layouts/_navbar.html.haml (17.1ms)
  Rendered layouts/_header.html.haml (66.6ms)
  Rendered layouts/_footer.html.haml (6.0ms)
Completed 200 OK in 267ms (Views: 229.8ms | ActiveRecord: 14.3ms)


Started PATCH "/ru/checkouts/address" for 127.0.0.1 at 2017-03-20 15:03:56 +0200
Processing by CheckoutsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"7HR9fVGY0x3BsttL32BGUSqi1qFY+vN/xHR+pjEwZB9OVEok+2oTGB09iUt7VB29vJSh7Tn5z58TVYJUmxQXZw==", "order"=>{"billing_attributes"=>{"address_type"=>"billing", "first_name"=>"Oleg", "last_name"=>"Matvieiev", "name"=>"mystreet 5", "city"=>"Dnepr", "zip"=>"49000", "country_id"=>"1", "phone"=>"+380501234567", "id"=>"9"}, "shipping_attributes"=>{"address_type"=>"shipping", "first_name"=>"Oleg", "last_name"=>"Matvieiev", "name"=>"mystreet 5", "city"=>"Dnepr", "zip"=>"49000", "country_id"=>"1", "phone"=>"+380501234567", "id"=>"10"}}, "use_base_address"=>"on", "commit"=>"Сохранить и продолжить", "locale"=>"ru", "id"=>"address"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 7], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mAddress Load (0.6ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 7], ["addressable_type", "Order"], ["address_type", 0], ["LIMIT", 1]]
  [1m[36mAddress Load (0.5ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 7], ["addressable_type", "Order"], ["address_type", 1], ["LIMIT", 1]]
  [1m[36mCountry Load (0.3ms)[0m  [1m[34mSELECT  "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 9]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 10]]
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 7]]
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mBook Load (0.9ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 44], ["LIMIT", 1]]
  [1m[36mCoupon Load (0.3ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 7], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "addresses" ("addressable_type", "addressable_id", "first_name", "last_name", "name", "country_id", "city", "zip", "phone", "created_at", "updated_at", "address_type") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["addressable_type", "Order"], ["addressable_id", 7], ["first_name", "Oleg"], ["last_name", "Matvieiev"], ["name", "mystreet 5"], ["country_id", 1], ["city", "Dnepr"], ["zip", "49000"], ["phone", "+380501234567"], ["created_at", 2017-03-20 13:03:56 UTC], ["updated_at", 2017-03-20 13:03:56 UTC], ["address_type", 0]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "addresses" ("addressable_type", "addressable_id", "first_name", "last_name", "name", "country_id", "city", "zip", "phone", "created_at", "updated_at", "address_type") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["addressable_type", "Order"], ["addressable_id", 7], ["first_name", "Oleg"], ["last_name", "Matvieiev"], ["name", "mystreet 5"], ["country_id", 1], ["city", "Dnepr"], ["zip", "49000"], ["phone", "+380501234567"], ["created_at", 2017-03-20 13:03:56 UTC], ["updated_at", 2017-03-20 13:03:56 UTC], ["address_type", 1]]
  [1m[35m (21.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/ru/checkouts/delivery
Completed 302 Found in 74ms (ActiveRecord: 28.2ms)


Started GET "/ru/checkouts/delivery" for 127.0.0.1 at 2017-03-20 15:03:56 +0200
Processing by CheckoutsController#show as HTML
  Parameters: {"locale"=>"ru", "id"=>"delivery"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 7], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 7]]
  [1m[36mAddress Load (0.5ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 7], ["addressable_type", "Order"], ["address_type", 0], ["LIMIT", 1]]
  [1m[36mAddress Load (0.4ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 7], ["addressable_type", "Order"], ["address_type", 1], ["LIMIT", 1]]
  Rendering checkouts/delivery.html.haml within layouts/application
  Rendered checkouts/_step_nav.html.haml (4.0ms)
  [1m[36mCountry Load (0.4ms)[0m  [1m[34mSELECT  "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDelivery Load (0.5ms)[0m  [1m[34mSELECT "deliveries".* FROM "deliveries" WHERE "deliveries"."country_id" = 1[0m
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 44], ["LIMIT", 1]]
  [1m[36mCoupon Load (0.3ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 7], ["LIMIT", 1]]
  Rendered deliveries/_delivery_checkbox.html.haml (10.0ms)
  Rendered deliveries/_delivery_checkbox.html.haml (0.6ms)
  Rendered deliveries/_deliveries_xs.html.haml (21.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "deliveries".* FROM "deliveries" WHERE "deliveries"."country_id" = 1[0m
  Rendered deliveries/_delivery_checkbox.html.haml (1.8ms)
  Rendered deliveries/_delivery_checkbox.html.haml (1.7ms)
  Rendered deliveries/_deliveries_md.html.haml (13.9ms)
  Rendered orders/_result_panel.html.haml (6.1ms)
  Rendered checkouts/delivery.html.haml within layouts/application (61.1ms)
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (4.0ms)
  Rendered layouts/_collapse_ul.html.haml (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (5.2ms)
  Rendered layouts/_collapse_ul.html.haml (6.6ms)
  [1m[36mBook Load (9.7ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendered layouts/_collapse_ul.html.haml (16.4ms)
  Rendered layouts/_navbar.html.haml (37.0ms)
  Rendered layouts/_dropdown_ul.html.haml (4.1ms)
  Rendered layouts/_dropdown_ul.html.haml (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (3.6ms)
  Rendered layouts/_dropdown_ul.html.haml (4.9ms)
  Rendered layouts/_dropdown_ul.html.haml (1.2ms)
  Rendered layouts/_navbar.html.haml (16.2ms)
  Rendered layouts/_header.html.haml (61.5ms)
  Rendered layouts/_footer.html.haml (6.4ms)
Completed 200 OK in 258ms (Views: 226.0ms | ActiveRecord: 14.7ms)


Started PATCH "/ru/checkouts/delivery" for 127.0.0.1 at 2017-03-20 15:04:35 +0200
Processing by CheckoutsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"swigDghLEzN2FCnMVXx5tqPspq6WPo30uz2PTwKmV/MRKJdXornTNqqbe8zxSCJaNdrR4vc9sRRsHHO9qIIkiw==", "delivery_id"=>"2", "commit"=>"Сохранить и продолжить", "locale"=>"ru", "id"=>"delivery"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 7], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mDelivery Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "deliveries" WHERE "deliveries"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 7]]
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 44], ["LIMIT", 1]]
  [1m[36mCoupon Load (1.0ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 7], ["LIMIT", 1]]
  [1m[36mDelivery Load (0.3ms)[0m  [1m[34mSELECT  "deliveries".* FROM "deliveries" WHERE "deliveries"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "orders" SET "updated_at" = $1, "delivery_id" = $2, "total_price" = $3 WHERE "orders"."id" = $4[0m  [["updated_at", 2017-03-20 13:04:36 UTC], ["delivery_id", 2], ["total_price", #<BigDecimal:af1c06b0,'0.7272E2',18(27)>], ["id", 7]]
  [1m[35m (30.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/ru/checkouts/payment
Completed 302 Found in 67ms (ActiveRecord: 36.7ms)


Started GET "/ru/checkouts/payment" for 127.0.0.1 at 2017-03-20 15:04:36 +0200
Processing by CheckoutsController#show as HTML
  Parameters: {"locale"=>"ru", "id"=>"payment"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 7], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (1.6ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 7]]
  [1m[36mAddress Load (0.4ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 7], ["addressable_type", "Order"], ["address_type", 0], ["LIMIT", 1]]
  [1m[36mAddress Load (0.5ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 7], ["addressable_type", "Order"], ["address_type", 1], ["LIMIT", 1]]
  [1m[36mDelivery Load (0.4ms)[0m  [1m[34mSELECT  "deliveries".* FROM "deliveries" WHERE "deliveries"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering checkouts/payment.html.haml within layouts/application
  Rendered checkouts/_step_nav.html.haml (3.6ms)
  Rendered credit_cards/_fields.html.haml (12.4ms)
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 44], ["LIMIT", 1]]
  [1m[36mCoupon Load (0.3ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 7], ["LIMIT", 1]]
  Rendered orders/_result_panel.html.haml (12.0ms)
  Rendered checkouts/payment.html.haml within layouts/application (35.7ms)
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (4.0ms)
  Rendered layouts/_collapse_ul.html.haml (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (6.3ms)
  Rendered layouts/_collapse_ul.html.haml (7.9ms)
  [1m[36mBook Load (9.4ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendered layouts/_collapse_ul.html.haml (17.1ms)
  Rendered layouts/_navbar.html.haml (39.6ms)
  Rendered layouts/_dropdown_ul.html.haml (3.0ms)
  Rendered layouts/_dropdown_ul.html.haml (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (3.9ms)
  Rendered layouts/_dropdown_ul.html.haml (5.3ms)
  Rendered layouts/_dropdown_ul.html.haml (1.9ms)
  Rendered layouts/_navbar.html.haml (16.8ms)
  Rendered layouts/_header.html.haml (66.2ms)
  Rendered layouts/_footer.html.haml (5.9ms)
Completed 200 OK in 231ms (Views: 193.7ms | ActiveRecord: 15.3ms)


Started PATCH "/ru/checkouts/payment" for 127.0.0.1 at 2017-03-20 15:05:19 +0200
Processing by CheckoutsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"f8VYejHNEW0cZthEwkzBuszAP7YbwcIIRCwUNHBnlTrd5W8jmz/RaMDpikRmeJpWWvZI+nrC/uiTDejG2kPmQg==", "order"=>{"credit_card_attributes"=>{"number"=>"1111222233334444", "name"=>"Oleg", "month_year"=>"17/19", "cvv"=>"123"}}, "commit"=>"Сохранить и продолжить", "locale"=>"ru", "id"=>"payment"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 7], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  Rendering checkouts/payment.html.haml within layouts/application
  Rendered checkouts/_step_nav.html.haml (4.0ms)
  Rendered credit_cards/_fields.html.haml (8.9ms)
  [1m[36mOrderItem Load (1.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 7]]
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 44], ["LIMIT", 1]]
  [1m[36mCoupon Load (0.3ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 7], ["LIMIT", 1]]
  [1m[36mDelivery Load (0.3ms)[0m  [1m[34mSELECT  "deliveries".* FROM "deliveries" WHERE "deliveries"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered orders/_result_panel.html.haml (22.2ms)
  Rendered checkouts/payment.html.haml within layouts/application (43.9ms)
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (4.1ms)
  Rendered layouts/_collapse_ul.html.haml (1.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (6.5ms)
  Rendered layouts/_collapse_ul.html.haml (8.1ms)
  [1m[36mBook Load (10.6ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendered layouts/_collapse_ul.html.haml (17.4ms)
  Rendered layouts/_navbar.html.haml (42.0ms)
  Rendered layouts/_dropdown_ul.html.haml (4.4ms)
  Rendered layouts/_dropdown_ul.html.haml (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (4.0ms)
  Rendered layouts/_dropdown_ul.html.haml (5.3ms)
  Rendered layouts/_dropdown_ul.html.haml (1.3ms)
  Rendered layouts/_navbar.html.haml (16.9ms)
  Rendered layouts/_header.html.haml (67.3ms)
  Rendered layouts/_footer.html.haml (7.2ms)
Completed 200 OK in 243ms (Views: 208.7ms | ActiveRecord: 14.8ms)


Started PATCH "/ru/checkouts/payment" for 127.0.0.1 at 2017-03-20 15:05:48 +0200
Processing by CheckoutsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"f+HMmef9UpAqkpshujfm8tnqgv8mAErCnoNhiiby1TLdwfvATQ+SlfYdySEeA70eT9z1s0cDdiJJop14jNamSg==", "order"=>{"credit_card_attributes"=>{"number"=>"1111 2222 3333 4444", "name"=>"Oleg", "month_year"=>"11/19", "cvv"=>"123"}}, "commit"=>"Сохранить и продолжить", "locale"=>"ru", "id"=>"payment"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 7], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  Rendering checkouts/payment.html.haml within layouts/application
  Rendered checkouts/_step_nav.html.haml (3.4ms)
  Rendered credit_cards/_fields.html.haml (8.0ms)
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 7]]
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 44], ["LIMIT", 1]]
  [1m[36mCoupon Load (0.2ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 7], ["LIMIT", 1]]
  [1m[36mDelivery Load (0.3ms)[0m  [1m[34mSELECT  "deliveries".* FROM "deliveries" WHERE "deliveries"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered orders/_result_panel.html.haml (20.0ms)
  Rendered checkouts/payment.html.haml within layouts/application (39.1ms)
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (3.9ms)
  Rendered layouts/_collapse_ul.html.haml (1.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (7.3ms)
  Rendered layouts/_collapse_ul.html.haml (8.8ms)
  [1m[36mBook Load (9.1ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendered layouts/_collapse_ul.html.haml (15.0ms)
  Rendered layouts/_navbar.html.haml (39.2ms)
  Rendered layouts/_dropdown_ul.html.haml (3.4ms)
  Rendered layouts/_dropdown_ul.html.haml (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (4.0ms)
  Rendered layouts/_dropdown_ul.html.haml (5.3ms)
  Rendered layouts/_dropdown_ul.html.haml (1.8ms)
  Rendered layouts/_navbar.html.haml (16.6ms)
  Rendered layouts/_header.html.haml (64.1ms)
  Rendered layouts/_footer.html.haml (5.9ms)
Completed 200 OK in 227ms (Views: 191.0ms | ActiveRecord: 12.5ms)


Started PATCH "/ru/checkouts/payment" for 127.0.0.1 at 2017-03-20 15:06:05 +0200
Processing by CheckoutsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Lu8g4No3r7dM7r3XBR8fseSM2qj7/xc2/MKrbcnLla6Mzxe5cMVvspBh79ehK0Rdcrqt5Jr8K9Yr41efY+/m1g==", "order"=>{"credit_card_attributes"=>{"number"=>"1111-2222-3333-4444", "name"=>"Oleg", "month_year"=>"11/19", "cvv"=>"123"}}, "commit"=>"Сохранить и продолжить", "locale"=>"ru", "id"=>"payment"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 7], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  Rendering checkouts/payment.html.haml within layouts/application
  Rendered checkouts/_step_nav.html.haml (3.8ms)
  Rendered credit_cards/_fields.html.haml (30.0ms)
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 7]]
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mBook Load (1.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 44], ["LIMIT", 1]]
  [1m[36mCoupon Load (0.3ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 7], ["LIMIT", 1]]
  [1m[36mDelivery Load (0.2ms)[0m  [1m[34mSELECT  "deliveries".* FROM "deliveries" WHERE "deliveries"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered orders/_result_panel.html.haml (21.6ms)
  Rendered checkouts/payment.html.haml within layouts/application (65.4ms)
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (5.0ms)
  Rendered layouts/_collapse_ul.html.haml (1.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (5.9ms)
  Rendered layouts/_collapse_ul.html.haml (7.5ms)
  [1m[36mBook Load (9.3ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendered layouts/_collapse_ul.html.haml (15.6ms)
  Rendered layouts/_navbar.html.haml (39.0ms)
  Rendered layouts/_dropdown_ul.html.haml (5.5ms)
  Rendered layouts/_dropdown_ul.html.haml (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (4.5ms)
  Rendered layouts/_dropdown_ul.html.haml (5.9ms)
  Rendered layouts/_dropdown_ul.html.haml (1.3ms)
  Rendered layouts/_navbar.html.haml (18.7ms)
  Rendered layouts/_header.html.haml (67.3ms)
  Rendered layouts/_footer.html.haml (6.7ms)
Completed 200 OK in 257ms (Views: 223.5ms | ActiveRecord: 13.8ms)


Started PATCH "/ru/checkouts/payment" for 127.0.0.1 at 2017-03-20 15:16:55 +0200
Processing by CheckoutsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Fy5CTWkX2qi3tJBXk5/r0/D0fFg1yP11Fa6Q+1YZaEm1DnUUw+UarWs7wlc3q7A/ZsILFFTLwZXCj2wJ/D0bMQ==", "order"=>{"credit_card_attributes"=>{"number"=>"5274 5763 9425 1111", "name"=>"Oleg", "month_year"=>"11/19", "cvv"=>"123"}}, "commit"=>"Сохранить и продолжить", "locale"=>"ru", "id"=>"payment"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 7], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  Rendering checkouts/payment.html.haml within layouts/application
  Rendered checkouts/_step_nav.html.haml (3.8ms)
  Rendered credit_cards/_fields.html.haml (11.7ms)
  [1m[36mOrderItem Load (1.7ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 7]]
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 44], ["LIMIT", 1]]
  [1m[36mCoupon Load (0.2ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 7], ["LIMIT", 1]]
  [1m[36mDelivery Load (0.3ms)[0m  [1m[34mSELECT  "deliveries".* FROM "deliveries" WHERE "deliveries"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered orders/_result_panel.html.haml (19.3ms)
  Rendered checkouts/payment.html.haml within layouts/application (41.9ms)
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (10.9ms)
  Rendered layouts/_collapse_ul.html.haml (1.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (5.7ms)
  Rendered layouts/_collapse_ul.html.haml (7.1ms)
  [1m[36mBook Load (10.2ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendered layouts/_collapse_ul.html.haml (16.8ms)
  Rendered layouts/_navbar.html.haml (47.1ms)
  Rendered layouts/_dropdown_ul.html.haml (4.3ms)
  Rendered layouts/_dropdown_ul.html.haml (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (3.9ms)
  Rendered layouts/_dropdown_ul.html.haml (5.2ms)
  Rendered layouts/_dropdown_ul.html.haml (1.6ms)
  Rendered layouts/_navbar.html.haml (16.7ms)
  Rendered layouts/_header.html.haml (72.5ms)
  Rendered layouts/_footer.html.haml (6.6ms)
Completed 200 OK in 249ms (Views: 209.8ms | ActiveRecord: 15.3ms)


Started PATCH "/ru/checkouts/payment" for 127.0.0.1 at 2017-03-20 15:17:00 +0200
Processing by CheckoutsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"H5t4/ApXvT1kpRLynR3+5RAj34C2rBQoHaH/m+miRCC9u0+loKV9OLgqQPI5KaUJhhWozNevKMjKgANpQ4Y3WA==", "order"=>{"credit_card_attributes"=>{"number"=>"5274 5763 9425 9961", "name"=>"Oleg", "month_year"=>"11/19", "cvv"=>"123"}}, "commit"=>"Сохранить и продолжить", "locale"=>"ru", "id"=>"payment"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 7], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  Rendering checkouts/payment.html.haml within layouts/application
  Rendered checkouts/_step_nav.html.haml (5.6ms)
  Rendered credit_cards/_fields.html.haml (10.7ms)
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 7]]
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mBook Load (1.1ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 44], ["LIMIT", 1]]
  [1m[36mCoupon Load (0.3ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 7], ["LIMIT", 1]]
  [1m[36mDelivery Load (0.3ms)[0m  [1m[34mSELECT  "deliveries".* FROM "deliveries" WHERE "deliveries"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered orders/_result_panel.html.haml (21.9ms)
  Rendered checkouts/payment.html.haml within layouts/application (46.0ms)
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (4.5ms)
  Rendered layouts/_collapse_ul.html.haml (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (5.6ms)
  Rendered layouts/_collapse_ul.html.haml (7.1ms)
  [1m[36mBook Load (10.0ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendered layouts/_collapse_ul.html.haml (15.1ms)
  Rendered layouts/_navbar.html.haml (37.5ms)
  Rendered layouts/_dropdown_ul.html.haml (4.5ms)
  Rendered layouts/_dropdown_ul.html.haml (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (3.9ms)
  Rendered layouts/_dropdown_ul.html.haml (5.2ms)
  Rendered layouts/_dropdown_ul.html.haml (1.4ms)
  Rendered layouts/_navbar.html.haml (18.0ms)
  Rendered layouts/_header.html.haml (63.6ms)
  Rendered layouts/_footer.html.haml (6.2ms)
Completed 200 OK in 235ms (Views: 203.1ms | ActiveRecord: 14.7ms)


Started PATCH "/ru/checkouts/payment" for 127.0.0.1 at 2017-03-20 15:17:11 +0200
Processing by CheckoutsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Rwlgqh3g6Fn5jOWo2tqB6Z8nhsM8rMrgUkyRsX2tNzDlKVfztxIoXCUDt6h+7toFCRHxj12v9gCFbW1D14lESA==", "order"=>{"credit_card_attributes"=>{"number"=>"5274576394251111", "name"=>"Oleg", "month_year"=>"11/19", "cvv"=>"123"}}, "commit"=>"Сохранить и продолжить", "locale"=>"ru", "id"=>"payment"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 7], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  Rendering checkouts/payment.html.haml within layouts/application
  Rendered checkouts/_step_nav.html.haml (3.9ms)
  Rendered credit_cards/_fields.html.haml (11.5ms)
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 7]]
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 44], ["LIMIT", 1]]
  [1m[36mCoupon Load (0.2ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 7], ["LIMIT", 1]]
  [1m[36mDelivery Load (0.2ms)[0m  [1m[34mSELECT  "deliveries".* FROM "deliveries" WHERE "deliveries"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered orders/_result_panel.html.haml (21.4ms)
  Rendered checkouts/payment.html.haml within layouts/application (44.0ms)
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (4.1ms)
  Rendered layouts/_collapse_ul.html.haml (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (20.2ms)
  Rendered layouts/_collapse_ul.html.haml (21.6ms)
  [1m[36mBook Load (10.8ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendered layouts/_collapse_ul.html.haml (17.3ms)
  Rendered layouts/_navbar.html.haml (53.4ms)
  Rendered layouts/_dropdown_ul.html.haml (4.2ms)
  Rendered layouts/_dropdown_ul.html.haml (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (3.7ms)
  Rendered layouts/_dropdown_ul.html.haml (5.0ms)
  Rendered layouts/_dropdown_ul.html.haml (1.2ms)
  Rendered layouts/_navbar.html.haml (15.7ms)
  Rendered layouts/_header.html.haml (77.3ms)
  Rendered layouts/_footer.html.haml (10.0ms)
Completed 200 OK in 248ms (Views: 218.9ms | ActiveRecord: 14.0ms)


Started PATCH "/ru/checkouts/payment" for 127.0.0.1 at 2017-03-20 15:17:25 +0200
Processing by CheckoutsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"pvOCmoSiDxuOvBp/xKxF6EDrEG5eeEEwl7L1Wq63P98E07XDLlDPHlIzSH9gmB4E1t1nIj97fdBAkwmoBJNMpw==", "order"=>{"credit_card_attributes"=>{"number"=>"5274576394259961", "name"=>"Oleg", "month_year"=>"11/19", "cvv"=>"123"}}, "commit"=>"Сохранить и продолжить", "locale"=>"ru", "id"=>"payment"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 7], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mCreditCard Load (3.3ms)[0m  [1m[34mSELECT  "credit_cards".* FROM "credit_cards" WHERE "credit_cards"."number" = $1 LIMIT $2[0m  [["number", "5274576394259961"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "credit_cards" SET "name" = $1, "month_year" = $2, "updated_at" = $3 WHERE "credit_cards"."id" = $4[0m  [["name", "Oleg"], ["month_year", "11/19"], ["updated_at", 2017-03-20 13:17:25 UTC], ["id", 1]]
  [1m[35m (18.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 7]]
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 44], ["LIMIT", 1]]
  [1m[36mCoupon Load (0.2ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 7], ["LIMIT", 1]]
  [1m[36mDelivery Load (0.3ms)[0m  [1m[34mSELECT  "deliveries".* FROM "deliveries" WHERE "deliveries"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "orders" SET "updated_at" = $1, "credit_card_id" = $2 WHERE "orders"."id" = $3[0m  [["updated_at", 2017-03-20 13:17:25 UTC], ["credit_card_id", 1], ["id", 7]]
  [1m[35m (12.9ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/ru/checkouts/confirm
Completed 302 Found in 92ms (ActiveRecord: 44.5ms)


Started GET "/ru/checkouts/confirm" for 127.0.0.1 at 2017-03-20 15:17:25 +0200
Processing by CheckoutsController#show as HTML
  Parameters: {"locale"=>"ru", "id"=>"confirm"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 7], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.7ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 7]]
  [1m[36mAddress Load (0.4ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 7], ["addressable_type", "Order"], ["address_type", 0], ["LIMIT", 1]]
  [1m[36mAddress Load (0.6ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 7], ["addressable_type", "Order"], ["address_type", 1], ["LIMIT", 1]]
  [1m[36mDelivery Load (0.4ms)[0m  [1m[34mSELECT  "deliveries".* FROM "deliveries" WHERE "deliveries"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCreditCard Load (0.4ms)[0m  [1m[34mSELECT  "credit_cards".* FROM "credit_cards" WHERE "credit_cards"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering checkouts/confirm.html.haml within layouts/application
  Rendered checkouts/_step_nav.html.haml (3.5ms)
  [1m[36mCountry Load (0.6ms)[0m  [1m[34mSELECT  "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered addresses/_panel.html.haml (9.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered addresses/_panel.html.haml (3.9ms)
  Rendered orders/_components_panel.html.haml (23.3ms)
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  Rendered order_items/_quantity_field.html.haml (2.3ms)
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 44], ["LIMIT", 1]]
  Rendered order_items/_quantity_field.html.haml (0.1ms)
  Rendered collection of order_items/_order_item.html.haml [2 times] (20.5ms)
  Rendered order_items/_quantity_field.html.haml (0.1ms)
  Rendered order_items/_table_field.html.haml (5.8ms)
  Rendered order_items/_quantity_field.html.haml (0.1ms)
  Rendered order_items/_table_field.html.haml (2.8ms)
  Rendered order_items/_table.html.haml (17.9ms)
  [1m[36mCoupon Load (0.3ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 7], ["LIMIT", 1]]
  Rendered orders/_result_panel.html.haml (9.2ms)
  Rendered checkouts/confirm.html.haml within layouts/application (83.9ms)
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (4.0ms)
  Rendered layouts/_collapse_ul.html.haml (1.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (6.2ms)
  Rendered layouts/_collapse_ul.html.haml (8.3ms)
  [1m[36mBook Load (10.3ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendered layouts/_collapse_ul.html.haml (15.8ms)
  Rendered layouts/_navbar.html.haml (38.7ms)
  Rendered layouts/_dropdown_ul.html.haml (3.0ms)
  Rendered layouts/_dropdown_ul.html.haml (1.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (3.9ms)
  Rendered layouts/_dropdown_ul.html.haml (5.2ms)
  Rendered layouts/_dropdown_ul.html.haml (1.3ms)
  Rendered layouts/_navbar.html.haml (16.4ms)
  Rendered layouts/_header.html.haml (64.6ms)
  Rendered layouts/_footer.html.haml (6.9ms)
Completed 200 OK in 279ms (Views: 241.7ms | ActiveRecord: 16.3ms)


Started PATCH "/ru/checkouts/confirm" for 127.0.0.1 at 2017-03-20 15:17:49 +0200
Processing by CheckoutsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"a9rP898XBPQCn3QRBpJ5SiggvIaU0ozjynQ+h/b6EqrJ+viqdeXE8d4QJhGipiKmvhbLyvXRsAMdVcJ1XN5h0g==", "confirm"=>"true", "commit"=>"Разместить заказ", "locale"=>"ru", "id"=>"confirm"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 7], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 7]]
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 44], ["LIMIT", 1]]
  [1m[36mCoupon Load (0.3ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 7], ["LIMIT", 1]]
  [1m[36mDelivery Load (2.4ms)[0m  [1m[34mSELECT  "deliveries".* FROM "deliveries" WHERE "deliveries"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "orders" SET "state" = $1, "updated_at" = $2 WHERE "orders"."id" = $3[0m  [["state", "in_progress"], ["updated_at", 2017-03-20 13:17:49 UTC], ["id", 7]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering checkout_mailer/complete.html.haml within layouts/mailer
  Rendered checkout_mailer/complete.html.haml within layouts/mailer (15.4ms)
CheckoutMailer#complete: processed outbound mail in 27.9ms
Sent mail to test@exmpl.ua (1.9ms)
Date: Mon, 20 Mar 2017 15:17:49 +0200
To: test@exmpl.ua
Message-ID: <58cfd67d1b32c_41bc61e518a7571e@oleg.mail>
Subject: Complete Order #7
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<hmtl>
<body>
<head>
<style>
  table {
    font-family: arial, sans-serif;
    border-collapse: collapse;
    width: 100%;
  }
  =

  td, th {
    border: 1px solid #dddddd;
    text-align: left;
    padding: 8px;
  }
  tr:nth-child(2n+1) {
    background-color: #dddddd;
  }
</style>
</head>
<body>
<table>
<tr>
<td colspan=3D'3'>Hello, test@exmpl.ua</td>
</tr>
<tr>
<td align=3D'center' colspan=3D'3' style=3D'padding: 25px 0px; font-size:=
 17px; line-height: 24px; font-size: 26px; text-align: center'>
<a href=3D"http://localhost:3000/ru/orders/7">Order #7</a>
</td>
</tr>
</table>
<table>
<tr>
<th>=D0=A2=D0=BE=D0=B2=D0=B0=D1=80</th>
<th>=D0=A6=D0=B5=D0=BD=D0=B0</th>
<th>=D0=9A=D0=BE=D0=BB=D0=B8=D1=87=D0=B5=D1=81=D1=82=D0=B2=D0=BE</th>
<th>=D0=A1=D1=83=D0=BC=D0=BC=D0=B0</th>
</tr>
<tr>
<td>Bloody Rain</td>
<td>11,59 =E2=82=AC</td>
<td>1</td>
<td>11,59 =E2=82=AC</td>
</tr>
<tr>
<td>Champagne Dreams</td>
<td>13,13 =E2=82=AC</td>
<td>1</td>
<td>13,13 =E2=82=AC</td>
</tr>
</table>
<p></p>
<table style=3D'width: 300px'>
<tr>
<td>Checkout</td>
<td></td>
</tr>
<tr>
<td>=D0=A1=D1=83=D0=BC=D0=BC=D0=B0:</td>
<td>24,72 =E2=82=AC</td>
</tr>
<tr>
<td>=D0=9A=D1=83=D0=BF=D0=BE=D0=BD:</td>
<td>0,00 =E2=82=AC</td>
</tr>
<tr>
<td>=D0=94=D0=BE=D1=81=D1=82=D0=B0=D0=B2=D0=BA=D0=B0:</td>
<td>48,00 =E2=82=AC</td>
</tr>
<tr>
<td>
<b>=D0=98=D1=82=D0=BE=D0=B3=D0=BE:</b>
</td>
<td>
<b>72,72 =E2=82=AC</b>
</td>
</tr>
</table>
</body>

</body>
</hmtl>

  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 73ms (ActiveRecord: 6.3ms)


  
ArgumentError (An SMTP From address is required to send a message. Set the message smtp_envelope_from, return_path, sender, or from address.):
  
app/commands/checkout/step_confirm.rb:23:in `send_mail'
app/commands/checkout/step_confirm.rb:15:in `block in call'
app/commands/checkout/step_confirm.rb:13:in `call'
app/controllers/checkouts_controller.rb:25:in `update'
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (6.7ms)
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.8ms)
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.7ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (57.9ms)
Started POST "/__web_console/repl_sessions/8b0b8d06bd4cb205739e7c8b06244b92/trace" for 127.0.0.1 at 2017-03-20 15:23:29 +0200
Started POST "/__web_console/repl_sessions/8b0b8d06bd4cb205739e7c8b06244b92/trace" for 127.0.0.1 at 2017-03-20 15:23:31 +0200
Started POST "/__web_console/repl_sessions/8b0b8d06bd4cb205739e7c8b06244b92/trace" for 127.0.0.1 at 2017-03-20 15:23:31 +0200
Started PATCH "/ru/checkouts/confirm" for 127.0.0.1 at 2017-03-20 15:24:27 +0200
Processing by CheckoutsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"a9rP898XBPQCn3QRBpJ5SiggvIaU0ozjynQ+h/b6EqrJ+viqdeXE8d4QJhGipiKmvhbLyvXRsAMdVcJ1XN5h0g==", "confirm"=>"true", "commit"=>"Разместить заказ", "locale"=>"ru", "id"=>"confirm"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 7], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 7]]
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 44], ["LIMIT", 1]]
  [1m[36mCoupon Load (0.3ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 7], ["LIMIT", 1]]
  [1m[36mDelivery Load (0.3ms)[0m  [1m[34mSELECT  "deliveries".* FROM "deliveries" WHERE "deliveries"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "orders" SET "state" = $1, "updated_at" = $2 WHERE "orders"."id" = $3[0m  [["state", "in_progress"], ["updated_at", 2017-03-20 13:24:27 UTC], ["id", 7]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (11.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/ru/checkouts/complete
Completed 302 Found in 181ms (ActiveRecord: 21.4ms)


Started GET "/ru/checkouts/complete" for 127.0.0.1 at 2017-03-20 15:24:27 +0200
Processing by CheckoutsController#show as HTML
  Parameters: {"locale"=>"ru", "id"=>"complete"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 7], ["state", "processing"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "orders" ("state", "created_at", "updated_at", "total_price") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["state", "processing"], ["created_at", 2017-03-20 13:24:27 UTC], ["updated_at", 2017-03-20 13:24:27 UTC], ["total_price", #<BigDecimal:bd5be24,'0.0',9(18)>]]
  [1m[35m (12.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "orders" ("state", "user_id", "created_at", "updated_at", "total_price") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["state", "processing"], ["user_id", 2], ["created_at", 2017-03-20 13:24:28 UTC], ["updated_at", 2017-03-20 13:24:28 UTC], ["total_price", #<BigDecimal:bc9aa80,'0.0',9(18)>]]
  [1m[35m (12.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.4ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 8], ["addressable_type", "Order"], ["address_type", 0], ["LIMIT", 1]]
  [1m[36mAddress Load (0.4ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 8], ["addressable_type", "Order"], ["address_type", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 8]]
  [1m[35m (9.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  Rendering checkouts/complete.html.haml within layouts/application
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "in_progress"], ["LIMIT", 1]]
  Rendered checkouts/_step_nav.html.haml (3.9ms)
  [1m[36mAddress Load (1.5ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 7], ["addressable_type", "Order"], ["address_type", 1], ["LIMIT", 1]]
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT  "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered addresses/_panel.html.haml (23.5ms)
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 7]]
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  Rendered order_items/_quantity_field.html.haml (2.3ms)
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 44], ["LIMIT", 1]]
  Rendered order_items/_quantity_field.html.haml (0.1ms)
  Rendered collection of order_items/_order_item.html.haml [2 times] (22.7ms)
  Rendered order_items/_quantity_field.html.haml (0.1ms)
  Rendered order_items/_table_field.html.haml (7.3ms)
  Rendered order_items/_quantity_field.html.haml (0.4ms)
  Rendered order_items/_table_field.html.haml (3.9ms)
  Rendered order_items/_table.html.haml (17.2ms)
  [1m[36mCoupon Load (0.2ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 7], ["LIMIT", 1]]
  [1m[36mDelivery Load (0.3ms)[0m  [1m[34mSELECT  "deliveries".* FROM "deliveries" WHERE "deliveries"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered orders/_result_panel.html.haml (10.5ms)
  Rendered checkouts/complete.html.haml within layouts/application (139.0ms)
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (12.9ms)
  Rendered layouts/_collapse_ul.html.haml (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (6.3ms)
  Rendered layouts/_collapse_ul.html.haml (7.7ms)
  [1m[36mBook Load (9.1ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendered layouts/_collapse_ul.html.haml (74.1ms)
  Rendered layouts/_navbar.html.haml (104.8ms)
  Rendered layouts/_dropdown_ul.html.haml (2.8ms)
  Rendered layouts/_dropdown_ul.html.haml (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (3.7ms)
  Rendered layouts/_dropdown_ul.html.haml (5.1ms)
  Rendered layouts/_dropdown_ul.html.haml (1.5ms)
  Rendered layouts/_navbar.html.haml (15.4ms)
  Rendered layouts/_header.html.haml (127.8ms)
  Rendered layouts/_footer.html.haml (6.4ms)
Completed 200 OK in 439ms (Views: 335.9ms | ActiveRecord: 69.9ms)


Started GET "/ru/orders" for 127.0.0.1 at 2017-03-20 15:24:49 +0200
Processing by OrdersController#index as HTML
  Parameters: {"locale"=>"ru"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (12.6ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering orders/index.html.haml within layouts/application
  [1m[36mOrder Load (1.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" INNER JOIN "order_items" ON "order_items"."order_id" = "orders"."id" WHERE "orders"."user_id" = $1 AND ('t'='t') GROUP BY orders.id HAVING (COUNT(order_items) != 0) ORDER BY "orders"."created_at" DESC[0m  [["user_id", 2]]
  Rendered collection of orders/_order.html.haml [2 times] (9.7ms)
  Rendered orders/_orders_table.html.haml (5.0ms)
  Rendered orders/index.html.haml within layouts/application (26.6ms)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 9], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 9]]
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (4.6ms)
  Rendered layouts/_collapse_ul.html.haml (1.6ms)
  [1m[36mCACHE (0.1ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (9.1ms)
  Rendered layouts/_collapse_ul.html.haml (10.6ms)
  Rendered layouts/_collapse_ul.html.haml (1.8ms)
  Rendered layouts/_navbar.html.haml (30.1ms)
  Rendered layouts/_dropdown_ul.html.haml (2.8ms)
  Rendered layouts/_dropdown_ul.html.haml (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (5.3ms)
  Rendered layouts/_dropdown_ul.html.haml (7.1ms)
  Rendered layouts/_dropdown_ul.html.haml (1.4ms)
  Rendered layouts/_navbar.html.haml (16.6ms)
  Rendered layouts/_header.html.haml (63.8ms)
  Rendered layouts/_footer.html.haml (6.8ms)
Completed 200 OK in 235ms (Views: 198.0ms | ActiveRecord: 15.9ms)


Started GET "/admin/order?_pjax=%5Bdata-pjax-container%5D" for 127.0.0.1 at 2017-03-20 15:25:02 +0200
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"_pjax"=>"[data-pjax-container]", "model_name"=>"order"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (10.3ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE ('t'='t') AND ("orders"."user_id" IS NOT NULL) ORDER BY orders.id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 20], ["OFFSET", 0]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders" WHERE ('t'='t') AND ("orders"."user_id" IS NOT NULL)[0m
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax (159.2ms)
Completed 200 OK in 205ms (Views: 172.1ms | ActiveRecord: 12.4ms)


Started POST "/admin/order/9/state?attr=state&event=confirm" for 127.0.0.1 at 2017-03-20 15:25:17 +0200
Processing by RailsAdmin::MainController#state as HTML
  Parameters: {"authenticity_token"=>"guimTm+2Kj5ztTy33MZShY8KrHAggBRVcp7Xyn0uDZUgyJEXxUTqO686brd48glpGTzbPEGDKLWlvys41wp+7Q==", "attr"=>"state", "event"=>"confirm", "model_name"=>"order", "id"=>"9"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (12.9ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 ORDER BY "orders"."id" ASC LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 9]]
  [1m[36mCoupon Load (0.3ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 9], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "orders" SET "state" = $1, "updated_at" = $2 WHERE "orders"."id" = $3[0m  [["state", "in_progress"], ["updated_at", 2017-03-20 13:25:17 UTC], ["id", 9]]
  [1m[35m (31.1ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from redirect_to at /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_controller/metal/redirecting.rb:66)
Redirected to http://localhost:3000/admin/order
Completed 302 Found in 73ms (ActiveRecord: 46.3ms)


Started GET "/admin/order" for 127.0.0.1 at 2017-03-20 15:25:17 +0200
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"model_name"=>"order"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (9.5ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/application
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE ('t'='t') AND ("orders"."user_id" IS NOT NULL) ORDER BY orders.id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 20], ["OFFSET", 0]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders" WHERE ('t'='t') AND ("orders"."user_id" IS NOT NULL)[0m
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/application (182.9ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_secondary_navigation.html.haml (5.3ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_navigation.html.haml (11.0ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_sidebar_navigation.html.haml (24.6ms)
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml (7.8ms)
Completed 200 OK in 443ms (Views: 414.1ms | ActiveRecord: 11.0ms)


Started GET "/ru/orders" for 127.0.0.1 at 2017-03-20 15:25:25 +0200
Processing by OrdersController#index as HTML
  Parameters: {"locale"=>"ru"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (9.1ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering orders/index.html.haml within layouts/application
  [1m[36mOrder Load (1.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" INNER JOIN "order_items" ON "order_items"."order_id" = "orders"."id" WHERE "orders"."user_id" = $1 AND ('t'='t') GROUP BY orders.id HAVING (COUNT(order_items) != 0) ORDER BY "orders"."created_at" DESC[0m  [["user_id", 2]]
  Rendered collection of orders/_order.html.haml [2 times] (7.2ms)
  Rendered orders/_orders_table.html.haml (5.1ms)
  Rendered orders/index.html.haml within layouts/application (24.7ms)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 9], ["state", "processing"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "orders" ("state", "created_at", "updated_at", "total_price") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["state", "processing"], ["created_at", 2017-03-20 13:25:25 UTC], ["updated_at", 2017-03-20 13:25:25 UTC], ["total_price", #<BigDecimal:afc25a4c,'0.0',9(18)>]]
  [1m[35m (38.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "orders" ("state", "user_id", "created_at", "updated_at", "total_price") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["state", "processing"], ["user_id", 2], ["created_at", 2017-03-20 13:25:25 UTC], ["updated_at", 2017-03-20 13:25:25 UTC], ["total_price", #<BigDecimal:afc081e0,'0.0',9(18)>]]
  [1m[35m (3.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.4ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 10], ["addressable_type", "Order"], ["address_type", 0], ["LIMIT", 1]]
  [1m[36mAddress Load (0.4ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 10], ["addressable_type", "Order"], ["address_type", 1], ["LIMIT", 1]]
  [1m[35mSQL (1.6ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 10]]
  [1m[35m (12.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (4.3ms)
  Rendered layouts/_collapse_ul.html.haml (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (7.8ms)
  Rendered layouts/_collapse_ul.html.haml (9.8ms)
  Rendered layouts/_collapse_ul.html.haml (1.5ms)
  Rendered layouts/_navbar.html.haml (25.5ms)
  Rendered layouts/_dropdown_ul.html.haml (2.9ms)
  Rendered layouts/_dropdown_ul.html.haml (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (4.9ms)
  Rendered layouts/_dropdown_ul.html.haml (6.3ms)
  Rendered layouts/_dropdown_ul.html.haml (1.3ms)
  Rendered layouts/_navbar.html.haml (15.6ms)
  Rendered layouts/_header.html.haml (130.4ms)
  Rendered layouts/_footer.html.haml (6.3ms)
Completed 200 OK in 290ms (Views: 197.0ms | ActiveRecord: 70.8ms)


Started POST "/admin/order/9/state?attr=state&event=sent" for 127.0.0.1 at 2017-03-20 15:25:36 +0200
Processing by RailsAdmin::MainController#state as HTML
  Parameters: {"authenticity_token"=>"k0Om1abjbFJ6yr40ZK/8LaVpzy1NsmdsE7N1XDbcUKIxY5GMDBGsV6ZF7DTAm6fBM1+4YSyxW4zEkomunPgj2g==", "attr"=>"state", "event"=>"sent", "model_name"=>"order", "id"=>"9"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (11.2ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 ORDER BY "orders"."id" ASC LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 9]]
  [1m[36mCoupon Load (0.2ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 9], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "orders" SET "state" = $1, "updated_at" = $2 WHERE "orders"."id" = $3[0m  [["state", "in_transit"], ["updated_at", 2017-03-20 13:25:36 UTC], ["id", 9]]
  [1m[35m (24.1ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from redirect_to at /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_controller/metal/redirecting.rb:66)
Redirected to http://localhost:3000/admin/order
Completed 302 Found in 65ms (ActiveRecord: 37.3ms)


Started GET "/admin/order" for 127.0.0.1 at 2017-03-20 15:25:36 +0200
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"model_name"=>"order"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (10.4ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/application
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE ('t'='t') AND ("orders"."user_id" IS NOT NULL) ORDER BY orders.id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 20], ["OFFSET", 0]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders" WHERE ('t'='t') AND ("orders"."user_id" IS NOT NULL)[0m
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/application (198.7ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_secondary_navigation.html.haml (5.8ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_navigation.html.haml (12.6ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_sidebar_navigation.html.haml (19.5ms)
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml (11.7ms)
Completed 200 OK in 468ms (Views: 443.0ms | ActiveRecord: 11.8ms)


Started POST "/admin/order/11/state?attr=state&event=confirm" for 127.0.0.1 at 2017-03-20 15:25:42 +0200
Processing by RailsAdmin::MainController#state as HTML
  Parameters: {"authenticity_token"=>"mJEfSDQhAUTp9SDVCCHXLtF4dEtVqTS97WOHH0vw12U6sSgRntPBQTV6ctWsFYzCR04DBzSqCF06Qnvt4dSkHQ==", "attr"=>"state", "event"=>"confirm", "model_name"=>"order", "id"=>"11"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (11.2ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 ORDER BY "orders"."id" ASC LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 11]]
  [1m[36mCoupon Load (0.3ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "orders" SET "state" = $1, "updated_at" = $2 WHERE "orders"."id" = $3[0m  [["state", "in_progress"], ["updated_at", 2017-03-20 13:25:42 UTC], ["id", 11]]
  [1m[35m (114.8ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from redirect_to at /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_controller/metal/redirecting.rb:66)
Redirected to http://localhost:3000/admin/order
Completed 302 Found in 154ms (ActiveRecord: 128.2ms)


Started GET "/admin/order" for 127.0.0.1 at 2017-03-20 15:25:43 +0200
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"model_name"=>"order"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (10.8ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/application
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE ('t'='t') AND ("orders"."user_id" IS NOT NULL) ORDER BY orders.id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 20], ["OFFSET", 0]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders" WHERE ('t'='t') AND ("orders"."user_id" IS NOT NULL)[0m
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/application (176.4ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_secondary_navigation.html.haml (6.8ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_navigation.html.haml (29.9ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_sidebar_navigation.html.haml (23.5ms)
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml (9.2ms)
Completed 200 OK in 461ms (Views: 434.7ms | ActiveRecord: 12.5ms)


Started POST "/admin/order/11/state?attr=state&event=sent" for 127.0.0.1 at 2017-03-20 15:25:52 +0200
Processing by RailsAdmin::MainController#state as HTML
  Parameters: {"authenticity_token"=>"xNSiI6OLXK4lqmpdBXXPMWFFuEWh6eSoiAV8q2TmsRxm9JV6CXmcq/klOF2hQZTd93PPCcDq2EhfJIBZzsLCZA==", "attr"=>"state", "event"=>"sent", "model_name"=>"order", "id"=>"11"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (11.9ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 ORDER BY "orders"."id" ASC LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 11]]
  [1m[36mCoupon Load (0.1ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "orders" SET "state" = $1, "updated_at" = $2 WHERE "orders"."id" = $3[0m  [["state", "in_transit"], ["updated_at", 2017-03-20 13:25:52 UTC], ["id", 11]]
  [1m[35m (17.3ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from redirect_to at /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_controller/metal/redirecting.rb:66)
Redirected to http://localhost:3000/admin/order
Completed 302 Found in 61ms (ActiveRecord: 31.0ms)


Started GET "/admin/order" for 127.0.0.1 at 2017-03-20 15:25:53 +0200
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"model_name"=>"order"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (9.7ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/application
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE ('t'='t') AND ("orders"."user_id" IS NOT NULL) ORDER BY orders.id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 20], ["OFFSET", 0]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders" WHERE ('t'='t') AND ("orders"."user_id" IS NOT NULL)[0m
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/application (178.5ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_secondary_navigation.html.haml (7.9ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_navigation.html.haml (14.9ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_sidebar_navigation.html.haml (29.3ms)
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml (13.5ms)
Completed 200 OK in 499ms (Views: 473.2ms | ActiveRecord: 11.0ms)


Started GET "/ru/orders" for 127.0.0.1 at 2017-03-20 15:25:58 +0200
Processing by OrdersController#index as HTML
  Parameters: {"locale"=>"ru"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (9.1ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering orders/index.html.haml within layouts/application
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders" INNER JOIN "order_items" ON "order_items"."order_id" = "orders"."id" WHERE "orders"."user_id" = $1 AND ('t'='t') GROUP BY orders.id HAVING (COUNT(order_items) != 0) ORDER BY "orders"."created_at" DESC[0m  [["user_id", 2]]
  Rendered collection of orders/_order.html.haml [2 times] (10.2ms)
  Rendered orders/_orders_table.html.haml (9.9ms)
  Rendered orders/index.html.haml within layouts/application (34.7ms)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 11], ["state", "processing"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "orders" ("state", "created_at", "updated_at", "total_price") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["state", "processing"], ["created_at", 2017-03-20 13:25:59 UTC], ["updated_at", 2017-03-20 13:25:59 UTC], ["total_price", #<BigDecimal:ae8204fc,'0.0',9(18)>]]
  [1m[35m (65.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mOrder Load (1.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "orders" ("state", "user_id", "created_at", "updated_at", "total_price") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["state", "processing"], ["user_id", 2], ["created_at", 2017-03-20 13:25:59 UTC], ["updated_at", 2017-03-20 13:25:59 UTC], ["total_price", #<BigDecimal:ae856c64,'0.0',9(18)>]]
  [1m[35m (2.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.4ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 12], ["addressable_type", "Order"], ["address_type", 0], ["LIMIT", 1]]
  [1m[36mAddress Load (0.4ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 12], ["addressable_type", "Order"], ["address_type", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 12]]
  [1m[35m (10.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (3.7ms)
  Rendered layouts/_collapse_ul.html.haml (1.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (4.9ms)
  Rendered layouts/_collapse_ul.html.haml (6.2ms)
  Rendered layouts/_collapse_ul.html.haml (1.2ms)
  Rendered layouts/_navbar.html.haml (21.5ms)
  Rendered layouts/_dropdown_ul.html.haml (3.5ms)
  Rendered layouts/_dropdown_ul.html.haml (1.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (3.3ms)
  Rendered layouts/_dropdown_ul.html.haml (4.5ms)
  Rendered layouts/_dropdown_ul.html.haml (1.2ms)
  Rendered layouts/_navbar.html.haml (16.0ms)
  Rendered layouts/_header.html.haml (161.0ms)
  Rendered layouts/_footer.html.haml (5.5ms)
Completed 200 OK in 372ms (Views: 250.8ms | ActiveRecord: 94.2ms)


Started GET "/ru/orders" for 127.0.0.1 at 2017-03-20 15:26:03 +0200
Processing by OrdersController#index as HTML
  Parameters: {"locale"=>"ru"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (12.0ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering orders/index.html.haml within layouts/application
  [1m[36mOrder Load (0.9ms)[0m  [1m[34mSELECT "orders".* FROM "orders" INNER JOIN "order_items" ON "order_items"."order_id" = "orders"."id" WHERE "orders"."user_id" = $1 AND ('t'='t') GROUP BY orders.id HAVING (COUNT(order_items) != 0) ORDER BY "orders"."created_at" DESC[0m  [["user_id", 2]]
  Rendered collection of orders/_order.html.haml [2 times] (9.8ms)
  Rendered orders/_orders_table.html.haml (5.0ms)
  Rendered orders/index.html.haml within layouts/application (25.4ms)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 13], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 13]]
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (7.4ms)
  Rendered layouts/_collapse_ul.html.haml (1.0ms)
  [1m[36mCACHE (0.1ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (11.0ms)
  Rendered layouts/_collapse_ul.html.haml (12.5ms)
  Rendered layouts/_collapse_ul.html.haml (1.5ms)
  Rendered layouts/_navbar.html.haml (31.9ms)
  Rendered layouts/_dropdown_ul.html.haml (3.0ms)
  Rendered layouts/_dropdown_ul.html.haml (0.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (3.8ms)
  Rendered layouts/_dropdown_ul.html.haml (5.1ms)
  Rendered layouts/_dropdown_ul.html.haml (1.4ms)
  Rendered layouts/_navbar.html.haml (14.6ms)
  Rendered layouts/_header.html.haml (61.4ms)
  Rendered layouts/_footer.html.haml (6.9ms)
Completed 200 OK in 231ms (Views: 195.5ms | ActiveRecord: 15.0ms)


Started GET "/ru/orders/5" for 127.0.0.1 at 2017-03-20 15:26:14 +0200
Processing by OrdersController#show as HTML
  Parameters: {"locale"=>"ru", "id"=>"5"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 5], ["LIMIT", 1]]
  [1m[36mBook Load (13.5ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering orders/show.html.haml within layouts/application
  [1m[36mAddress Load (0.4ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 5], ["addressable_type", "Order"], ["address_type", 0], ["LIMIT", 1]]
  [1m[36mAddress Load (0.4ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 5], ["addressable_type", "Order"], ["address_type", 1], ["LIMIT", 1]]
  Rendered addresses/_panel.html.haml (9.5ms)
  Rendered orders/_components_panel.html.haml (20.8ms)
  Rendered orders/show.html.haml within layouts/application (24.4ms)
Completed 500 Internal Server Error in 75ms (ActiveRecord: 15.4ms)


  
ActionView::Template::Error (undefined method `address_type' for nil:NilClass):
    1: %h3.general-subtitle= t("#{address.address_type}_address")
    2: %p.general-address
    3:   = address.decorate.full_name
    4:   - if local_assigns[:edit]
  
app/views/addresses/_panel.html.haml:1:in `_app_views_addresses__panel_html_haml__67296191__657251918'
app/views/orders/_components_panel.html.haml:3:in `block in _app_views_orders__components_panel_html_haml___1057585175__657158858'
app/views/orders/_components_panel.html.haml:1:in `each'
app/views/orders/_components_panel.html.haml:1:in `_app_views_orders__components_panel_html_haml___1057585175__657158858'
app/views/orders/show.html.haml:4:in `_app_views_orders_show_html_haml__930809465__655442738'
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (8.7ms)
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.1ms)
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (58.2ms)
Started GET "/ru/orders/5" for 127.0.0.1 at 2017-03-20 15:26:24 +0200
Processing by OrdersController#show as HTML
  Parameters: {"locale"=>"ru", "id"=>"5"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 5], ["LIMIT", 1]]
  [1m[36mBook Load (10.5ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering orders/show.html.haml within layouts/application
  [1m[36mAddress Load (0.5ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 5], ["addressable_type", "Order"], ["address_type", 0], ["LIMIT", 1]]
  [1m[36mAddress Load (0.4ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 5], ["addressable_type", "Order"], ["address_type", 1], ["LIMIT", 1]]
  Rendered addresses/_panel.html.haml (8.1ms)
  Rendered orders/_components_panel.html.haml (18.1ms)
  Rendered orders/show.html.haml within layouts/application (22.3ms)
Completed 500 Internal Server Error in 67ms (ActiveRecord: 12.3ms)


  
ActionView::Template::Error (undefined method `address_type' for nil:NilClass):
    1: %h3.general-subtitle= t("#{address.address_type}_address")
    2: %p.general-address
    3:   = address.decorate.full_name
    4:   - if local_assigns[:edit]
  
app/views/addresses/_panel.html.haml:1:in `_app_views_addresses__panel_html_haml__67296191__653000428'
app/views/orders/_components_panel.html.haml:3:in `block in _app_views_orders__components_panel_html_haml___1057585175__652534468'
app/views/orders/_components_panel.html.haml:1:in `each'
app/views/orders/_components_panel.html.haml:1:in `_app_views_orders__components_panel_html_haml___1057585175__652534468'
app/views/orders/show.html.haml:4:in `_app_views_orders_show_html_haml__930809465__654724478'
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (8.4ms)
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.1ms)
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.5ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (59.0ms)
Started GET "/ru/orders/7" for 127.0.0.1 at 2017-03-20 15:26:41 +0200
Processing by OrdersController#show as HTML
  Parameters: {"locale"=>"ru", "id"=>"7"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 7], ["LIMIT", 1]]
  [1m[36mBook Load (9.9ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering orders/show.html.haml within layouts/application
  [1m[36mAddress Load (0.4ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 7], ["addressable_type", "Order"], ["address_type", 0], ["LIMIT", 1]]
  [1m[36mAddress Load (0.5ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 7], ["addressable_type", "Order"], ["address_type", 1], ["LIMIT", 1]]
  [1m[36mCountry Load (0.3ms)[0m  [1m[34mSELECT  "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered addresses/_panel.html.haml (4.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered addresses/_panel.html.haml (2.0ms)
  [1m[36mDelivery Load (0.3ms)[0m  [1m[34mSELECT  "deliveries".* FROM "deliveries" WHERE "deliveries"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCreditCard Load (0.6ms)[0m  [1m[34mSELECT  "credit_cards".* FROM "credit_cards" WHERE "credit_cards"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered orders/_components_panel.html.haml (45.5ms)
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 7]]
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  Rendered order_items/_quantity_field.html.haml (2.0ms)
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 44], ["LIMIT", 1]]
  Rendered order_items/_quantity_field.html.haml (0.5ms)
  Rendered collection of order_items/_order_item.html.haml [2 times] (19.8ms)
  Rendered order_items/_quantity_field.html.haml (0.1ms)
  Rendered order_items/_table_field.html.haml (7.1ms)
  Rendered order_items/_quantity_field.html.haml (0.1ms)
  Rendered order_items/_table_field.html.haml (3.8ms)
  Rendered order_items/_table.html.haml (31.1ms)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 13], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mCoupon Load (0.2ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 13], ["LIMIT", 1]]
  [1m[36mCoupon Load (0.1ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 7], ["LIMIT", 1]]
  Rendered orders/_result_panel.html.haml (14.1ms)
  Rendered orders/show.html.haml within layouts/application (123.8ms)
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 13]]
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (4.1ms)
  Rendered layouts/_collapse_ul.html.haml (2.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (5.6ms)
  Rendered layouts/_collapse_ul.html.haml (8.3ms)
  Rendered layouts/_collapse_ul.html.haml (1.6ms)
  Rendered layouts/_navbar.html.haml (25.5ms)
  Rendered layouts/_dropdown_ul.html.haml (4.8ms)
  Rendered layouts/_dropdown_ul.html.haml (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (3.6ms)
  Rendered layouts/_dropdown_ul.html.haml (5.0ms)
  Rendered layouts/_dropdown_ul.html.haml (1.2ms)
  Rendered layouts/_navbar.html.haml (17.0ms)
  Rendered layouts/_header.html.haml (54.1ms)
  Rendered layouts/_footer.html.haml (7.3ms)
Completed 200 OK in 319ms (Views: 276.2ms | ActiveRecord: 19.6ms)


Started POST "/admin/order/11/state?attr=state&event=delivered" for 127.0.0.1 at 2017-03-20 15:26:54 +0200
Processing by RailsAdmin::MainController#state as HTML
  Parameters: {"authenticity_token"=>"nZ1ChL8ZlvMNlPtfWRl0Cs9ChgOYiSas7+Xb7jRGPWc/vXXdFetW9tEbqV/9LS/mWXTxT/mKGkw4xCccnmJOHw==", "attr"=>"state", "event"=>"delivered", "model_name"=>"order", "id"=>"11"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (13.0ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  [1m[36mOrder Load (2.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 ORDER BY "orders"."id" ASC LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 11]]
  [1m[36mCoupon Load (0.3ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "orders" SET "state" = $1, "updated_at" = $2 WHERE "orders"."id" = $3[0m  [["state", "delivered"], ["updated_at", 2017-03-20 13:26:54 UTC], ["id", 11]]
  [1m[35m (20.8ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from redirect_to at /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_controller/metal/redirecting.rb:66)
Redirected to http://localhost:3000/admin/order
Completed 302 Found in 63ms (ActiveRecord: 37.7ms)


Started GET "/admin/order" for 127.0.0.1 at 2017-03-20 15:26:54 +0200
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"model_name"=>"order"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (9.0ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/application
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE ('t'='t') AND ("orders"."user_id" IS NOT NULL) ORDER BY orders.id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 20], ["OFFSET", 0]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders" WHERE ('t'='t') AND ("orders"."user_id" IS NOT NULL)[0m
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/application (196.8ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_secondary_navigation.html.haml (6.7ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_navigation.html.haml (12.8ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_sidebar_navigation.html.haml (21.4ms)
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml (12.6ms)
Completed 200 OK in 477ms (Views: 451.9ms | ActiveRecord: 10.5ms)


Started GET "/ru/orders" for 127.0.0.1 at 2017-03-20 15:27:00 +0200
Processing by OrdersController#index as HTML
  Parameters: {"locale"=>"ru"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (11.0ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering orders/index.html.haml within layouts/application
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders" INNER JOIN "order_items" ON "order_items"."order_id" = "orders"."id" WHERE "orders"."user_id" = $1 AND ('t'='t') GROUP BY orders.id HAVING (COUNT(order_items) != 0) ORDER BY "orders"."created_at" DESC[0m  [["user_id", 2]]
  Rendered collection of orders/_order.html.haml [2 times] (10.0ms)
  Rendered orders/_orders_table.html.haml (5.1ms)
  Rendered orders/index.html.haml within layouts/application (25.0ms)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 13], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 13]]
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (4.6ms)
  Rendered layouts/_collapse_ul.html.haml (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (5.3ms)
  Rendered layouts/_collapse_ul.html.haml (6.7ms)
  Rendered layouts/_collapse_ul.html.haml (2.3ms)
  Rendered layouts/_navbar.html.haml (24.0ms)
  Rendered layouts/_dropdown_ul.html.haml (2.7ms)
  Rendered layouts/_dropdown_ul.html.haml (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (3.7ms)
  Rendered layouts/_dropdown_ul.html.haml (5.3ms)
  Rendered layouts/_dropdown_ul.html.haml (2.1ms)
  Rendered layouts/_navbar.html.haml (16.4ms)
  Rendered layouts/_header.html.haml (63.7ms)
  Rendered layouts/_footer.html.haml (5.9ms)
Completed 200 OK in 222ms (Views: 186.5ms | ActiveRecord: 13.8ms)


Started POST "/admin/order/13/state?attr=state&event=confirm" for 127.0.0.1 at 2017-03-20 15:27:08 +0200
Processing by RailsAdmin::MainController#state as HTML
  Parameters: {"authenticity_token"=>"TxYd0uBn2GgqwrIu3vywpUuuogwiOA40KqRpsAcnhgTtNiqLSpUYbfZN4C56yOtJ3ZjVQEM7MtT9hZVCrQP1fA==", "attr"=>"state", "event"=>"confirm", "model_name"=>"order", "id"=>"13"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (9.4ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 ORDER BY "orders"."id" ASC LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 13]]
  [1m[36mCoupon Load (0.2ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 13], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "orders" SET "state" = $1, "updated_at" = $2 WHERE "orders"."id" = $3[0m  [["state", "in_progress"], ["updated_at", 2017-03-20 13:27:08 UTC], ["id", 13]]
  [1m[35m (13.4ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from redirect_to at /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_controller/metal/redirecting.rb:66)
Redirected to http://localhost:3000/admin/order
Completed 302 Found in 54ms (ActiveRecord: 24.9ms)


Started GET "/admin/order" for 127.0.0.1 at 2017-03-20 15:27:08 +0200
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"model_name"=>"order"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (14.0ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/application
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE ('t'='t') AND ("orders"."user_id" IS NOT NULL) ORDER BY orders.id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 20], ["OFFSET", 0]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders" WHERE ('t'='t') AND ("orders"."user_id" IS NOT NULL)[0m
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/application (196.5ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_secondary_navigation.html.haml (5.7ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_navigation.html.haml (12.5ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_sidebar_navigation.html.haml (26.3ms)
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml (8.5ms)
Completed 200 OK in 482ms (Views: 453.7ms | ActiveRecord: 15.4ms)


Started POST "/admin/order/13/state?attr=state&event=sent" for 127.0.0.1 at 2017-03-20 15:27:16 +0200
Processing by RailsAdmin::MainController#state as HTML
  Parameters: {"authenticity_token"=>"oFGOY8/RpZdanhMCWDVQJyotCmaN7R2ht1w2mH17uQ4Ccbk6ZSNlkoYRQQL8AQvLvBt9KuzuIUFgfcpq11/Kdg==", "attr"=>"state", "event"=>"sent", "model_name"=>"order", "id"=>"13"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (10.4ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 ORDER BY "orders"."id" ASC LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 13]]
  [1m[36mCoupon Load (0.2ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 13], ["LIMIT", 1]]
  [1m[35mSQL (1.9ms)[0m  [1m[33mUPDATE "orders" SET "state" = $1, "updated_at" = $2 WHERE "orders"."id" = $3[0m  [["state", "in_transit"], ["updated_at", 2017-03-20 13:27:16 UTC], ["id", 13]]
  [1m[35m (13.6ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from redirect_to at /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_controller/metal/redirecting.rb:66)
Redirected to http://localhost:3000/admin/order
Completed 302 Found in 55ms (ActiveRecord: 28.3ms)


Started GET "/admin/order" for 127.0.0.1 at 2017-03-20 15:27:17 +0200
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"model_name"=>"order"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (10.0ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/application
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE ('t'='t') AND ("orders"."user_id" IS NOT NULL) ORDER BY orders.id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 20], ["OFFSET", 0]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders" WHERE ('t'='t') AND ("orders"."user_id" IS NOT NULL)[0m
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/application (185.7ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_secondary_navigation.html.haml (6.0ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_navigation.html.haml (11.7ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_sidebar_navigation.html.haml (18.6ms)
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml (10.6ms)
Completed 200 OK in 446ms (Views: 415.7ms | ActiveRecord: 11.3ms)


Started POST "/admin/order/13/state?attr=state&event=delivered" for 127.0.0.1 at 2017-03-20 15:27:20 +0200
Processing by RailsAdmin::MainController#state as HTML
  Parameters: {"authenticity_token"=>"opN4x+1+yq4h+rwCXUCjl5vz/vk5nybWJ813rKN4l+4As0+eR4wKq/117gL5dPh7DcWJtVicGjbw7IteCVzklg==", "attr"=>"state", "event"=>"delivered", "model_name"=>"order", "id"=>"13"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (10.3ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 ORDER BY "orders"."id" ASC LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 13]]
  [1m[36mCoupon Load (0.1ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 13], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "orders" SET "state" = $1, "updated_at" = $2 WHERE "orders"."id" = $3[0m  [["state", "delivered"], ["updated_at", 2017-03-20 13:27:20 UTC], ["id", 13]]
  [1m[35m (23.1ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from redirect_to at /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_controller/metal/redirecting.rb:66)
Redirected to http://localhost:3000/admin/order
Completed 302 Found in 58ms (ActiveRecord: 35.1ms)


Started GET "/admin/order" for 127.0.0.1 at 2017-03-20 15:27:20 +0200
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"model_name"=>"order"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (12.1ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/application
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE ('t'='t') AND ("orders"."user_id" IS NOT NULL) ORDER BY orders.id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 20], ["OFFSET", 0]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders" WHERE ('t'='t') AND ("orders"."user_id" IS NOT NULL)[0m
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/application (188.3ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_secondary_navigation.html.haml (5.6ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_navigation.html.haml (11.8ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_sidebar_navigation.html.haml (23.3ms)
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml (9.0ms)
Completed 200 OK in 463ms (Views: 436.5ms | ActiveRecord: 13.4ms)


Started GET "/ru/orders" for 127.0.0.1 at 2017-03-20 15:27:24 +0200
Processing by OrdersController#index as HTML
  Parameters: {"locale"=>"ru"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (9.7ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering orders/index.html.haml within layouts/application
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders" INNER JOIN "order_items" ON "order_items"."order_id" = "orders"."id" WHERE "orders"."user_id" = $1 AND ('t'='t') GROUP BY orders.id HAVING (COUNT(order_items) != 0) ORDER BY "orders"."created_at" DESC[0m  [["user_id", 2]]
  Rendered collection of orders/_order.html.haml [2 times] (6.4ms)
  Rendered orders/_orders_table.html.haml (10.4ms)
  Rendered orders/index.html.haml within layouts/application (27.1ms)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 13], ["state", "processing"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "orders" ("state", "created_at", "updated_at", "total_price") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["state", "processing"], ["created_at", 2017-03-20 13:27:24 UTC], ["updated_at", 2017-03-20 13:27:24 UTC], ["total_price", #<BigDecimal:bf3f060,'0.0',9(18)>]]
  [1m[35m (20.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "orders" ("state", "user_id", "created_at", "updated_at", "total_price") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["state", "processing"], ["user_id", 2], ["created_at", 2017-03-20 13:27:24 UTC], ["updated_at", 2017-03-20 13:27:24 UTC], ["total_price", #<BigDecimal:bed89a0,'0.0',9(18)>]]
  [1m[35m (12.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.4ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 14], ["addressable_type", "Order"], ["address_type", 0], ["LIMIT", 1]]
  [1m[36mAddress Load (0.4ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 14], ["addressable_type", "Order"], ["address_type", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 14]]
  [1m[35m (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (4.0ms)
  Rendered layouts/_collapse_ul.html.haml (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (5.6ms)
  Rendered layouts/_collapse_ul.html.haml (7.1ms)
  Rendered layouts/_collapse_ul.html.haml (1.4ms)
  Rendered layouts/_navbar.html.haml (24.2ms)
  Rendered layouts/_dropdown_ul.html.haml (3.2ms)
  Rendered layouts/_dropdown_ul.html.haml (2.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (3.9ms)
  Rendered layouts/_dropdown_ul.html.haml (6.6ms)
  Rendered layouts/_dropdown_ul.html.haml (1.4ms)
  Rendered layouts/_navbar.html.haml (19.1ms)
  Rendered layouts/_header.html.haml (119.8ms)
  Rendered layouts/_footer.html.haml (7.3ms)
Completed 200 OK in 293ms (Views: 217.4ms | ActiveRecord: 51.1ms)


Started GET "/ru/orders" for 127.0.0.1 at 2017-03-20 15:27:27 +0200
Processing by OrdersController#index as HTML
  Parameters: {"locale"=>"ru"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (9.3ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering orders/index.html.haml within layouts/application
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders" INNER JOIN "order_items" ON "order_items"."order_id" = "orders"."id" WHERE "orders"."user_id" = $1 AND ('t'='t') GROUP BY orders.id HAVING (COUNT(order_items) != 0) ORDER BY "orders"."created_at" DESC[0m  [["user_id", 2]]
  Rendered collection of orders/_order.html.haml [2 times] (6.1ms)
  Rendered orders/_orders_table.html.haml (6.0ms)
  Rendered orders/index.html.haml within layouts/application (25.5ms)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 15], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 15]]
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (4.8ms)
  Rendered layouts/_collapse_ul.html.haml (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (5.4ms)
  Rendered layouts/_collapse_ul.html.haml (6.8ms)
  Rendered layouts/_collapse_ul.html.haml (3.3ms)
  Rendered layouts/_navbar.html.haml (25.7ms)
  Rendered layouts/_dropdown_ul.html.haml (2.7ms)
  Rendered layouts/_dropdown_ul.html.haml (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (3.7ms)
  Rendered layouts/_dropdown_ul.html.haml (5.0ms)
  Rendered layouts/_dropdown_ul.html.haml (2.3ms)
  Rendered layouts/_navbar.html.haml (16.2ms)
  Rendered layouts/_header.html.haml (57.3ms)
  Rendered layouts/_footer.html.haml (5.8ms)
Completed 200 OK in 218ms (Views: 182.2ms | ActiveRecord: 12.8ms)


Started GET "/ru/orders" for 127.0.0.1 at 2017-03-20 15:27:29 +0200
Processing by OrdersController#index as HTML
  Parameters: {"locale"=>"ru"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (11.7ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering orders/index.html.haml within layouts/application
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders" INNER JOIN "order_items" ON "order_items"."order_id" = "orders"."id" WHERE "orders"."user_id" = $1 AND ('t'='t') GROUP BY orders.id HAVING (COUNT(order_items) != 0) ORDER BY "orders"."created_at" DESC[0m  [["user_id", 2]]
  Rendered collection of orders/_order.html.haml [2 times] (7.0ms)
  Rendered orders/_orders_table.html.haml (7.4ms)
  Rendered orders/index.html.haml within layouts/application (25.7ms)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 15], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 15]]
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (4.5ms)
  Rendered layouts/_collapse_ul.html.haml (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (5.8ms)
  Rendered layouts/_collapse_ul.html.haml (7.2ms)
  Rendered layouts/_collapse_ul.html.haml (2.6ms)
  Rendered layouts/_navbar.html.haml (24.6ms)
  Rendered layouts/_dropdown_ul.html.haml (3.5ms)
  Rendered layouts/_dropdown_ul.html.haml (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (3.9ms)
  Rendered layouts/_dropdown_ul.html.haml (5.1ms)
  Rendered layouts/_dropdown_ul.html.haml (1.6ms)
  Rendered layouts/_navbar.html.haml (15.9ms)
  Rendered layouts/_header.html.haml (56.5ms)
  Rendered layouts/_footer.html.haml (7.1ms)
Completed 200 OK in 248ms (Views: 212.4ms | ActiveRecord: 14.3ms)


Started GET "/admin/order/13/delete?_pjax=%5Bdata-pjax-container%5D" for 127.0.0.1 at 2017-03-20 15:27:56 +0200
Processing by RailsAdmin::MainController#delete as HTML
  Parameters: {"_pjax"=>"[data-pjax-container]", "model_name"=>"order", "id"=>"13"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (17.3ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 ORDER BY "orders"."id" ASC LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/delete.html.haml within layouts/rails_admin/pjax
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 13]]
  [1m[36mCoupon Load (0.2ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 13], ["LIMIT", 1]]
  [1m[36mAddress Load (0.4ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 13], ["addressable_type", "Order"], ["address_type", 0], ["LIMIT", 1]]
  [1m[36mAddress Load (0.4ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 13], ["addressable_type", "Order"], ["address_type", 1], ["LIMIT", 1]]
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_delete_notice.html.haml (15.5ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/delete.html.haml within layouts/rails_admin/pjax (26.5ms)
Completed 200 OK in 96ms (Views: 50.5ms | ActiveRecord: 19.8ms)


Started GET "/ru/home/mobile" for 127.0.0.1 at 2017-03-20 15:31:03 +0200
Processing by MainPagesController#home as HTML
  Parameters: {"locale"=>"ru", "category"=>"mobile"}
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."title" = $1 LIMIT $2[0m  [["title", "Mobile"], ["LIMIT", 1]]
  [1m[36mBook Load (2.1ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" INNER JOIN "order_items" ON "order_items"."book_id" = "books"."id" INNER JOIN "orders" ON "orders"."id" = "order_items"."order_id" WHERE (lower(categories.title) = 'mobile') AND "orders"."state" = $1 GROUP BY order_items.book_id, books.id ORDER BY SUM(order_items.quantity) desc LIMIT $2[0m  [["state", "delivered"], ["LIMIT", 4]]
  [1m[36mHABTM_Authors Load (0.4ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" = 19[0m
  [1m[36mAuthor Load (1.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (19, 20)[0m
  Rendering main_pages/home.html.haml within layouts/application
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') LIMIT $1) subquery_for_count[0m  [["LIMIT", 4]]
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') ORDER BY "books"."created_at" DESC LIMIT $1[0m  [["LIMIT", 4]]
  [1m[36mHABTM_Authors Load (0.4ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (20, 19, 18, 17)[0m
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (20, 19)[0m
  Rendered books/_carousel_books.html.haml (58.1ms)
  Rendered books/_book_buttons.html.haml (3.4ms)
  Rendered main_pages/home.html.haml within layouts/application (74.4ms)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 15], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 15]]
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (4.2ms)
  Rendered layouts/_collapse_ul.html.haml (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (24.8ms)
  Rendered layouts/_collapse_ul.html.haml (26.4ms)
  [1m[36mBook Load (9.4ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendered layouts/_collapse_ul.html.haml (16.5ms)
  Rendered layouts/_navbar.html.haml (59.7ms)
  Rendered layouts/_dropdown_ul.html.haml (2.7ms)
  Rendered layouts/_dropdown_ul.html.haml (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (3.7ms)
  Rendered layouts/_dropdown_ul.html.haml (5.0ms)
  Rendered layouts/_dropdown_ul.html.haml (1.3ms)
  Rendered layouts/_navbar.html.haml (15.1ms)
  Rendered layouts/_header.html.haml (94.2ms)
  Rendered layouts/_footer.html.haml (6.1ms)
Completed 200 OK in 325ms (Views: 267.3ms | ActiveRecord: 18.8ms)


Started GET "/ru/orders" for 127.0.0.1 at 2017-03-20 15:31:06 +0200
Processing by OrdersController#index as HTML
  Parameters: {"locale"=>"ru"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (14.2ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering orders/index.html.haml within layouts/application
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders" INNER JOIN "order_items" ON "order_items"."order_id" = "orders"."id" WHERE "orders"."user_id" = $1 AND ('t'='t') GROUP BY orders.id HAVING (COUNT(order_items) != 0) ORDER BY "orders"."created_at" DESC[0m  [["user_id", 2]]
  Rendered collection of orders/_order.html.haml [2 times] (9.6ms)
  Rendered orders/_orders_table.html.haml (5.4ms)
  Rendered orders/index.html.haml within layouts/application (34.2ms)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 15], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (2.6ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 15]]
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (4.2ms)
  Rendered layouts/_collapse_ul.html.haml (1.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (8.3ms)
  Rendered layouts/_collapse_ul.html.haml (9.9ms)
  Rendered layouts/_collapse_ul.html.haml (1.5ms)
  Rendered layouts/_navbar.html.haml (26.8ms)
  Rendered layouts/_dropdown_ul.html.haml (4.7ms)
  Rendered layouts/_dropdown_ul.html.haml (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (4.1ms)
  Rendered layouts/_dropdown_ul.html.haml (5.4ms)
  Rendered layouts/_dropdown_ul.html.haml (1.4ms)
  Rendered layouts/_navbar.html.haml (16.9ms)
  Rendered layouts/_header.html.haml (63.3ms)
  Rendered layouts/_footer.html.haml (9.0ms)
Completed 200 OK in 269ms (Views: 215.9ms | ActiveRecord: 19.2ms)


Started GET "/ru/orders/7" for 127.0.0.1 at 2017-03-20 15:31:08 +0200
Processing by OrdersController#show as HTML
  Parameters: {"locale"=>"ru", "id"=>"7"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 7], ["LIMIT", 1]]
  [1m[36mBook Load (11.5ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering orders/show.html.haml within layouts/application
  [1m[36mAddress Load (0.5ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 7], ["addressable_type", "Order"], ["address_type", 0], ["LIMIT", 1]]
  [1m[36mAddress Load (0.5ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 7], ["addressable_type", "Order"], ["address_type", 1], ["LIMIT", 1]]
  [1m[36mCountry Load (0.3ms)[0m  [1m[34mSELECT  "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered addresses/_panel.html.haml (5.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered addresses/_panel.html.haml (1.5ms)
  [1m[36mDelivery Load (0.3ms)[0m  [1m[34mSELECT  "deliveries".* FROM "deliveries" WHERE "deliveries"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCreditCard Load (0.2ms)[0m  [1m[34mSELECT  "credit_cards".* FROM "credit_cards" WHERE "credit_cards"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered orders/_components_panel.html.haml (27.2ms)
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 7]]
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  Rendered order_items/_quantity_field.html.haml (6.0ms)
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 44], ["LIMIT", 1]]
  Rendered order_items/_quantity_field.html.haml (0.1ms)
  Rendered collection of order_items/_order_item.html.haml [2 times] (23.0ms)
  Rendered order_items/_quantity_field.html.haml (0.2ms)
  Rendered order_items/_table_field.html.haml (6.3ms)
  Rendered order_items/_quantity_field.html.haml (0.1ms)
  Rendered order_items/_table_field.html.haml (3.0ms)
  Rendered order_items/_table.html.haml (14.8ms)
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 15], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrder Load (1.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mCoupon Load (0.2ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 15], ["LIMIT", 1]]
  [1m[36mCoupon Load (0.2ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 7], ["LIMIT", 1]]
  Rendered orders/_result_panel.html.haml (18.2ms)
  Rendered orders/show.html.haml within layouts/application (93.1ms)
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 15]]
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (3.8ms)
  Rendered layouts/_collapse_ul.html.haml (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (6.9ms)
  Rendered layouts/_collapse_ul.html.haml (8.6ms)
  Rendered layouts/_collapse_ul.html.haml (2.2ms)
  Rendered layouts/_navbar.html.haml (28.3ms)
  Rendered layouts/_dropdown_ul.html.haml (2.7ms)
  Rendered layouts/_dropdown_ul.html.haml (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (5.2ms)
  Rendered layouts/_dropdown_ul.html.haml (6.5ms)
  Rendered layouts/_dropdown_ul.html.haml (1.2ms)
  Rendered layouts/_navbar.html.haml (15.9ms)
  Rendered layouts/_header.html.haml (62.7ms)
  Rendered layouts/_footer.html.haml (6.1ms)
Completed 200 OK in 299ms (Views: 258.2ms | ActiveRecord: 18.4ms)


Started GET "/ru/admin" for 127.0.0.1 at 2017-03-20 15:31:44 +0200
Processing by RailsAdmin::MainController#dashboard as HTML
  Parameters: {"locale"=>"ru"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (9.5ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" ORDER BY "addresses"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "authors"[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE ('t'='t')[0m
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  "books".* FROM "books" ORDER BY "books"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE ('t'='t')[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" ORDER BY "categories"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "countries"[0m
  [1m[36mCountry Load (0.3ms)[0m  [1m[34mSELECT  "countries".* FROM "countries" ORDER BY "countries"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "coupons"[0m
  [1m[36mCoupon Load (0.9ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" ORDER BY "coupons"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "deliveries"[0m
  [1m[36mDelivery Load (0.3ms)[0m  [1m[34mSELECT  "deliveries".* FROM "deliveries" ORDER BY "deliveries"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "materials"[0m
  [1m[36mMaterial Load (0.3ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders" WHERE ('t'='t')[0m
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" ORDER BY "orders"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "pictures"[0m
  [1m[36mPicture Load (0.3ms)[0m  [1m[34mSELECT  "pictures".* FROM "pictures" ORDER BY "pictures"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "reviews" WHERE ('t'='t')[0m
  [1m[36mReview Load (0.3ms)[0m  [1m[34mSELECT  "reviews".* FROM "reviews" ORDER BY "reviews"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE ('t'='t')[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/dashboard.html.haml within layouts/rails_admin/application
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/dashboard.html.haml within layouts/rails_admin/application (63.4ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_secondary_navigation.html.haml (6.1ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_navigation.html.haml (14.1ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_sidebar_navigation.html.haml (20.8ms)
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml (8.1ms)
Completed 200 OK in 394ms (Views: 311.0ms | ActiveRecord: 22.6ms)


Started GET "/ru/admin" for 127.0.0.1 at 2017-03-20 15:31:44 +0200
Processing by RailsAdmin::MainController#dashboard as HTML
  Parameters: {"locale"=>"ru"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (16.1ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" ORDER BY "addresses"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "authors"[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE ('t'='t')[0m
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" ORDER BY "books"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE ('t'='t')[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" ORDER BY "categories"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "countries"[0m
  [1m[36mCountry Load (0.3ms)[0m  [1m[34mSELECT  "countries".* FROM "countries" ORDER BY "countries"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coupons"[0m
  [1m[36mCoupon Load (0.2ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" ORDER BY "coupons"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "deliveries"[0m
  [1m[36mDelivery Load (0.3ms)[0m  [1m[34mSELECT  "deliveries".* FROM "deliveries" ORDER BY "deliveries"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "materials"[0m
  [1m[36mMaterial Load (0.3ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders" WHERE ('t'='t')[0m
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" ORDER BY "orders"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "pictures"[0m
  [1m[36mPicture Load (0.2ms)[0m  [1m[34mSELECT  "pictures".* FROM "pictures" ORDER BY "pictures"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "reviews" WHERE ('t'='t')[0m
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT  "reviews".* FROM "reviews" ORDER BY "reviews"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE ('t'='t')[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/dashboard.html.haml within layouts/rails_admin/application
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/dashboard.html.haml within layouts/rails_admin/application (71.4ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_secondary_navigation.html.haml (5.2ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_navigation.html.haml (12.2ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_sidebar_navigation.html.haml (20.1ms)
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml (6.3ms)
Completed 200 OK in 382ms (Views: 312.7ms | ActiveRecord: 24.6ms)


Started GET "/ru/admin/order?locale=ru&_pjax=%5Bdata-pjax-container%5D" for 127.0.0.1 at 2017-03-20 15:31:51 +0200
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"locale"=>"ru", "_pjax"=>"[data-pjax-container]", "model_name"=>"order"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (16.3ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE ('t'='t') AND ("orders"."user_id" IS NOT NULL) ORDER BY orders.id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 20], ["OFFSET", 0]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders" WHERE ('t'='t') AND ("orders"."user_id" IS NOT NULL)[0m
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax (403.3ms)
Completed 200 OK in 465ms (Views: 425.9ms | ActiveRecord: 18.2ms)


Started POST "/admin/order/15/state?attr=state&event=confirm" for 127.0.0.1 at 2017-03-20 15:32:02 +0200
Processing by RailsAdmin::MainController#state as HTML
  Parameters: {"authenticity_token"=>"egDm4vgUd3dt76a9xbNEaTwORunSj9PrwAfm1u/wz5rYING7Uua3crFg9L1hhx+FqjgxpbOM7wsXJhokRdS84g==", "attr"=>"state", "event"=>"confirm", "model_name"=>"order", "id"=>"15"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (11.5ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 ORDER BY "orders"."id" ASC LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mOrderItem Load (1.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 15]]
  [1m[36mCoupon Load (0.2ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 15], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "orders" SET "state" = $1, "updated_at" = $2 WHERE "orders"."id" = $3[0m  [["state", "in_progress"], ["updated_at", 2017-03-20 13:32:02 UTC], ["id", 15]]
  [1m[35m (13.0ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from redirect_to at /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_controller/metal/redirecting.rb:66)
Redirected to http://localhost:3000/ru/admin/order?locale=ru
Completed 302 Found in 56ms (ActiveRecord: 27.5ms)


Started GET "/ru/admin/order?locale=ru" for 127.0.0.1 at 2017-03-20 15:32:02 +0200
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"locale"=>"ru", "model_name"=>"order"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (10.0ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/application
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE ('t'='t') AND ("orders"."user_id" IS NOT NULL) ORDER BY orders.id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 20], ["OFFSET", 0]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders" WHERE ('t'='t') AND ("orders"."user_id" IS NOT NULL)[0m
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/application (208.6ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_secondary_navigation.html.haml (5.5ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_navigation.html.haml (12.7ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_sidebar_navigation.html.haml (20.3ms)
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml (11.1ms)
Completed 200 OK in 477ms (Views: 444.7ms | ActiveRecord: 11.3ms)


Started POST "/admin/order/15/state?attr=state&event=sent" for 127.0.0.1 at 2017-03-20 15:32:11 +0200
Processing by RailsAdmin::MainController#state as HTML
  Parameters: {"authenticity_token"=>"/MWuppsUF91kd0f6UQ4F1fjp8HEDrg/8rPAIBrRBE5Je5Zn/MebX2Lj4Ffr1Ol45bt+HPWKtMxx70fT0HmVg6g==", "attr"=>"state", "event"=>"sent", "model_name"=>"order", "id"=>"15"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (10.2ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 ORDER BY "orders"."id" ASC LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mOrderItem Load (0.8ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 15]]
  [1m[36mCoupon Load (0.2ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 15], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "orders" SET "state" = $1, "updated_at" = $2 WHERE "orders"."id" = $3[0m  [["state", "in_transit"], ["updated_at", 2017-03-20 13:32:11 UTC], ["id", 15]]
  [1m[35m (29.7ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from redirect_to at /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_controller/metal/redirecting.rb:66)
Redirected to http://localhost:3000/ru/admin/order?locale=ru
Completed 302 Found in 72ms (ActiveRecord: 42.7ms)


Started GET "/ru/admin/order?locale=ru" for 127.0.0.1 at 2017-03-20 15:32:11 +0200
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"locale"=>"ru", "model_name"=>"order"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (9.2ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/application
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE ('t'='t') AND ("orders"."user_id" IS NOT NULL) ORDER BY orders.id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 20], ["OFFSET", 0]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders" WHERE ('t'='t') AND ("orders"."user_id" IS NOT NULL)[0m
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/application (206.1ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_secondary_navigation.html.haml (5.6ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_navigation.html.haml (13.8ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_sidebar_navigation.html.haml (19.9ms)
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml (11.2ms)
Completed 200 OK in 492ms (Views: 457.4ms | ActiveRecord: 10.5ms)


Started GET "/ru/admin/?locale=ru&_pjax=%5Bdata-pjax-container%5D" for 127.0.0.1 at 2017-03-20 15:32:51 +0200
Processing by RailsAdmin::MainController#dashboard as HTML
  Parameters: {"locale"=>"ru", "_pjax"=>"[data-pjax-container]"}
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (14.5ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" ORDER BY "addresses"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "authors"[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE ('t'='t')[0m
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  "books".* FROM "books" ORDER BY "books"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE ('t'='t')[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" ORDER BY "categories"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "countries"[0m
  [1m[36mCountry Load (0.3ms)[0m  [1m[34mSELECT  "countries".* FROM "countries" ORDER BY "countries"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "coupons"[0m
  [1m[36mCoupon Load (0.3ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" ORDER BY "coupons"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "deliveries"[0m
  [1m[36mDelivery Load (0.3ms)[0m  [1m[34mSELECT  "deliveries".* FROM "deliveries" ORDER BY "deliveries"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "materials"[0m
  [1m[36mMaterial Load (0.2ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders" WHERE ('t'='t')[0m
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" ORDER BY "orders"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "pictures"[0m
  [1m[36mPicture Load (0.4ms)[0m  [1m[34mSELECT  "pictures".* FROM "pictures" ORDER BY "pictures"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "reviews" WHERE ('t'='t')[0m
  [1m[36mReview Load (0.3ms)[0m  [1m[34mSELECT  "reviews".* FROM "reviews" ORDER BY "reviews"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE ('t'='t')[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/dashboard.html.haml within layouts/rails_admin/pjax
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/dashboard.html.haml within layouts/rails_admin/pjax (62.5ms)
Completed 200 OK in 198ms (Views: 114.8ms | ActiveRecord: 25.4ms)


Started GET "/ru" for 127.0.0.1 at 2017-03-20 15:32:53 +0200
Processing by MainPagesController#home as HTML
  Parameters: {"locale"=>"ru"}
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."title" = $1 LIMIT $2[0m  [["title", "Mobile"], ["LIMIT", 1]]
  [1m[36mBook Load (1.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" INNER JOIN "order_items" ON "order_items"."book_id" = "books"."id" INNER JOIN "orders" ON "orders"."id" = "order_items"."order_id" WHERE (lower(categories.title) = 'mobile') AND "orders"."state" = $1 GROUP BY order_items.book_id, books.id ORDER BY SUM(order_items.quantity) desc LIMIT $2[0m  [["state", "delivered"], ["LIMIT", 4]]
  [1m[36mHABTM_Authors Load (0.4ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" = 19[0m
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (19, 20)[0m
  Rendering main_pages/home.html.haml within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') LIMIT $1) subquery_for_count[0m  [["LIMIT", 4]]
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') ORDER BY "books"."created_at" DESC LIMIT $1[0m  [["LIMIT", 4]]
  [1m[36mHABTM_Authors Load (0.4ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (20, 19, 18, 17)[0m
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (20, 19)[0m
  Rendered books/_carousel_books.html.haml (47.6ms)
  Rendered books/_book_buttons.html.haml (3.7ms)
  Rendered main_pages/home.html.haml within layouts/application (70.2ms)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 15], ["state", "processing"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "orders" ("state", "created_at", "updated_at", "total_price") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["state", "processing"], ["created_at", 2017-03-20 13:32:53 UTC], ["updated_at", 2017-03-20 13:32:53 UTC], ["total_price", #<BigDecimal:adda958c,'0.0',9(18)>]]
  [1m[35m (19.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "orders" ("state", "user_id", "created_at", "updated_at", "total_price") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["state", "processing"], ["user_id", 2], ["created_at", 2017-03-20 13:32:53 UTC], ["updated_at", 2017-03-20 13:32:53 UTC], ["total_price", #<BigDecimal:add041b8,'0.0',9(18)>]]
  [1m[35m (6.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.4ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 16], ["addressable_type", "Order"], ["address_type", 0], ["LIMIT", 1]]
  [1m[36mAddress Load (0.4ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 16], ["addressable_type", "Order"], ["address_type", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 16]]
  [1m[35m (12.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (6.0ms)
  Rendered layouts/_collapse_ul.html.haml (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (7.3ms)
  Rendered layouts/_collapse_ul.html.haml (9.1ms)
  [1m[36mBook Load (10.7ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendered layouts/_collapse_ul.html.haml (19.4ms)
  Rendered layouts/_navbar.html.haml (47.0ms)
  Rendered layouts/_dropdown_ul.html.haml (2.9ms)
  Rendered layouts/_dropdown_ul.html.haml (1.8ms)
  [1m[36mCACHE (0.1ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (6.7ms)
  Rendered layouts/_dropdown_ul.html.haml (9.2ms)
  Rendered layouts/_dropdown_ul.html.haml (1.2ms)
  Rendered layouts/_navbar.html.haml (20.6ms)
  Rendered layouts/_header.html.haml (153.9ms)
  Rendered layouts/_footer.html.haml (14.2ms)
Completed 200 OK in 403ms (Views: 334.3ms | ActiveRecord: 58.8ms)


Started GET "/ru/orders" for 127.0.0.1 at 2017-03-20 15:32:57 +0200
Processing by OrdersController#index as HTML
  Parameters: {"locale"=>"ru"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (9.8ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering orders/index.html.haml within layouts/application
  [1m[36mOrder Load (0.8ms)[0m  [1m[34mSELECT "orders".* FROM "orders" INNER JOIN "order_items" ON "order_items"."order_id" = "orders"."id" WHERE "orders"."user_id" = $1 AND ('t'='t') GROUP BY orders.id HAVING (COUNT(order_items) != 0) ORDER BY "orders"."created_at" DESC[0m  [["user_id", 2]]
  Rendered collection of orders/_order.html.haml [2 times] (6.8ms)
  Rendered orders/_orders_table.html.haml (6.7ms)
  Rendered orders/index.html.haml within layouts/application (27.6ms)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 17], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 17]]
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (4.0ms)
  Rendered layouts/_collapse_ul.html.haml (1.1ms)
  [1m[36mCACHE (0.1ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (8.1ms)
  Rendered layouts/_collapse_ul.html.haml (9.9ms)
  Rendered layouts/_collapse_ul.html.haml (1.5ms)
  Rendered layouts/_navbar.html.haml (27.0ms)
  Rendered layouts/_dropdown_ul.html.haml (4.7ms)
  Rendered layouts/_dropdown_ul.html.haml (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (3.8ms)
  Rendered layouts/_dropdown_ul.html.haml (5.1ms)
  Rendered layouts/_dropdown_ul.html.haml (1.5ms)
  Rendered layouts/_navbar.html.haml (16.9ms)
  Rendered layouts/_header.html.haml (60.5ms)
  Rendered layouts/_footer.html.haml (6.8ms)
Completed 200 OK in 246ms (Views: 195.7ms | ActiveRecord: 12.8ms)


Started GET "/ru/orders/7" for 127.0.0.1 at 2017-03-20 15:32:59 +0200
Processing by OrdersController#show as HTML
  Parameters: {"locale"=>"ru", "id"=>"7"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 7], ["LIMIT", 1]]
  [1m[36mBook Load (11.2ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering orders/show.html.haml within layouts/application
  [1m[36mAddress Load (0.5ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 7], ["addressable_type", "Order"], ["address_type", 0], ["LIMIT", 1]]
  [1m[36mAddress Load (0.4ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 7], ["addressable_type", "Order"], ["address_type", 1], ["LIMIT", 1]]
  [1m[36mCountry Load (0.3ms)[0m  [1m[34mSELECT  "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered addresses/_panel.html.haml (6.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered addresses/_panel.html.haml (1.6ms)
  [1m[36mDelivery Load (0.4ms)[0m  [1m[34mSELECT  "deliveries".* FROM "deliveries" WHERE "deliveries"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCreditCard Load (0.5ms)[0m  [1m[34mSELECT  "credit_cards".* FROM "credit_cards" WHERE "credit_cards"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered orders/_components_panel.html.haml (24.8ms)
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 7]]
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  Rendered order_items/_quantity_field.html.haml (3.2ms)
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 44], ["LIMIT", 1]]
  Rendered order_items/_quantity_field.html.haml (0.1ms)
  Rendered collection of order_items/_order_item.html.haml [2 times] (19.6ms)
  Rendered order_items/_quantity_field.html.haml (0.1ms)
  Rendered order_items/_table_field.html.haml (9.9ms)
  Rendered order_items/_quantity_field.html.haml (0.1ms)
  Rendered order_items/_table_field.html.haml (3.2ms)
  Rendered order_items/_table.html.haml (18.8ms)
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 17], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mCoupon Load (0.2ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 17], ["LIMIT", 1]]
  [1m[36mCoupon Load (0.2ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 7], ["LIMIT", 1]]
  Rendered orders/_result_panel.html.haml (12.2ms)
  Rendered orders/show.html.haml within layouts/application (90.2ms)
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 17]]
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (4.4ms)
  Rendered layouts/_collapse_ul.html.haml (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (7.1ms)
  Rendered layouts/_collapse_ul.html.haml (8.7ms)
  Rendered layouts/_collapse_ul.html.haml (1.6ms)
  Rendered layouts/_navbar.html.haml (25.8ms)
  Rendered layouts/_dropdown_ul.html.haml (4.9ms)
  Rendered layouts/_dropdown_ul.html.haml (1.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (5.2ms)
  Rendered layouts/_dropdown_ul.html.haml (8.0ms)
  Rendered layouts/_dropdown_ul.html.haml (1.4ms)
  Rendered layouts/_navbar.html.haml (22.5ms)
  Rendered layouts/_header.html.haml (59.9ms)
  Rendered layouts/_footer.html.haml (7.1ms)
Completed 200 OK in 296ms (Views: 254.6ms | ActiveRecord: 17.3ms)


Started GET "/ru/admin" for 127.0.0.1 at 2017-03-20 15:33:04 +0200
Processing by RailsAdmin::MainController#dashboard as HTML
  Parameters: {"locale"=>"ru"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (14.5ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[36mAddress Load (0.4ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" ORDER BY "addresses"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "authors"[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE ('t'='t')[0m
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  "books".* FROM "books" ORDER BY "books"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE ('t'='t')[0m
  [1m[36mCategory Load (1.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" ORDER BY "categories"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "countries"[0m
  [1m[36mCountry Load (1.1ms)[0m  [1m[34mSELECT  "countries".* FROM "countries" ORDER BY "countries"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "coupons"[0m
  [1m[36mCoupon Load (0.4ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" ORDER BY "coupons"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "deliveries"[0m
  [1m[36mDelivery Load (0.4ms)[0m  [1m[34mSELECT  "deliveries".* FROM "deliveries" ORDER BY "deliveries"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "materials"[0m
  [1m[36mMaterial Load (0.3ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders" WHERE ('t'='t')[0m
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" ORDER BY "orders"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "pictures"[0m
  [1m[36mPicture Load (0.3ms)[0m  [1m[34mSELECT  "pictures".* FROM "pictures" ORDER BY "pictures"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "reviews" WHERE ('t'='t')[0m
  [1m[36mReview Load (0.4ms)[0m  [1m[34mSELECT  "reviews".* FROM "reviews" ORDER BY "reviews"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE ('t'='t')[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/dashboard.html.haml within layouts/rails_admin/application
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/dashboard.html.haml within layouts/rails_admin/application (73.9ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_secondary_navigation.html.haml (8.0ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_navigation.html.haml (15.3ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_sidebar_navigation.html.haml (32.0ms)
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml (4.8ms)
Completed 200 OK in 440ms (Views: 365.1ms | ActiveRecord: 26.2ms)


Started GET "/ru/admin" for 127.0.0.1 at 2017-03-20 15:33:05 +0200
Processing by RailsAdmin::MainController#dashboard as HTML
  Parameters: {"locale"=>"ru"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (13.9ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" ORDER BY "addresses"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "authors"[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE ('t'='t')[0m
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  "books".* FROM "books" ORDER BY "books"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE ('t'='t')[0m
  [1m[36mCategory Load (1.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" ORDER BY "categories"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "countries"[0m
  [1m[36mCountry Load (1.0ms)[0m  [1m[34mSELECT  "countries".* FROM "countries" ORDER BY "countries"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "coupons"[0m
  [1m[36mCoupon Load (1.3ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" ORDER BY "coupons"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "deliveries"[0m
  [1m[36mDelivery Load (0.4ms)[0m  [1m[34mSELECT  "deliveries".* FROM "deliveries" ORDER BY "deliveries"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "materials"[0m
  [1m[36mMaterial Load (0.3ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders" WHERE ('t'='t')[0m
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" ORDER BY "orders"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "pictures"[0m
  [1m[36mPicture Load (1.2ms)[0m  [1m[34mSELECT  "pictures".* FROM "pictures" ORDER BY "pictures"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "reviews" WHERE ('t'='t')[0m
  [1m[36mReview Load (0.3ms)[0m  [1m[34mSELECT  "reviews".* FROM "reviews" ORDER BY "reviews"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE ('t'='t')[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/dashboard.html.haml within layouts/rails_admin/application
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/dashboard.html.haml within layouts/rails_admin/application (64.3ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_secondary_navigation.html.haml (5.2ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_navigation.html.haml (12.9ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_sidebar_navigation.html.haml (19.0ms)
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml (6.3ms)
Completed 200 OK in 415ms (Views: 339.0ms | ActiveRecord: 25.9ms)


Started GET "/ru/admin/order?locale=ru&_pjax=%5Bdata-pjax-container%5D" for 127.0.0.1 at 2017-03-20 15:33:09 +0200
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"locale"=>"ru", "_pjax"=>"[data-pjax-container]", "model_name"=>"order"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (18.6ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE ('t'='t') AND ("orders"."user_id" IS NOT NULL) ORDER BY orders.id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 20], ["OFFSET", 0]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders" WHERE ('t'='t') AND ("orders"."user_id" IS NOT NULL)[0m
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax (283.2ms)
Completed 200 OK in 344ms (Views: 300.2ms | ActiveRecord: 20.5ms)


Started POST "/admin/order/15/state?attr=state&event=delivered" for 127.0.0.1 at 2017-03-20 15:33:47 +0200
Processing by RailsAdmin::MainController#state as HTML
  Parameters: {"authenticity_token"=>"KrxWp348djgPhMaoSANh92fQ2pTgKQr46nOOUJv6aOmInGH+1M62PdMLlKjsNzob8eat2IEqNhg9UnKiMd4bkQ==", "attr"=>"state", "event"=>"delivered", "model_name"=>"order", "id"=>"15"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (12.7ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 ORDER BY "orders"."id" ASC LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 15]]
  [1m[36mCoupon Load (0.2ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 15], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "orders" SET "state" = $1, "updated_at" = $2 WHERE "orders"."id" = $3[0m  [["state", "delivered"], ["updated_at", 2017-03-20 13:33:47 UTC], ["id", 15]]
  [1m[35m (22.2ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from redirect_to at /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_controller/metal/redirecting.rb:66)
Redirected to http://localhost:3000/ru/admin/order?locale=ru
Completed 302 Found in 67ms (ActiveRecord: 37.2ms)


Started GET "/ru/admin/order?locale=ru" for 127.0.0.1 at 2017-03-20 15:33:47 +0200
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"locale"=>"ru", "model_name"=>"order"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (9.5ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/application
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE ('t'='t') AND ("orders"."user_id" IS NOT NULL) ORDER BY orders.id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 20], ["OFFSET", 0]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders" WHERE ('t'='t') AND ("orders"."user_id" IS NOT NULL)[0m
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/application (218.9ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_secondary_navigation.html.haml (6.0ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_navigation.html.haml (13.6ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_sidebar_navigation.html.haml (25.4ms)
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml (10.4ms)
Completed 200 OK in 517ms (Views: 488.4ms | ActiveRecord: 11.0ms)


Started POST "/admin/order/17/state?attr=state&event=confirm" for 127.0.0.1 at 2017-03-20 15:33:50 +0200
Processing by RailsAdmin::MainController#state as HTML
  Parameters: {"authenticity_token"=>"VIUgxOw1Lja/O67n5FousORlvY/oXHJjXJPRKY0329L2pRedRsfuM2O0/OdAbnVcclPKw4lfToOLsi3bJxOoqg==", "attr"=>"state", "event"=>"confirm", "model_name"=>"order", "id"=>"17"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (12.3ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 ORDER BY "orders"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 17]]
  [1m[36mCoupon Load (0.3ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 17], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "orders" SET "state" = $1, "updated_at" = $2 WHERE "orders"."id" = $3[0m  [["state", "in_progress"], ["updated_at", 2017-03-20 13:33:50 UTC], ["id", 17]]
  [1m[35m (18.2ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from redirect_to at /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_controller/metal/redirecting.rb:66)
Redirected to http://localhost:3000/ru/admin/order?locale=ru
Completed 302 Found in 61ms (ActiveRecord: 33.6ms)


Started GET "/ru/admin/order?locale=ru" for 127.0.0.1 at 2017-03-20 15:33:50 +0200
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"locale"=>"ru", "model_name"=>"order"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (11.8ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/application
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE ('t'='t') AND ("orders"."user_id" IS NOT NULL) ORDER BY orders.id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 20], ["OFFSET", 0]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders" WHERE ('t'='t') AND ("orders"."user_id" IS NOT NULL)[0m
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/application (218.9ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_secondary_navigation.html.haml (5.7ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_navigation.html.haml (14.0ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_sidebar_navigation.html.haml (20.5ms)
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml (11.2ms)
Completed 200 OK in 494ms (Views: 464.6ms | ActiveRecord: 13.4ms)


Started POST "/admin/order/17/state?attr=state&event=sent" for 127.0.0.1 at 2017-03-20 15:33:52 +0200
Processing by RailsAdmin::MainController#state as HTML
  Parameters: {"authenticity_token"=>"56Mo/tYV+jU7dzEq0jdCHv6YMplfmUPtDDcMnqI2RSdFgx+nfOc6MOf4Yyp2AxnyaK5F1T6afw3bFvBsCBI2Xw==", "attr"=>"state", "event"=>"sent", "model_name"=>"order", "id"=>"17"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (11.5ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 ORDER BY "orders"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 17]]
  [1m[36mCoupon Load (0.2ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 17], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "orders" SET "state" = $1, "updated_at" = $2 WHERE "orders"."id" = $3[0m  [["state", "in_transit"], ["updated_at", 2017-03-20 13:33:52 UTC], ["id", 17]]
  [1m[35m (26.7ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from redirect_to at /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_controller/metal/redirecting.rb:66)
Redirected to http://localhost:3000/ru/admin/order?locale=ru
Completed 302 Found in 71ms (ActiveRecord: 40.7ms)


Started GET "/ru/admin/order?locale=ru" for 127.0.0.1 at 2017-03-20 15:33:52 +0200
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"locale"=>"ru", "model_name"=>"order"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (16.9ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/application
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE ('t'='t') AND ("orders"."user_id" IS NOT NULL) ORDER BY orders.id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 20], ["OFFSET", 0]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders" WHERE ('t'='t') AND ("orders"."user_id" IS NOT NULL)[0m
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/application (218.1ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_secondary_navigation.html.haml (6.5ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_navigation.html.haml (17.3ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_sidebar_navigation.html.haml (20.2ms)
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml (12.9ms)
Completed 200 OK in 506ms (Views: 472.8ms | ActiveRecord: 18.4ms)


Started POST "/admin/order/17/state?attr=state&event=delivered" for 127.0.0.1 at 2017-03-20 15:33:55 +0200
Processing by RailsAdmin::MainController#state as HTML
  Parameters: {"authenticity_token"=>"lDAkBTBt1/yqIESUQl0OUCbtvbfso+g3dqt0pxFrE/Y2EBNcmp8X+XavFpTmaVW8sNvK+42g1NehiohVu09gjg==", "attr"=>"state", "event"=>"delivered", "model_name"=>"order", "id"=>"17"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (9.1ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 ORDER BY "orders"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mOrderItem Load (1.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 17]]
  [1m[36mCoupon Load (0.3ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 17], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "orders" SET "state" = $1, "updated_at" = $2 WHERE "orders"."id" = $3[0m  [["state", "delivered"], ["updated_at", 2017-03-20 13:33:55 UTC], ["id", 17]]
  [1m[35m (24.4ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from redirect_to at /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_controller/metal/redirecting.rb:66)
Redirected to http://localhost:3000/ru/admin/order?locale=ru
Completed 302 Found in 65ms (ActiveRecord: 37.0ms)


Started GET "/ru/admin/order?locale=ru" for 127.0.0.1 at 2017-03-20 15:33:55 +0200
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"locale"=>"ru", "model_name"=>"order"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (9.3ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/application
  [1m[36mOrder Load (1.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE ('t'='t') AND ("orders"."user_id" IS NOT NULL) ORDER BY orders.id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 20], ["OFFSET", 0]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders" WHERE ('t'='t') AND ("orders"."user_id" IS NOT NULL)[0m
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/application (253.8ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_secondary_navigation.html.haml (5.6ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_navigation.html.haml (12.8ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_sidebar_navigation.html.haml (18.8ms)
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml (10.7ms)
Completed 200 OK in 521ms (Views: 495.1ms | ActiveRecord: 12.2ms)


Started POST "/admin/order/9/state?attr=state&event=delivered" for 127.0.0.1 at 2017-03-20 15:33:58 +0200
Processing by RailsAdmin::MainController#state as HTML
  Parameters: {"authenticity_token"=>"kuba4STGxUv2p34jT3PjsFhOGAszEXlFtKyGFtqAGk0wxu24jjQFTiooLCPrR7hcznhvR1ISRaVjjXrkcKRpNQ==", "attr"=>"state", "event"=>"delivered", "model_name"=>"order", "id"=>"9"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (12.3ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 ORDER BY "orders"."id" ASC LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 9]]
  [1m[36mCoupon Load (0.1ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 9], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "orders" SET "state" = $1, "updated_at" = $2 WHERE "orders"."id" = $3[0m  [["state", "delivered"], ["updated_at", 2017-03-20 13:33:58 UTC], ["id", 9]]
  [1m[35m (18.9ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from redirect_to at /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_controller/metal/redirecting.rb:66)
Redirected to http://localhost:3000/ru/admin/order?locale=ru
Completed 302 Found in 56ms (ActiveRecord: 33.0ms)


Started GET "/ru/admin/order?locale=ru" for 127.0.0.1 at 2017-03-20 15:33:58 +0200
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"locale"=>"ru", "model_name"=>"order"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (9.9ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/application
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE ('t'='t') AND ("orders"."user_id" IS NOT NULL) ORDER BY orders.id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 20], ["OFFSET", 0]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders" WHERE ('t'='t') AND ("orders"."user_id" IS NOT NULL)[0m
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/application (206.0ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_secondary_navigation.html.haml (5.8ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_navigation.html.haml (14.2ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_sidebar_navigation.html.haml (20.8ms)
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml (11.1ms)
Completed 200 OK in 477ms (Views: 448.5ms | ActiveRecord: 11.2ms)


Started POST "/admin/order/7/state?attr=state&event=sent" for 127.0.0.1 at 2017-03-20 15:34:01 +0200
Processing by RailsAdmin::MainController#state as HTML
  Parameters: {"authenticity_token"=>"OKofshP19ca4kEK50VojpdyslBz67pZwn2rMDXJX/HCaiijruQc1w2QfELl1bnhJSprjUJvtqpBISzD/2HOPCA==", "attr"=>"state", "event"=>"sent", "model_name"=>"order", "id"=>"7"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (14.3ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 ORDER BY "orders"."id" ASC LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 7]]
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 44], ["LIMIT", 1]]
  [1m[36mCoupon Load (0.2ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 7], ["LIMIT", 1]]
  [1m[36mDelivery Load (0.3ms)[0m  [1m[34mSELECT  "deliveries".* FROM "deliveries" WHERE "deliveries"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "orders" SET "state" = $1, "updated_at" = $2 WHERE "orders"."id" = $3[0m  [["state", "in_transit"], ["updated_at", 2017-03-20 13:34:01 UTC], ["id", 7]]
  [1m[35m (19.2ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from redirect_to at /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_controller/metal/redirecting.rb:66)
Redirected to http://localhost:3000/ru/admin/order?locale=ru
Completed 302 Found in 87ms (ActiveRecord: 36.8ms)


Started GET "/ru/admin/order?locale=ru" for 127.0.0.1 at 2017-03-20 15:34:01 +0200
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"locale"=>"ru", "model_name"=>"order"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (9.7ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/application
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE ('t'='t') AND ("orders"."user_id" IS NOT NULL) ORDER BY orders.id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 20], ["OFFSET", 0]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders" WHERE ('t'='t') AND ("orders"."user_id" IS NOT NULL)[0m
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/application (194.5ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_secondary_navigation.html.haml (6.0ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_navigation.html.haml (31.3ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_sidebar_navigation.html.haml (20.7ms)
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml (11.1ms)
Completed 200 OK in 489ms (Views: 462.2ms | ActiveRecord: 11.0ms)


Started POST "/admin/order/7/state?attr=state&event=delivered" for 127.0.0.1 at 2017-03-20 15:34:06 +0200
Processing by RailsAdmin::MainController#state as HTML
  Parameters: {"authenticity_token"=>"2r1ISLJycbawbU7c5tN/1Kq8KVTrr4hdEi0u4s7wzfV4nX8RGICxs2ziHNxC5yQ4PIpeGIqstL3FDNIQZNS+jQ==", "attr"=>"state", "event"=>"delivered", "model_name"=>"order", "id"=>"7"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (11.6ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 ORDER BY "orders"."id" ASC LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 7]]
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 44], ["LIMIT", 1]]
  [1m[36mCoupon Load (0.2ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 7], ["LIMIT", 1]]
  [1m[36mDelivery Load (0.3ms)[0m  [1m[34mSELECT  "deliveries".* FROM "deliveries" WHERE "deliveries"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "orders" SET "state" = $1, "updated_at" = $2 WHERE "orders"."id" = $3[0m  [["state", "delivered"], ["updated_at", 2017-03-20 13:34:06 UTC], ["id", 7]]
  [1m[35m (27.3ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from redirect_to at /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_controller/metal/redirecting.rb:66)
Redirected to http://localhost:3000/ru/admin/order?locale=ru
Completed 302 Found in 79ms (ActiveRecord: 42.2ms)


Started GET "/ru/admin/order?locale=ru" for 127.0.0.1 at 2017-03-20 15:34:06 +0200
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"locale"=>"ru", "model_name"=>"order"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (11.2ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/application
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE ('t'='t') AND ("orders"."user_id" IS NOT NULL) ORDER BY orders.id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 20], ["OFFSET", 0]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders" WHERE ('t'='t') AND ("orders"."user_id" IS NOT NULL)[0m
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/application (190.7ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_secondary_navigation.html.haml (7.0ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_navigation.html.haml (14.2ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_sidebar_navigation.html.haml (20.3ms)
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml (11.5ms)
Completed 200 OK in 463ms (Views: 433.9ms | ActiveRecord: 12.6ms)


Started GET "/ru" for 127.0.0.1 at 2017-03-20 15:34:19 +0200
Processing by MainPagesController#home as HTML
  Parameters: {"locale"=>"ru"}
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."title" = $1 LIMIT $2[0m  [["title", "Mobile"], ["LIMIT", 1]]
  [1m[36mBook Load (1.7ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" INNER JOIN "order_items" ON "order_items"."book_id" = "books"."id" INNER JOIN "orders" ON "orders"."id" = "order_items"."order_id" WHERE (lower(categories.title) = 'mobile') AND "orders"."state" = $1 GROUP BY order_items.book_id, books.id ORDER BY SUM(order_items.quantity) desc LIMIT $2[0m  [["state", "delivered"], ["LIMIT", 4]]
  [1m[36mHABTM_Authors Load (0.5ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" = 19[0m
  [1m[36mAuthor Load (2.9ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (19, 20)[0m
  Rendering main_pages/home.html.haml within layouts/application
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') LIMIT $1) subquery_for_count[0m  [["LIMIT", 4]]
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') ORDER BY "books"."created_at" DESC LIMIT $1[0m  [["LIMIT", 4]]
  [1m[36mHABTM_Authors Load (0.4ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (20, 19, 18, 17)[0m
  [1m[36mAuthor Load (1.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (20, 19)[0m
  Rendered books/_carousel_books.html.haml (46.1ms)
  Rendered books/_book_buttons.html.haml (4.9ms)
  Rendered main_pages/home.html.haml within layouts/application (67.9ms)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 17], ["state", "processing"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "orders" ("state", "created_at", "updated_at", "total_price") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["state", "processing"], ["created_at", 2017-03-20 13:34:19 UTC], ["updated_at", 2017-03-20 13:34:19 UTC], ["total_price", #<BigDecimal:b05544d8,'0.0',9(18)>]]
  [1m[35m (55.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "orders" ("state", "user_id", "created_at", "updated_at", "total_price") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["state", "processing"], ["user_id", 2], ["created_at", 2017-03-20 13:34:19 UTC], ["updated_at", 2017-03-20 13:34:19 UTC], ["total_price", #<BigDecimal:b052b8e4,'0.0',9(18)>]]
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.4ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 18], ["addressable_type", "Order"], ["address_type", 0], ["LIMIT", 1]]
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 18], ["addressable_type", "Order"], ["address_type", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 18]]
  [1m[35m (2.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (3.8ms)
  Rendered layouts/_collapse_ul.html.haml (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (5.1ms)
  Rendered layouts/_collapse_ul.html.haml (7.4ms)
  [1m[36mBook Load (10.7ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendered layouts/_collapse_ul.html.haml (16.5ms)
  Rendered layouts/_navbar.html.haml (40.6ms)
  Rendered layouts/_dropdown_ul.html.haml (2.7ms)
  Rendered layouts/_dropdown_ul.html.haml (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (3.6ms)
  Rendered layouts/_dropdown_ul.html.haml (5.0ms)
  Rendered layouts/_dropdown_ul.html.haml (2.4ms)
  Rendered layouts/_navbar.html.haml (15.9ms)
  Rendered layouts/_header.html.haml (152.6ms)
  Rendered layouts/_footer.html.haml (5.8ms)
Completed 200 OK in 346ms (Views: 249.5ms | ActiveRecord: 84.6ms)


Started GET "/ru/orders" for 127.0.0.1 at 2017-03-20 15:34:23 +0200
Processing by OrdersController#index as HTML
  Parameters: {"locale"=>"ru"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (9.5ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering orders/index.html.haml within layouts/application
  [1m[36mOrder Load (2.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" INNER JOIN "order_items" ON "order_items"."order_id" = "orders"."id" WHERE "orders"."user_id" = $1 AND ('t'='t') GROUP BY orders.id HAVING (COUNT(order_items) != 0) ORDER BY "orders"."created_at" DESC[0m  [["user_id", 2]]
  Rendered collection of orders/_order.html.haml [2 times] (6.3ms)
  Rendered orders/_orders_table.html.haml (6.6ms)
  Rendered orders/index.html.haml within layouts/application (26.7ms)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 19], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 19]]
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (4.0ms)
  Rendered layouts/_collapse_ul.html.haml (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (6.6ms)
  Rendered layouts/_collapse_ul.html.haml (8.2ms)
  Rendered layouts/_collapse_ul.html.haml (2.0ms)
  Rendered layouts/_navbar.html.haml (26.1ms)
  Rendered layouts/_dropdown_ul.html.haml (2.8ms)
  Rendered layouts/_dropdown_ul.html.haml (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (3.8ms)
  Rendered layouts/_dropdown_ul.html.haml (5.8ms)
  Rendered layouts/_dropdown_ul.html.haml (1.3ms)
  Rendered layouts/_navbar.html.haml (15.4ms)
  Rendered layouts/_header.html.haml (57.0ms)
  Rendered layouts/_footer.html.haml (6.0ms)
Completed 200 OK in 236ms (Views: 190.9ms | ActiveRecord: 14.2ms)


Started GET "/ru/orders/7" for 127.0.0.1 at 2017-03-20 15:34:26 +0200
Processing by OrdersController#show as HTML
  Parameters: {"locale"=>"ru", "id"=>"7"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 7], ["LIMIT", 1]]
  [1m[36mBook Load (9.1ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering orders/show.html.haml within layouts/application
  [1m[36mAddress Load (0.5ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 7], ["addressable_type", "Order"], ["address_type", 0], ["LIMIT", 1]]
  [1m[36mAddress Load (0.5ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 7], ["addressable_type", "Order"], ["address_type", 1], ["LIMIT", 1]]
  [1m[36mCountry Load (0.3ms)[0m  [1m[34mSELECT  "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered addresses/_panel.html.haml (4.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered addresses/_panel.html.haml (1.5ms)
  [1m[36mDelivery Load (0.3ms)[0m  [1m[34mSELECT  "deliveries".* FROM "deliveries" WHERE "deliveries"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCreditCard Load (0.4ms)[0m  [1m[34mSELECT  "credit_cards".* FROM "credit_cards" WHERE "credit_cards"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered orders/_components_panel.html.haml (22.5ms)
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 7]]
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  Rendered order_items/_quantity_field.html.haml (2.4ms)
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 44], ["LIMIT", 1]]
  Rendered order_items/_quantity_field.html.haml (0.1ms)
  Rendered collection of order_items/_order_item.html.haml [2 times] (25.3ms)
  Rendered order_items/_quantity_field.html.haml (0.1ms)
  Rendered order_items/_table_field.html.haml (6.4ms)
  Rendered order_items/_quantity_field.html.haml (0.2ms)
  Rendered order_items/_table_field.html.haml (5.3ms)
  Rendered order_items/_table.html.haml (18.3ms)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 19], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mCoupon Load (0.2ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 19], ["LIMIT", 1]]
  [1m[36mCoupon Load (0.1ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 7], ["LIMIT", 1]]
  Rendered orders/_result_panel.html.haml (12.7ms)
  Rendered orders/show.html.haml within layouts/application (90.5ms)
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 19]]
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (4.7ms)
  Rendered layouts/_collapse_ul.html.haml (2.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (5.7ms)
  Rendered layouts/_collapse_ul.html.haml (7.2ms)
  Rendered layouts/_collapse_ul.html.haml (1.7ms)
  Rendered layouts/_navbar.html.haml (25.1ms)
  Rendered layouts/_dropdown_ul.html.haml (5.5ms)
  Rendered layouts/_dropdown_ul.html.haml (1.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (3.8ms)
  Rendered layouts/_dropdown_ul.html.haml (5.0ms)
  Rendered layouts/_dropdown_ul.html.haml (1.3ms)
  Rendered layouts/_navbar.html.haml (18.9ms)
  Rendered layouts/_header.html.haml (73.6ms)
  Rendered layouts/_footer.html.haml (6.7ms)
Completed 200 OK in 306ms (Views: 267.9ms | ActiveRecord: 15.0ms)


Started GET "/ru/orders/5" for 127.0.0.1 at 2017-03-20 15:34:33 +0200
Processing by OrdersController#show as HTML
  Parameters: {"locale"=>"ru", "id"=>"5"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 5], ["LIMIT", 1]]
  [1m[36mBook Load (13.0ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering orders/show.html.haml within layouts/application
  [1m[36mAddress Load (0.4ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 5], ["addressable_type", "Order"], ["address_type", 0], ["LIMIT", 1]]
  [1m[36mAddress Load (0.4ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 5], ["addressable_type", "Order"], ["address_type", 1], ["LIMIT", 1]]
  Rendered addresses/_panel.html.haml (10.2ms)
  Rendered orders/_components_panel.html.haml (21.2ms)
  Rendered orders/show.html.haml within layouts/application (26.0ms)
Completed 500 Internal Server Error in 66ms (ActiveRecord: 14.9ms)


  
ActionView::Template::Error (undefined method `address_type' for nil:NilClass):
    1: %h3.general-subtitle= t("#{address.address_type}_address")
    2: %p.general-address
    3:   = address.decorate.full_name
    4:   - if local_assigns[:edit]
  
app/views/addresses/_panel.html.haml:1:in `_app_views_addresses__panel_html_haml__67296191__672963358'
app/views/orders/_components_panel.html.haml:3:in `block in _app_views_orders__components_panel_html_haml___1057585175__672864938'
app/views/orders/_components_panel.html.haml:1:in `each'
app/views/orders/_components_panel.html.haml:1:in `_app_views_orders__components_panel_html_haml___1057585175__672864938'
app/views/orders/show.html.haml:4:in `_app_views_orders_show_html_haml__930809465__654890008'
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (8.6ms)
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.6ms)
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.9ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (62.9ms)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/oleg/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/oleg/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
Started GET "/ru" for 127.0.0.1 at 2017-03-20 15:38:51 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by MainPagesController#home as HTML
  Parameters: {"locale"=>"ru"}
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."title" = $1 LIMIT $2[0m  [["title", "Mobile"], ["LIMIT", 1]]
  [1m[36mBook Load (3.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" INNER JOIN "order_items" ON "order_items"."book_id" = "books"."id" INNER JOIN "orders" ON "orders"."id" = "order_items"."order_id" WHERE (lower(categories.title) = 'mobile') AND "orders"."state" = $1 GROUP BY order_items.book_id, books.id ORDER BY SUM(order_items.quantity) desc LIMIT $2[0m  [["state", "delivered"], ["LIMIT", 4]]
  [1m[36mHABTM_Authors Load (0.4ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" = 19[0m
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (19, 20)[0m
  Rendering main_pages/home.html.haml within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') LIMIT $1) subquery_for_count[0m  [["LIMIT", 4]]
  [1m[36mBook Load (2.9ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') ORDER BY "books"."created_at" DESC LIMIT $1[0m  [["LIMIT", 4]]
  [1m[36mHABTM_Authors Load (0.3ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (20, 19, 18, 17)[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (20, 19)[0m
  Rendered books/_carousel_books.html.haml (539.8ms)
  Rendered books/_book_buttons.html.haml (4.0ms)
  Rendered main_pages/home.html.haml within layouts/application (570.6ms)
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 19], ["state", "processing"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "orders" ("state", "created_at", "updated_at", "total_price") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["state", "processing"], ["created_at", 2017-03-20 13:38:53 UTC], ["updated_at", 2017-03-20 13:38:53 UTC], ["total_price", #<BigDecimal:a4781dc,'0.0',9(18)>]]
  [1m[35m (31.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "orders" ("state", "user_id", "created_at", "updated_at", "total_price") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["state", "processing"], ["user_id", 2], ["created_at", 2017-03-20 13:38:53 UTC], ["updated_at", 2017-03-20 13:38:53 UTC], ["total_price", #<BigDecimal:b6301e0,'0.0',9(18)>]]
  [1m[35m (6.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (1.4ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 20], ["addressable_type", "Order"], ["address_type", 0], ["LIMIT", 1]]
  [1m[36mAddress Load (1.2ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 20], ["addressable_type", "Order"], ["address_type", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 20]]
  [1m[35m (7.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (11.9ms)
  Rendered layouts/_collapse_ul.html.haml (2.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (10.4ms)
  Rendered layouts/_collapse_ul.html.haml (12.7ms)
  [1m[36mBook Load (9.9ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendered layouts/_collapse_ul.html.haml (88.6ms)
  Rendered layouts/_navbar.html.haml (127.6ms)
  Rendered layouts/_dropdown_ul.html.haml (4.3ms)
  Rendered layouts/_dropdown_ul.html.haml (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (7.6ms)
  Rendered layouts/_dropdown_ul.html.haml (9.8ms)
  Rendered layouts/_dropdown_ul.html.haml (3.6ms)
  Rendered layouts/_navbar.html.haml (24.0ms)
  Rendered layouts/_header.html.haml (356.4ms)
  Rendered layouts/_footer.html.haml (8.2ms)
Completed 200 OK in 1821ms (Views: 992.9ms | ActiveRecord: 113.5ms)


Started GET "/ru/admin" for 127.0.0.1 at 2017-03-20 15:38:57 +0200
Processing by RailsAdmin::MainController#dashboard as HTML
  Parameters: {"locale"=>"ru"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (17.0ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[36mAddress Load (0.4ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" ORDER BY "addresses"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "authors"[0m
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE ('t'='t')[0m
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  "books".* FROM "books" ORDER BY "books"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE ('t'='t')[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" ORDER BY "categories"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (3.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "countries"[0m
  [1m[36mCountry Load (0.9ms)[0m  [1m[34mSELECT  "countries".* FROM "countries" ORDER BY "countries"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coupons"[0m
  [1m[36mCoupon Load (0.3ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" ORDER BY "coupons"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "deliveries"[0m
  [1m[36mDelivery Load (0.3ms)[0m  [1m[34mSELECT  "deliveries".* FROM "deliveries" ORDER BY "deliveries"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "materials"[0m
  [1m[36mMaterial Load (0.3ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders" WHERE ('t'='t')[0m
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" ORDER BY "orders"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "pictures"[0m
  [1m[36mPicture Load (0.3ms)[0m  [1m[34mSELECT  "pictures".* FROM "pictures" ORDER BY "pictures"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "reviews" WHERE ('t'='t')[0m
  [1m[36mReview Load (0.3ms)[0m  [1m[34mSELECT  "reviews".* FROM "reviews" ORDER BY "reviews"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE ('t'='t')[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/dashboard.html.haml within layouts/rails_admin/application
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/dashboard.html.haml within layouts/rails_admin/application (70.7ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_secondary_navigation.html.haml (9.5ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_navigation.html.haml (17.9ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_sidebar_navigation.html.haml (41.6ms)
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml (5.8ms)
Completed 200 OK in 996ms (Views: 448.2ms | ActiveRecord: 37.9ms)


Started GET "/ru/admin" for 127.0.0.1 at 2017-03-20 15:38:58 +0200
Processing by RailsAdmin::MainController#dashboard as HTML
  Parameters: {"locale"=>"ru"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (18.5ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[36mAddress Load (0.6ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" ORDER BY "addresses"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "authors"[0m
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE ('t'='t')[0m
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" ORDER BY "books"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE ('t'='t')[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" ORDER BY "categories"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "countries"[0m
  [1m[36mCountry Load (1.1ms)[0m  [1m[34mSELECT  "countries".* FROM "countries" ORDER BY "countries"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "coupons"[0m
  [1m[36mCoupon Load (0.4ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" ORDER BY "coupons"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "deliveries"[0m
  [1m[36mDelivery Load (0.5ms)[0m  [1m[34mSELECT  "deliveries".* FROM "deliveries" ORDER BY "deliveries"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "materials"[0m
  [1m[36mMaterial Load (0.4ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders" WHERE ('t'='t')[0m
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" ORDER BY "orders"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "pictures"[0m
  [1m[36mPicture Load (0.3ms)[0m  [1m[34mSELECT  "pictures".* FROM "pictures" ORDER BY "pictures"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "reviews" WHERE ('t'='t')[0m
  [1m[36mReview Load (0.4ms)[0m  [1m[34mSELECT  "reviews".* FROM "reviews" ORDER BY "reviews"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE ('t'='t')[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/dashboard.html.haml within layouts/rails_admin/application
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/dashboard.html.haml within layouts/rails_admin/application (84.2ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_secondary_navigation.html.haml (6.2ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_navigation.html.haml (14.6ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_sidebar_navigation.html.haml (27.6ms)
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml (5.0ms)
Completed 200 OK in 505ms (Views: 382.1ms | ActiveRecord: 31.5ms)


Started GET "/ru/admin/book?locale=ru&_pjax=%5Bdata-pjax-container%5D" for 127.0.0.1 at 2017-03-20 15:39:02 +0200
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"locale"=>"ru", "_pjax"=>"[data-pjax-container]", "model_name"=>"book"}
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (18.0ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE ('t'='t') ORDER BY books.id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 20], ["OFFSET", 0]]
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" IN (5, 4)[0m
  [1m[36mHABTM_Authors Load (0.7ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (60, 59, 58, 57, 56, 55, 54, 53, 52, 51, 50, 49, 48, 47, 46, 45, 44, 43, 42, 41)[0m
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (19, 20, 18)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE ('t'='t')[0m
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax (407.6ms)
Completed 200 OK in 488ms (Views: 425.9ms | ActiveRecord: 25.3ms)


Started GET "/ru/admin/book/new?locale=ru&_pjax=%5Bdata-pjax-container%5D" for 127.0.0.1 at 2017-03-20 15:39:17 +0200
Processing by RailsAdmin::MainController#new as HTML
  Parameters: {"locale"=>"ru", "_pjax"=>"[data-pjax-container]", "model_name"=>"book"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (20.3ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/new.html.haml within layouts/rails_admin/pjax
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_field.html.haml (7.2ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_text.html.haml (3.7ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_field.html.haml (0.3ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_field.html.haml (3.4ms)
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE ('t'='t') ORDER BY categories.id desc[0m
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_filtering_select.html.haml (18.7ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_file_upload.html.haml (8.8ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_text.html.haml (1.2ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "pictures"[0m
  [1m[36mPicture Load (0.3ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" ORDER BY pictures.id desc[0m
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_filtering_multiselect.html.haml (20.8ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "reviews"[0m
  [1m[36mReview Load (0.4ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE ('t'='t') ORDER BY reviews.id desc[0m
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_filtering_multiselect.html.haml (21.5ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "authors"[0m
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" ORDER BY authors.id desc[0m
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_filtering_multiselect.html.haml (12.6ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "materials"[0m
  [1m[36mMaterial Load (0.3ms)[0m  [1m[34mSELECT "materials".* FROM "materials" ORDER BY materials.id desc[0m
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_filtering_multiselect.html.haml (10.6ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_submit_buttons.html.haml (5.7ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/new.html.haml within layouts/rails_admin/pjax (192.5ms)
Completed 200 OK in 279ms (Views: 210.8ms | ActiveRecord: 27.2ms)


Started GET "/ru/admin/material/new?locale=ru&modal=true" for 127.0.0.1 at 2017-03-20 15:39:51 +0200
Processing by RailsAdmin::MainController#new as JS
  Parameters: {"locale"=>"ru", "modal"=>"true", "model_name"=>"material"}
  [1m[36mUser Load (3.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (19.2ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/new.html.haml
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_field.html.haml (3.3ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_submit_buttons.html.haml (7.7ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/new.html.haml (30.0ms)
Completed 200 OK in 79ms (Views: 34.9ms | ActiveRecord: 23.8ms)


Started GET "/ru/admin/user?locale=ru&_pjax=%5Bdata-pjax-container%5D" for 127.0.0.1 at 2017-03-20 15:40:06 +0200
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"locale"=>"ru", "_pjax"=>"[data-pjax-container]", "model_name"=>"user"}
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (15.9ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE ('t'='t') ORDER BY users.id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 20], ["OFFSET", 0]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE ('t'='t')[0m
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax (52.4ms)
Completed 200 OK in 117ms (Views: 68.8ms | ActiveRecord: 21.6ms)


Started GET "/ru/admin/user/1/delete?locale=ru&_pjax=%5Bdata-pjax-container%5D" for 127.0.0.1 at 2017-03-20 15:40:13 +0200
Processing by RailsAdmin::MainController#delete as HTML
  Parameters: {"locale"=>"ru", "_pjax"=>"[data-pjax-container]", "model_name"=>"user", "id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (15.5ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/delete.html.haml within layouts/rails_admin/pjax
  [1m[36mProvider Load (0.6ms)[0m  [1m[34mSELECT "providers".* FROM "providers" WHERE "providers"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mReview Load (0.3ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mCreditCard Load (0.5ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards" WHERE "credit_cards"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mAddress Load (0.7ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 1], ["addressable_type", "User"], ["address_type", 0], ["LIMIT", 1]]
  [1m[36mAddress Load (0.4ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 1], ["addressable_type", "User"], ["address_type", 1], ["LIMIT", 1]]
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_delete_notice.html.haml (75.0ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/delete.html.haml within layouts/rails_admin/pjax (85.5ms)
Completed 200 OK in 144ms (Views: 96.9ms | ActiveRecord: 26.7ms)


Started DELETE "/ru/admin/user/1/delete?locale=ru" for 127.0.0.1 at 2017-03-20 15:40:18 +0200
Processing by RailsAdmin::MainController#delete as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"8bbrAXB1TSFwexQxuNqxeUk6YF4/tXQ2/gwBZzySw5lTltxY2oeNJKz0RjEc7uqV3wwXEl62SNYpLf2Vlraw4Q==", "return_to"=>"http://localhost:3000/ru/admin/user?locale=ru", "locale"=>"ru", "model_name"=>"user", "id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (12.8ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProvider Load (0.3ms)[0m  [1m[34mSELECT "providers".* FROM "providers" WHERE "providers"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mCreditCard Load (0.3ms)[0m  [1m[34mSELECT "credit_cards".* FROM "credit_cards" WHERE "credit_cards"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."credit_card_id" = $1[0m  [["credit_card_id", 1]]
  [1m[36mOrderItem Load (0.9ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 7]]
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "order_items" WHERE "order_items"."id" = $1[0m  [["id", 12]]
  [1m[35mSQL (0.7ms)[0m  [1m[31mDELETE FROM "order_items" WHERE "order_items"."id" = $1[0m  [["id", 13]]
  [1m[36mCoupon Load (0.3ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 7], ["LIMIT", 1]]
  [1m[36mAddress Load (0.6ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 7], ["addressable_type", "Order"], ["address_type", 0], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 11]]
  [1m[36mAddress Load (0.4ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 7], ["addressable_type", "Order"], ["address_type", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 12]]
  [1m[35mSQL (0.8ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 7]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "credit_cards" WHERE "credit_cards"."id" = $1[0m  [["id", 1]]
  [1m[36mOrder Load (1.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."credit_card_id" = $1[0m  [["credit_card_id", 2]]
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "order_items" WHERE "order_items"."id" = $1[0m  [["id", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "order_items" WHERE "order_items"."id" = $1[0m  [["id", 2]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "order_items" WHERE "order_items"."id" = $1[0m  [["id", 3]]
  [1m[36mCoupon Load (0.2ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 1], ["LIMIT", 1]]
  [1m[36mAddress Load (0.4ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 1], ["addressable_type", "Order"], ["address_type", 0], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 3]]
  [1m[36mAddress Load (0.4ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 1], ["addressable_type", "Order"], ["address_type", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 4]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 1]]
  [1m[36mOrderItem Load (1.1ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 5]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "order_items" WHERE "order_items"."id" = $1[0m  [["id", 11]]
  [1m[36mCoupon Load (0.2ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 5], ["LIMIT", 1]]
  [1m[36mAddress Load (0.4ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 5], ["addressable_type", "Order"], ["address_type", 0], ["LIMIT", 1]]
  [1m[36mAddress Load (0.4ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 5], ["addressable_type", "Order"], ["address_type", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 5]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards" WHERE "credit_cards"."id" = $1[0m  [["id", 2]]
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."credit_card_id" = $1[0m  [["credit_card_id", 3]]
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 2]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "order_items" WHERE "order_items"."id" = $1[0m  [["id", 4]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "order_items" WHERE "order_items"."id" = $1[0m  [["id", 6]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "order_items" WHERE "order_items"."id" = $1[0m  [["id", 7]]
  [1m[36mCoupon Load (0.2ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 2], ["LIMIT", 1]]
  [1m[36mAddress Load (0.4ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 2], ["addressable_type", "Order"], ["address_type", 0], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 5]]
  [1m[36mAddress Load (0.4ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 2], ["addressable_type", "Order"], ["address_type", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 6]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 2]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards" WHERE "credit_cards"."id" = $1[0m  [["id", 3]]
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."credit_card_id" = $1[0m  [["credit_card_id", 4]]
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 3]]
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "order_items" WHERE "order_items"."id" = $1[0m  [["id", 8]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "order_items" WHERE "order_items"."id" = $1[0m  [["id", 9]]
  [1m[36mCoupon Load (0.3ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 3], ["LIMIT", 1]]
  [1m[36mAddress Load (0.4ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 3], ["addressable_type", "Order"], ["address_type", 0], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 7]]
  [1m[36mAddress Load (0.4ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 3], ["addressable_type", "Order"], ["address_type", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 8]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "credit_cards" WHERE "credit_cards"."id" = $1[0m  [["id", 4]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "orders" SET "user_id" = NULL WHERE "orders"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mAddress Load (0.4ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 1], ["addressable_type", "User"], ["address_type", 0], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 2]]
  [1m[36mAddress Load (0.9ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 1], ["addressable_type", "User"], ["address_type", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "addresses" WHERE "addresses"."id" = $1[0m  [["id", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 1]]
  [1m[35m (15.0ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/ru/admin/user?locale=ru
Completed 302 Found in 177ms (ActiveRecord: 54.1ms)


Started GET "/ru/admin/user?locale=ru" for 127.0.0.1 at 2017-03-20 15:40:18 +0200
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"locale"=>"ru", "model_name"=>"user"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (10.0ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE ('t'='t') ORDER BY users.id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 20], ["OFFSET", 0]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE ('t'='t')[0m
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/application (42.6ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_secondary_navigation.html.haml (5.5ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_navigation.html.haml (13.7ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_sidebar_navigation.html.haml (18.8ms)
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml (11.0ms)
Completed 200 OK in 303ms (Views: 271.4ms | ActiveRecord: 11.4ms)


Started DELETE "/ru/sign_out" for 127.0.0.1 at 2017-03-20 15:44:14 +0200
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"4LDIZtp8+hFfUAhiQlJS3+8ZSSD5WTFG4y+4Ls2lLi5CkP8/cI46FIPfWmLmZgkzeS8+bJhaDaY0DkTcZ4FdVg==", "locale"=>"ru"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/ru
Completed 302 Found in 13ms (ActiveRecord: 1.0ms)


Started GET "/ru" for 127.0.0.1 at 2017-03-20 15:44:14 +0200
Processing by MainPagesController#home as HTML
  Parameters: {"locale"=>"ru"}
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."title" = $1 LIMIT $2[0m  [["title", "Mobile"], ["LIMIT", 1]]
  [1m[36mBook Load (2.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" INNER JOIN "order_items" ON "order_items"."book_id" = "books"."id" INNER JOIN "orders" ON "orders"."id" = "order_items"."order_id" WHERE (lower(categories.title) = 'mobile') AND "orders"."state" = $1 GROUP BY order_items.book_id, books.id ORDER BY SUM(order_items.quantity) desc LIMIT $2[0m  [["state", "delivered"], ["LIMIT", 4]]
  Rendering main_pages/home.html.haml within layouts/application
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') LIMIT $1) subquery_for_count[0m  [["LIMIT", 4]]
  [1m[36mBook Load (1.3ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') ORDER BY "books"."created_at" DESC LIMIT $1[0m  [["LIMIT", 4]]
  [1m[36mHABTM_Authors Load (0.5ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (20, 19, 18, 17)[0m
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (20, 19)[0m
  Rendered books/_carousel_books.html.haml (53.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') ORDER BY "books"."created_at" DESC LIMIT $1[0m  [["LIMIT", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (20, 19, 18, 17)[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (20, 19)[0m
  Rendered books/_book_buttons.html.haml (4.6ms)
  Rendered books/_book_buttons.html.haml (1.0ms)
  Rendered books/_book_buttons.html.haml (1.6ms)
  Rendered books/_book_buttons.html.haml (1.1ms)
  Rendered main_pages/home.html.haml within layouts/application (96.4ms)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" IS NULL AND "orders"."state" = $1 LIMIT $2[0m  [["state", "processing"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "orders" ("state", "created_at", "updated_at", "total_price") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["state", "processing"], ["created_at", 2017-03-20 13:44:14 UTC], ["updated_at", 2017-03-20 13:44:14 UTC], ["total_price", #<BigDecimal:aeda7a60,'0.0',9(18)>]]
  [1m[35m (29.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (3.7ms)
  Rendered layouts/_collapse_ul.html.haml (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (8.5ms)
  Rendered layouts/_collapse_ul.html.haml (10.8ms)
  Rendered layouts/_navbar.html.haml (23.8ms)
  Rendered layouts/_dropdown_ul.html.haml (2.7ms)
  Rendered layouts/_dropdown_ul.html.haml (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (3.5ms)
  Rendered layouts/_dropdown_ul.html.haml (4.9ms)
  Rendered layouts/_navbar.html.haml (12.4ms)
  Rendered layouts/_header.html.haml (90.9ms)
  Rendered layouts/_footer.html.haml (5.3ms)
Completed 200 OK in 300ms (Views: 258.3ms | ActiveRecord: 37.4ms)


Started GET "/ru/sign_up" for 127.0.0.1 at 2017-03-20 15:44:25 +0200
Processing by UsersController#new as HTML
  Parameters: {"locale"=>"ru"}
  Rendering users/new.html.haml within layouts/application
  Rendered users/_omni_links.html.haml (4.0ms)
  Rendered users/new.html.haml within layouts/application (19.5ms)
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 22], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.9ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 22]]
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (5.1ms)
  Rendered layouts/_collapse_ul.html.haml (1.1ms)
  [1m[36mCACHE (0.2ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (11.2ms)
  Rendered layouts/_collapse_ul.html.haml (12.8ms)
  Rendered layouts/_navbar.html.haml (28.8ms)
  Rendered layouts/_dropdown_ul.html.haml (3.2ms)
  Rendered layouts/_dropdown_ul.html.haml (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (6.3ms)
  Rendered layouts/_dropdown_ul.html.haml (7.6ms)
  Rendered layouts/_navbar.html.haml (15.4ms)
  Rendered layouts/_header.html.haml (60.0ms)
  Rendered layouts/_footer.html.haml (7.0ms)
Completed 200 OK in 223ms (Views: 218.9ms | ActiveRecord: 2.0ms)


Started GET "/auth/facebook?locale=ru" for 127.0.0.1 at 2017-03-20 15:44:27 +0200
Started GET "/auth/facebook?locale=ru" for 127.0.0.1 at 2017-03-20 15:44:28 +0200
Started GET "/ru/sign_up" for 127.0.0.1 at 2017-03-20 15:44:35 +0200
Processing by UsersController#new as HTML
  Parameters: {"locale"=>"ru"}
  Rendering users/new.html.haml within layouts/application
  Rendered users/_omni_links.html.haml (2.8ms)
  Rendered users/new.html.haml within layouts/application (16.1ms)
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 22], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (1.9ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 22]]
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (6.4ms)
  Rendered layouts/_collapse_ul.html.haml (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (10.7ms)
  Rendered layouts/_collapse_ul.html.haml (14.3ms)
  Rendered layouts/_navbar.html.haml (36.7ms)
  Rendered layouts/_dropdown_ul.html.haml (4.6ms)
  Rendered layouts/_dropdown_ul.html.haml (1.6ms)
  [1m[36mCACHE (0.1ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (8.7ms)
  Rendered layouts/_dropdown_ul.html.haml (11.1ms)
  Rendered layouts/_navbar.html.haml (24.1ms)
  Rendered layouts/_header.html.haml (85.7ms)
  Rendered layouts/_footer.html.haml (11.8ms)
Completed 200 OK in 276ms (Views: 270.7ms | ActiveRecord: 3.2ms)


Started GET "/auth/google_oauth2?locale=ru" for 127.0.0.1 at 2017-03-20 15:44:38 +0200
Started GET "/auth/google_oauth2?locale=ru" for 127.0.0.1 at 2017-03-20 15:44:39 +0200
Started GET "/ru/sign_up" for 127.0.0.1 at 2017-03-20 15:44:46 +0200
Processing by UsersController#new as HTML
  Parameters: {"locale"=>"ru"}
  Rendering users/new.html.haml within layouts/application
  Rendered users/_omni_links.html.haml (2.9ms)
  Rendered users/new.html.haml within layouts/application (17.6ms)
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 22], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 22]]
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (4.5ms)
  Rendered layouts/_collapse_ul.html.haml (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (9.9ms)
  Rendered layouts/_collapse_ul.html.haml (11.6ms)
  Rendered layouts/_navbar.html.haml (27.9ms)
  Rendered layouts/_dropdown_ul.html.haml (2.9ms)
  Rendered layouts/_dropdown_ul.html.haml (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (4.2ms)
  Rendered layouts/_dropdown_ul.html.haml (5.8ms)
  Rendered layouts/_navbar.html.haml (13.9ms)
  Rendered layouts/_header.html.haml (59.6ms)
  Rendered layouts/_footer.html.haml (7.1ms)
Completed 200 OK in 210ms (Views: 207.5ms | ActiveRecord: 1.0ms)


DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/oleg/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/oleg/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
Started GET "/ru" for 127.0.0.1 at 2017-03-20 16:53:47 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by MainPagesController#home as HTML
  Parameters: {"locale"=>"ru"}
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."title" = $1 LIMIT $2[0m  [["title", "Mobile"], ["LIMIT", 1]]
  [1m[36mBook Load (1.8ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" INNER JOIN "order_items" ON "order_items"."book_id" = "books"."id" INNER JOIN "orders" ON "orders"."id" = "order_items"."order_id" WHERE (lower(categories.title) = 'mobile') AND "orders"."state" = $1 GROUP BY order_items.book_id, books.id ORDER BY SUM(order_items.quantity) desc LIMIT $2[0m  [["state", "delivered"], ["LIMIT", 4]]
  Rendering main_pages/home.html.haml within layouts/application
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') LIMIT $1) subquery_for_count[0m  [["LIMIT", 4]]
  [1m[36mBook Load (0.9ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') ORDER BY "books"."created_at" DESC LIMIT $1[0m  [["LIMIT", 4]]
  [1m[36mHABTM_Authors Load (0.4ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (20, 19, 18, 17)[0m
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (20, 19)[0m
  Rendered books/_carousel_books.html.haml (661.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') ORDER BY "books"."created_at" DESC LIMIT $1[0m  [["LIMIT", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (20, 19, 18, 17)[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (20, 19)[0m
  Rendered books/_book_buttons.html.haml (5.1ms)
  Rendered books/_book_buttons.html.haml (1.3ms)
  Rendered books/_book_buttons.html.haml (1.4ms)
  Rendered books/_book_buttons.html.haml (1.2ms)
  Rendered main_pages/home.html.haml within layouts/application (724.0ms)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 22], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 22]]
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (6.3ms)
  Rendered layouts/_collapse_ul.html.haml (2.0ms)
  [1m[36mCACHE (0.1ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (9.9ms)
  Rendered layouts/_collapse_ul.html.haml (12.9ms)
  Rendered layouts/_navbar.html.haml (35.6ms)
  Rendered layouts/_dropdown_ul.html.haml (5.7ms)
  Rendered layouts/_dropdown_ul.html.haml (1.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (5.6ms)
  Rendered layouts/_dropdown_ul.html.haml (7.0ms)
  Rendered layouts/_navbar.html.haml (18.9ms)
  Rendered layouts/_header.html.haml (97.8ms)
  Rendered layouts/_footer.html.haml (10.5ms)
Completed 200 OK in 1591ms (Views: 977.1ms | ActiveRecord: 22.8ms)


Started GET "/ru/sign_in" for 127.0.0.1 at 2017-03-20 16:54:06 +0200
Processing by Devise::SessionsController#new as HTML
  Parameters: {"locale"=>"ru"}
  Rendering devise/sessions/new.html.haml within layouts/application
  [1m[36mCategory Load (1.4ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered users/_omni_links.html.haml (489.9ms)
  Rendered devise/sessions/new.html.haml within layouts/application (495.5ms)
Completed 500 Internal Server Error in 554ms (ActiveRecord: 7.8ms)


  
ActionView::Template::Error (undefined local variable or method `user_facebook_omniauth_authorize_path' for #<#<Class:0xb2d2efe4>:0xb2d2d7d4>):
    1: = link_to user_facebook_omniauth_authorize_path,
    2:   class: 'general-login-icon', id: 'facebook_omniauth' do
    3:   %i.fa.fa-facebook-official
    4: 
  
app/views/users/_omni_links.html.haml:1:in `_app_views_users__omni_links_html_haml___441661670__648134838'
app/views/devise/sessions/new.html.haml:5:in `_app_views_devise_sessions_new_html_haml__807514593__647520298'
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (9.5ms)
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (7.6ms)
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.9ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (70.3ms)
Started GET "/ru" for 127.0.0.1 at 2017-03-20 16:54:30 +0200
Processing by MainPagesController#home as HTML
  Parameters: {"locale"=>"ru"}
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."title" = $1 LIMIT $2[0m  [["title", "Mobile"], ["LIMIT", 1]]
  [1m[36mBook Load (2.7ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" INNER JOIN "order_items" ON "order_items"."book_id" = "books"."id" INNER JOIN "orders" ON "orders"."id" = "order_items"."order_id" WHERE (lower(categories.title) = 'mobile') AND "orders"."state" = $1 GROUP BY order_items.book_id, books.id ORDER BY SUM(order_items.quantity) desc LIMIT $2[0m  [["state", "delivered"], ["LIMIT", 4]]
  Rendering main_pages/home.html.haml within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') LIMIT $1) subquery_for_count[0m  [["LIMIT", 4]]
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') ORDER BY "books"."created_at" DESC LIMIT $1[0m  [["LIMIT", 4]]
  [1m[36mHABTM_Authors Load (0.6ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (20, 19, 18, 17)[0m
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (20, 19)[0m
  Rendered books/_carousel_books.html.haml (66.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') ORDER BY "books"."created_at" DESC LIMIT $1[0m  [["LIMIT", 4]]
  [1m[36mCACHE (0.2ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (20, 19, 18, 17)[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (20, 19)[0m
  Rendered books/_book_buttons.html.haml (4.3ms)
  Rendered books/_book_buttons.html.haml (1.2ms)
  Rendered books/_book_buttons.html.haml (1.4ms)
  Rendered books/_book_buttons.html.haml (1.0ms)
  Rendered main_pages/home.html.haml within layouts/application (127.8ms)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 22], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 22]]
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (5.2ms)
  Rendered layouts/_collapse_ul.html.haml (1.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (8.8ms)
  Rendered layouts/_collapse_ul.html.haml (10.6ms)
  Rendered layouts/_navbar.html.haml (28.9ms)
  Rendered layouts/_dropdown_ul.html.haml (4.8ms)
  Rendered layouts/_dropdown_ul.html.haml (1.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (5.2ms)
  Rendered layouts/_dropdown_ul.html.haml (7.9ms)
  Rendered layouts/_navbar.html.haml (19.4ms)
  Rendered layouts/_header.html.haml (64.3ms)
  Rendered layouts/_footer.html.haml (7.1ms)
Completed 200 OK in 370ms (Views: 350.7ms | ActiveRecord: 6.8ms)


Started GET "/ru/sign_in" for 127.0.0.1 at 2017-03-20 16:54:33 +0200
Processing by Devise::SessionsController#new as HTML
  Parameters: {"locale"=>"ru"}
  Rendering devise/sessions/new.html.haml within layouts/application
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered users/_omni_links.html.haml (416.6ms)
  Rendered devise/sessions/new.html.haml within layouts/application (421.7ms)
Completed 500 Internal Server Error in 443ms (ActiveRecord: 0.7ms)


  
ActionView::Template::Error (undefined local variable or method `user_facebook_omniauth_authorize_path' for #<#<Class:0xb2d2efe4>:0xb2f527e4>):
    1: = link_to user_facebook_omniauth_authorize_path,
    2:   class: 'general-login-icon', id: 'facebook_omniauth' do
    3:   %i.fa.fa-facebook-official
    4: 
  
app/views/users/_omni_links.html.haml:1:in `_app_views_users__omni_links_html_haml___441661670__645033158'
app/views/devise/sessions/new.html.haml:5:in `_app_views_devise_sessions_new_html_haml__807514593__646281848'
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (7.0ms)
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.1ms)
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (58.0ms)
Started GET "/ru" for 127.0.0.1 at 2017-03-20 16:54:37 +0200
Processing by MainPagesController#home as HTML
  Parameters: {"locale"=>"ru"}
  [1m[36mCategory Load (1.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."title" = $1 LIMIT $2[0m  [["title", "Mobile"], ["LIMIT", 1]]
  [1m[36mBook Load (2.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" INNER JOIN "order_items" ON "order_items"."book_id" = "books"."id" INNER JOIN "orders" ON "orders"."id" = "order_items"."order_id" WHERE (lower(categories.title) = 'mobile') AND "orders"."state" = $1 GROUP BY order_items.book_id, books.id ORDER BY SUM(order_items.quantity) desc LIMIT $2[0m  [["state", "delivered"], ["LIMIT", 4]]
  Rendering main_pages/home.html.haml within layouts/application
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') LIMIT $1) subquery_for_count[0m  [["LIMIT", 4]]
  [1m[36mBook Load (1.0ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') ORDER BY "books"."created_at" DESC LIMIT $1[0m  [["LIMIT", 4]]
  [1m[36mHABTM_Authors Load (0.5ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (20, 19, 18, 17)[0m
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (20, 19)[0m
  Rendered books/_carousel_books.html.haml (44.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') ORDER BY "books"."created_at" DESC LIMIT $1[0m  [["LIMIT", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (20, 19, 18, 17)[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (20, 19)[0m
  Rendered books/_book_buttons.html.haml (3.0ms)
  Rendered books/_book_buttons.html.haml (1.0ms)
  Rendered books/_book_buttons.html.haml (0.9ms)
  Rendered books/_book_buttons.html.haml (2.9ms)
  Rendered main_pages/home.html.haml within layouts/application (87.5ms)
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 22], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 22]]
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (4.2ms)
  Rendered layouts/_collapse_ul.html.haml (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (5.2ms)
  Rendered layouts/_collapse_ul.html.haml (6.6ms)
  Rendered layouts/_navbar.html.haml (20.6ms)
  Rendered layouts/_dropdown_ul.html.haml (5.4ms)
  Rendered layouts/_dropdown_ul.html.haml (1.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (5.4ms)
  Rendered layouts/_dropdown_ul.html.haml (7.5ms)
  Rendered layouts/_navbar.html.haml (21.4ms)
  Rendered layouts/_header.html.haml (57.2ms)
  Rendered layouts/_footer.html.haml (7.3ms)
Completed 200 OK in 275ms (Views: 261.6ms | ActiveRecord: 7.9ms)


Started GET "/ru/sign_in" for 127.0.0.1 at 2017-03-20 16:54:54 +0200
Processing by Devise::SessionsController#new as HTML
  Parameters: {"locale"=>"ru"}
  Rendering devise/sessions/new.html.haml within layouts/application
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered users/_omni_links.html.haml (483.4ms)
  Rendered devise/sessions/new.html.haml within layouts/application (490.2ms)
Completed 500 Internal Server Error in 510ms (ActiveRecord: 0.7ms)


  
ActionView::Template::Error (undefined local variable or method `user_facebook_omniauth_authorize_path' for #<#<Class:0xb2d2efe4>:0xbc97024>):
    1: = link_to user_facebook_omniauth_authorize_path,
    2:   class: 'general-login-icon', id: 'facebook_omniauth' do
    3:   %i.fa.fa-facebook-official
    4: 
  
app/views/users/_omni_links.html.haml:1:in `_app_views_users__omni_links_html_haml___441661670_98636330'
app/views/devise/sessions/new.html.haml:5:in `_app_views_devise_sessions_new_html_haml__807514593_98872290'
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (22.1ms)
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (5.9ms)
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.6ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (93.0ms)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/oleg/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/oleg/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
Started GET "/" for 127.0.0.1 at 2017-03-20 16:55:41 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by MainPagesController#home as HTML
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."title" = $1 LIMIT $2[0m  [["title", "Mobile"], ["LIMIT", 1]]
  [1m[36mBook Load (1.8ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" INNER JOIN "order_items" ON "order_items"."book_id" = "books"."id" INNER JOIN "orders" ON "orders"."id" = "order_items"."order_id" WHERE (lower(categories.title) = 'mobile') AND "orders"."state" = $1 GROUP BY order_items.book_id, books.id ORDER BY SUM(order_items.quantity) desc LIMIT $2[0m  [["state", "delivered"], ["LIMIT", 4]]
  Rendering main_pages/home.html.haml within layouts/application
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') LIMIT $1) subquery_for_count[0m  [["LIMIT", 4]]
  [1m[36mBook Load (0.9ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') ORDER BY "books"."created_at" DESC LIMIT $1[0m  [["LIMIT", 4]]
  [1m[36mHABTM_Authors Load (0.5ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (20, 19, 18, 17)[0m
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (20, 19)[0m
  Rendered books/_carousel_books.html.haml (559.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') ORDER BY "books"."created_at" DESC LIMIT $1[0m  [["LIMIT", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (20, 19, 18, 17)[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (20, 19)[0m
  Rendered books/_book_buttons.html.haml (4.2ms)
  Rendered books/_book_buttons.html.haml (1.5ms)
  Rendered books/_book_buttons.html.haml (1.1ms)
  Rendered books/_book_buttons.html.haml (1.2ms)
  Rendered main_pages/home.html.haml within layouts/application (617.5ms)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 22], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 22]]
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (7.0ms)
  Rendered layouts/_collapse_ul.html.haml (2.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (12.0ms)
  Rendered layouts/_collapse_ul.html.haml (14.6ms)
  Rendered layouts/_navbar.html.haml (33.9ms)
  Rendered layouts/_dropdown_ul.html.haml (3.6ms)
  Rendered layouts/_dropdown_ul.html.haml (3.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (4.9ms)
  Rendered layouts/_dropdown_ul.html.haml (6.9ms)
  Rendered layouts/_navbar.html.haml (17.4ms)
  Rendered layouts/_header.html.haml (102.0ms)
  Rendered layouts/_footer.html.haml (12.4ms)
Completed 200 OK in 1461ms (Views: 858.3ms | ActiveRecord: 24.0ms)


Started GET "/sign_in" for 127.0.0.1 at 2017-03-20 16:55:47 +0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.haml within layouts/application
  Rendered users/_omni_links.html.haml (3.9ms)
  Rendered devise/sessions/_login_form.html.haml (35.3ms)
  Rendered devise/sessions/new.html.haml within layouts/application (45.3ms)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 22], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 22]]
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (4.0ms)
  Rendered layouts/_collapse_ul.html.haml (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (5.4ms)
  Rendered layouts/_collapse_ul.html.haml (7.0ms)
  Rendered layouts/_navbar.html.haml (41.5ms)
  Rendered layouts/_dropdown_ul.html.haml (3.5ms)
  Rendered layouts/_dropdown_ul.html.haml (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (3.9ms)
  Rendered layouts/_dropdown_ul.html.haml (5.8ms)
  Rendered layouts/_navbar.html.haml (14.3ms)
  Rendered layouts/_header.html.haml (72.5ms)
  Rendered layouts/_footer.html.haml (7.4ms)
Completed 200 OK in 301ms (Views: 257.5ms | ActiveRecord: 5.7ms)


Started GET "/" for 127.0.0.1 at 2017-03-20 16:55:51 +0200
Processing by MainPagesController#home as HTML
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."title" = $1 LIMIT $2[0m  [["title", "Mobile"], ["LIMIT", 1]]
  [1m[36mBook Load (1.7ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" INNER JOIN "order_items" ON "order_items"."book_id" = "books"."id" INNER JOIN "orders" ON "orders"."id" = "order_items"."order_id" WHERE (lower(categories.title) = 'mobile') AND "orders"."state" = $1 GROUP BY order_items.book_id, books.id ORDER BY SUM(order_items.quantity) desc LIMIT $2[0m  [["state", "delivered"], ["LIMIT", 4]]
  Rendering main_pages/home.html.haml within layouts/application
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') LIMIT $1) subquery_for_count[0m  [["LIMIT", 4]]
  [1m[36mBook Load (1.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') ORDER BY "books"."created_at" DESC LIMIT $1[0m  [["LIMIT", 4]]
  [1m[36mHABTM_Authors Load (0.5ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (20, 19, 18, 17)[0m
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (20, 19)[0m
  Rendered books/_carousel_books.html.haml (83.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') ORDER BY "books"."created_at" DESC LIMIT $1[0m  [["LIMIT", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (20, 19, 18, 17)[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (20, 19)[0m
  Rendered books/_book_buttons.html.haml (8.6ms)
  Rendered books/_book_buttons.html.haml (1.4ms)
  Rendered books/_book_buttons.html.haml (2.0ms)
  Rendered books/_book_buttons.html.haml (2.8ms)
  Rendered main_pages/home.html.haml within layouts/application (149.9ms)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 22], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 22]]
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (5.2ms)
  Rendered layouts/_collapse_ul.html.haml (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (6.3ms)
  Rendered layouts/_collapse_ul.html.haml (8.0ms)
  Rendered layouts/_navbar.html.haml (22.0ms)
  Rendered layouts/_dropdown_ul.html.haml (6.5ms)
  Rendered layouts/_dropdown_ul.html.haml (1.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (4.2ms)
  Rendered layouts/_dropdown_ul.html.haml (5.9ms)
  Rendered layouts/_navbar.html.haml (18.1ms)
  Rendered layouts/_header.html.haml (52.4ms)
  Rendered layouts/_footer.html.haml (6.6ms)
Completed 200 OK in 337ms (Views: 322.2ms | ActiveRecord: 7.4ms)


Started GET "/books/18" for 127.0.0.1 at 2017-03-20 16:57:44 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"18"}
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  [1m[36mBook Load (10.8ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering books/show.html.haml within layouts/application
  [1m[36mPicture Load (0.5ms)[0m  [1m[34mSELECT  "pictures".* FROM "pictures" WHERE "pictures"."imageable_id" = $1 AND "pictures"."imageable_type" = $2 ORDER BY "pictures"."id" ASC LIMIT $3[0m  [["imageable_id", 18], ["imageable_type", "Book"], ["LIMIT", 1]]
  [1m[36mPicture Load (1.1ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."imageable_id" = $1 AND "pictures"."imageable_type" = $2[0m  [["imageable_id", 18], ["imageable_type", "Book"]]
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 18]]
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMaterial Load (0.4ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 18]]
  [1m[36mReview Load (0.4ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."book_id" = $1 AND "reviews"."state" = $2[0m  [["book_id", 18], ["state", "approved"]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered books/show.html.haml within layouts/application (60.6ms)
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 22], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 22]]
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (5.7ms)
  Rendered layouts/_collapse_ul.html.haml (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (5.8ms)
  Rendered layouts/_collapse_ul.html.haml (7.5ms)
  Rendered layouts/_navbar.html.haml (21.8ms)
  Rendered layouts/_dropdown_ul.html.haml (5.8ms)
  Rendered layouts/_dropdown_ul.html.haml (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (3.7ms)
  Rendered layouts/_dropdown_ul.html.haml (5.3ms)
  Rendered layouts/_navbar.html.haml (15.9ms)
  Rendered layouts/_header.html.haml (61.4ms)
  Rendered layouts/_footer.html.haml (6.0ms)
Completed 200 OK in 328ms (Views: 225.2ms | ActiveRecord: 23.5ms)


Started GET "/books/19" for 127.0.0.1 at 2017-03-20 16:58:09 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"19"}
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mBook Load (15.9ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering books/show.html.haml within layouts/application
  [1m[36mPicture Load (0.5ms)[0m  [1m[34mSELECT  "pictures".* FROM "pictures" WHERE "pictures"."imageable_id" = $1 AND "pictures"."imageable_type" = $2 ORDER BY "pictures"."id" ASC LIMIT $3[0m  [["imageable_id", 19], ["imageable_type", "Book"], ["LIMIT", 1]]
  [1m[36mPicture Load (0.3ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."imageable_id" = $1 AND "pictures"."imageable_type" = $2[0m  [["imageable_id", 19], ["imageable_type", "Book"]]
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 19]]
  [1m[36mCategory Load (1.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMaterial Load (0.6ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 19]]
  [1m[36mReview Load (0.4ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."book_id" = $1 AND "reviews"."state" = $2[0m  [["book_id", 19], ["state", "approved"]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered books/show.html.haml within layouts/application (47.6ms)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 22], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 22]]
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (4.5ms)
  Rendered layouts/_collapse_ul.html.haml (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (7.4ms)
  Rendered layouts/_collapse_ul.html.haml (9.2ms)
  Rendered layouts/_navbar.html.haml (25.5ms)
  Rendered layouts/_dropdown_ul.html.haml (2.8ms)
  Rendered layouts/_dropdown_ul.html.haml (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (4.0ms)
  Rendered layouts/_dropdown_ul.html.haml (7.3ms)
  Rendered layouts/_navbar.html.haml (14.6ms)
  Rendered layouts/_header.html.haml (54.4ms)
  Rendered layouts/_footer.html.haml (6.1ms)
Completed 200 OK in 274ms (Views: 217.8ms | ActiveRecord: 21.7ms)


Started GET "/sign_in" for 127.0.0.1 at 2017-03-20 16:58:14 +0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.haml within layouts/application
  Rendered users/_omni_links.html.haml (2.3ms)
  Rendered devise/sessions/_login_form.html.haml (16.8ms)
  Rendered devise/sessions/new.html.haml within layouts/application (30.0ms)
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 22], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 22]]
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (4.1ms)
  Rendered layouts/_collapse_ul.html.haml (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (12.8ms)
  Rendered layouts/_collapse_ul.html.haml (15.2ms)
  Rendered layouts/_navbar.html.haml (29.5ms)
  Rendered layouts/_dropdown_ul.html.haml (5.3ms)
  Rendered layouts/_dropdown_ul.html.haml (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (4.2ms)
  Rendered layouts/_dropdown_ul.html.haml (6.3ms)
  Rendered layouts/_navbar.html.haml (16.1ms)
  Rendered layouts/_header.html.haml (60.5ms)
  Rendered layouts/_footer.html.haml (13.2ms)
Completed 200 OK in 266ms (Views: 262.1ms | ActiveRecord: 1.1ms)


Started GET "/" for 127.0.0.1 at 2017-03-20 16:58:28 +0200
Processing by MainPagesController#home as HTML
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."title" = $1 LIMIT $2[0m  [["title", "Mobile"], ["LIMIT", 1]]
  [1m[36mBook Load (1.9ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" INNER JOIN "order_items" ON "order_items"."book_id" = "books"."id" INNER JOIN "orders" ON "orders"."id" = "order_items"."order_id" WHERE (lower(categories.title) = 'mobile') AND "orders"."state" = $1 GROUP BY order_items.book_id, books.id ORDER BY SUM(order_items.quantity) desc LIMIT $2[0m  [["state", "delivered"], ["LIMIT", 4]]
  Rendering main_pages/home.html.haml within layouts/application
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') LIMIT $1) subquery_for_count[0m  [["LIMIT", 4]]
  [1m[36mBook Load (1.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') ORDER BY "books"."created_at" DESC LIMIT $1[0m  [["LIMIT", 4]]
  [1m[36mHABTM_Authors Load (0.6ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (20, 19, 18, 17)[0m
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (20, 19)[0m
  Rendered books/_carousel_books.html.haml (107.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') ORDER BY "books"."created_at" DESC LIMIT $1[0m  [["LIMIT", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (20, 19, 18, 17)[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (20, 19)[0m
  Rendered books/_book_buttons.html.haml (6.8ms)
  Rendered books/_book_buttons.html.haml (1.2ms)
  Rendered books/_book_buttons.html.haml (2.3ms)
  Rendered books/_book_buttons.html.haml (1.1ms)
  Rendered main_pages/home.html.haml within layouts/application (173.7ms)
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 22], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 22]]
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (5.1ms)
  Rendered layouts/_collapse_ul.html.haml (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (8.5ms)
  Rendered layouts/_collapse_ul.html.haml (10.4ms)
  Rendered layouts/_navbar.html.haml (26.4ms)
  Rendered layouts/_dropdown_ul.html.haml (4.0ms)
  Rendered layouts/_dropdown_ul.html.haml (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (4.0ms)
  Rendered layouts/_dropdown_ul.html.haml (5.5ms)
  Rendered layouts/_navbar.html.haml (15.0ms)
  Rendered layouts/_header.html.haml (58.6ms)
  Rendered layouts/_footer.html.haml (6.0ms)
Completed 200 OK in 356ms (Views: 341.0ms | ActiveRecord: 6.8ms)


Started GET "/ru/home" for 127.0.0.1 at 2017-03-20 16:58:44 +0200
Processing by MainPagesController#home as HTML
  Parameters: {"locale"=>"ru"}
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."title" = $1 LIMIT $2[0m  [["title", "Mobile"], ["LIMIT", 1]]
  [1m[36mBook Load (5.3ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" INNER JOIN "order_items" ON "order_items"."book_id" = "books"."id" INNER JOIN "orders" ON "orders"."id" = "order_items"."order_id" WHERE (lower(categories.title) = 'mobile') AND "orders"."state" = $1 GROUP BY order_items.book_id, books.id ORDER BY SUM(order_items.quantity) desc LIMIT $2[0m  [["state", "delivered"], ["LIMIT", 4]]
  Rendering main_pages/home.html.haml within layouts/application
  [1m[35m (2.2ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') LIMIT $1) subquery_for_count[0m  [["LIMIT", 4]]
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') ORDER BY "books"."created_at" DESC LIMIT $1[0m  [["LIMIT", 4]]
  [1m[36mHABTM_Authors Load (0.4ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (20, 19, 18, 17)[0m
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (20, 19)[0m
  Rendered books/_carousel_books.html.haml (54.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') ORDER BY "books"."created_at" DESC LIMIT $1[0m  [["LIMIT", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (20, 19, 18, 17)[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (20, 19)[0m
  Rendered books/_book_buttons.html.haml (3.6ms)
  Rendered books/_book_buttons.html.haml (1.2ms)
  Rendered books/_book_buttons.html.haml (1.2ms)
  Rendered books/_book_buttons.html.haml (1.0ms)
  Rendered main_pages/home.html.haml within layouts/application (103.6ms)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 22], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 22]]
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (4.2ms)
  Rendered layouts/_collapse_ul.html.haml (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (6.8ms)
  Rendered layouts/_collapse_ul.html.haml (8.4ms)
  Rendered layouts/_navbar.html.haml (25.2ms)
  Rendered layouts/_dropdown_ul.html.haml (3.0ms)
  Rendered layouts/_dropdown_ul.html.haml (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (6.2ms)
  Rendered layouts/_dropdown_ul.html.haml (7.7ms)
  Rendered layouts/_navbar.html.haml (15.5ms)
  Rendered layouts/_header.html.haml (55.8ms)
  Rendered layouts/_footer.html.haml (22.0ms)
Completed 200 OK in 309ms (Views: 286.4ms | ActiveRecord: 10.9ms)


Started GET "/ru/cart" for 127.0.0.1 at 2017-03-20 16:59:21 +0200
Processing by CartsController#edit as HTML
  Parameters: {"locale"=>"ru"}
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 22], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  [1m[36mOrderItem Load (2.1ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = 22 ORDER BY "order_items"."created_at" ASC[0m
  [1m[36mCoupon Load (0.6ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 22], ["LIMIT", 1]]
  Rendering carts/edit.html.haml within layouts/application
  Rendered carts/edit.html.haml within layouts/application (5.8ms)
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (4.7ms)
  Rendered layouts/_collapse_ul.html.haml (2.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (6.1ms)
  Rendered layouts/_collapse_ul.html.haml (7.6ms)
  Rendered layouts/_navbar.html.haml (24.0ms)
  Rendered layouts/_dropdown_ul.html.haml (3.7ms)
  Rendered layouts/_dropdown_ul.html.haml (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (5.3ms)
  Rendered layouts/_dropdown_ul.html.haml (7.1ms)
  Rendered layouts/_navbar.html.haml (16.8ms)
  Rendered layouts/_header.html.haml (49.7ms)
  Rendered layouts/_footer.html.haml (7.4ms)
Completed 200 OK in 199ms (Views: 167.4ms | ActiveRecord: 5.5ms)


Started GET "/ru/home/mobile" for 127.0.0.1 at 2017-03-20 16:59:28 +0200
Processing by MainPagesController#home as HTML
  Parameters: {"locale"=>"ru", "category"=>"mobile"}
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."title" = $1 LIMIT $2[0m  [["title", "Mobile"], ["LIMIT", 1]]
  [1m[36mBook Load (1.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" INNER JOIN "order_items" ON "order_items"."book_id" = "books"."id" INNER JOIN "orders" ON "orders"."id" = "order_items"."order_id" WHERE (lower(categories.title) = 'mobile') AND "orders"."state" = $1 GROUP BY order_items.book_id, books.id ORDER BY SUM(order_items.quantity) desc LIMIT $2[0m  [["state", "delivered"], ["LIMIT", 4]]
  Rendering main_pages/home.html.haml within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') LIMIT $1) subquery_for_count[0m  [["LIMIT", 4]]
  [1m[36mBook Load (1.1ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') ORDER BY "books"."created_at" DESC LIMIT $1[0m  [["LIMIT", 4]]
  [1m[36mHABTM_Authors Load (0.3ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (20, 19, 18, 17)[0m
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (20, 19)[0m
  Rendered books/_carousel_books.html.haml (45.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') ORDER BY "books"."created_at" DESC LIMIT $1[0m  [["LIMIT", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (20, 19, 18, 17)[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (20, 19)[0m
  Rendered books/_book_buttons.html.haml (3.4ms)
  Rendered books/_book_buttons.html.haml (2.6ms)
  Rendered books/_book_buttons.html.haml (1.0ms)
  Rendered books/_book_buttons.html.haml (1.1ms)
  Rendered main_pages/home.html.haml within layouts/application (93.0ms)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 22], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 22]]
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (4.3ms)
  Rendered layouts/_collapse_ul.html.haml (1.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (9.6ms)
  Rendered layouts/_collapse_ul.html.haml (11.3ms)
  Rendered layouts/_navbar.html.haml (27.1ms)
  Rendered layouts/_dropdown_ul.html.haml (3.6ms)
  Rendered layouts/_dropdown_ul.html.haml (1.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (3.9ms)
  Rendered layouts/_dropdown_ul.html.haml (5.6ms)
  Rendered layouts/_navbar.html.haml (15.8ms)
  Rendered layouts/_header.html.haml (58.8ms)
  Rendered layouts/_footer.html.haml (6.0ms)
Completed 200 OK in 271ms (Views: 258.3ms | ActiveRecord: 5.9ms)


Started POST "/ru/order_items" for 127.0.0.1 at 2017-03-20 16:59:34 +0200
Processing by OrderItemsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"J47PYHX+vG/YieZYQSQUG/4v3k6yKcwfWiqtIAIYFsjP5vt9CGA5Ty0EL4gsGN1czSOcRyyyW02UR+kOkbU9Tg==", "book_id"=>"19", "quantity"=>"1", "locale"=>"ru"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 22], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2 ORDER BY "order_items"."created_at" ASC LIMIT $3[0m  [["order_id", 22], ["book_id", 19], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["book_id", 19], ["order_id", 22], ["created_at", 2017-03-20 14:59:34 UTC], ["updated_at", 2017-03-20 14:59:34 UTC]]
  [1m[35m (59.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 22]]
  [1m[36mCoupon Load (0.3ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 22], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "orders" SET "updated_at" = $1, "total_price" = $2 WHERE "orders"."id" = $3[0m  [["updated_at", 2017-03-20 14:59:34 UTC], ["total_price", #<BigDecimal:b0ed52f0,'0.1159E2',18(27)>], ["id", 22]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "order_items" SET "created_at" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["created_at", 2017-03-20 14:59:34 UTC], ["updated_at", 2017-03-20 14:59:34 UTC], ["id", 14]]
  [1m[35m (3.6ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/ru/home/mobile
Completed 302 Found in 126ms (ActiveRecord: 68.7ms)


Started GET "/ru/home/mobile" for 127.0.0.1 at 2017-03-20 16:59:34 +0200
Processing by MainPagesController#home as HTML
  Parameters: {"locale"=>"ru", "category"=>"mobile"}
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."title" = $1 LIMIT $2[0m  [["title", "Mobile"], ["LIMIT", 1]]
  [1m[36mBook Load (1.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" INNER JOIN "order_items" ON "order_items"."book_id" = "books"."id" INNER JOIN "orders" ON "orders"."id" = "order_items"."order_id" WHERE (lower(categories.title) = 'mobile') AND "orders"."state" = $1 GROUP BY order_items.book_id, books.id ORDER BY SUM(order_items.quantity) desc LIMIT $2[0m  [["state", "delivered"], ["LIMIT", 4]]
  Rendering main_pages/home.html.haml within layouts/application
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') LIMIT $1) subquery_for_count[0m  [["LIMIT", 4]]
  [1m[36mBook Load (1.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') ORDER BY "books"."created_at" DESC LIMIT $1[0m  [["LIMIT", 4]]
  [1m[36mHABTM_Authors Load (0.3ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (20, 19, 18, 17)[0m
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (20, 19)[0m
  Rendered books/_carousel_books.html.haml (56.3ms)
  [1m[36mCACHE (0.1ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') ORDER BY "books"."created_at" DESC LIMIT $1[0m  [["LIMIT", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (20, 19, 18, 17)[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (20, 19)[0m
  Rendered books/_book_buttons.html.haml (4.4ms)
  Rendered books/_book_buttons.html.haml (1.1ms)
  Rendered books/_book_buttons.html.haml (2.2ms)
  Rendered books/_book_buttons.html.haml (1.0ms)
  Rendered main_pages/home.html.haml within layouts/application (102.7ms)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 22], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 22]]
  [1m[36mCategory Load (1.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (5.4ms)
  Rendered layouts/_collapse_ul.html.haml (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (5.7ms)
  Rendered layouts/_collapse_ul.html.haml (7.2ms)
  Rendered layouts/_navbar.html.haml (22.4ms)
  Rendered layouts/_dropdown_ul.html.haml (3.6ms)
  Rendered layouts/_dropdown_ul.html.haml (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (4.1ms)
  Rendered layouts/_dropdown_ul.html.haml (5.5ms)
  Rendered layouts/_navbar.html.haml (15.6ms)
  Rendered layouts/_header.html.haml (55.6ms)
  Rendered layouts/_footer.html.haml (6.0ms)
Completed 200 OK in 275ms (Views: 258.1ms | ActiveRecord: 6.8ms)


Started GET "/ru/home/photo" for 127.0.0.1 at 2017-03-20 16:59:41 +0200
Processing by MainPagesController#home as HTML
  Parameters: {"locale"=>"ru", "category"=>"photo"}
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."title" = $1 LIMIT $2[0m  [["title", "Photo"], ["LIMIT", 1]]
  [1m[36mBook Load (1.1ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" INNER JOIN "order_items" ON "order_items"."book_id" = "books"."id" INNER JOIN "orders" ON "orders"."id" = "order_items"."order_id" WHERE (lower(categories.title) = 'photo') AND "orders"."state" = $1 GROUP BY order_items.book_id, books.id ORDER BY SUM(order_items.quantity) desc LIMIT $2[0m  [["state", "delivered"], ["LIMIT", 4]]
  Rendering main_pages/home.html.haml within layouts/application
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'photo') LIMIT $1) subquery_for_count[0m  [["LIMIT", 4]]
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'photo') ORDER BY "books"."created_at" DESC LIMIT $1[0m  [["LIMIT", 4]]
  [1m[36mHABTM_Authors Load (0.3ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (38, 37, 36, 35)[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (20, 18, 19)[0m
  Rendered books/_carousel_books.html.haml (46.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'photo') ORDER BY "books"."created_at" DESC LIMIT $1[0m  [["LIMIT", 4]]
  [1m[36mCACHE (0.1ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (38, 37, 36, 35)[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (20, 18, 19)[0m
  Rendered books/_book_buttons.html.haml (3.4ms)
  Rendered books/_book_buttons.html.haml (1.1ms)
  Rendered books/_book_buttons.html.haml (1.2ms)
  Rendered books/_book_buttons.html.haml (2.6ms)
  Rendered main_pages/home.html.haml within layouts/application (94.4ms)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 22], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 22]]
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (4.4ms)
  Rendered layouts/_collapse_ul.html.haml (1.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (7.2ms)
  Rendered layouts/_collapse_ul.html.haml (9.5ms)
  Rendered layouts/_navbar.html.haml (26.3ms)
  Rendered layouts/_dropdown_ul.html.haml (3.0ms)
  Rendered layouts/_dropdown_ul.html.haml (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (4.4ms)
  Rendered layouts/_dropdown_ul.html.haml (7.3ms)
  Rendered layouts/_navbar.html.haml (15.6ms)
  Rendered layouts/_header.html.haml (56.4ms)
  Rendered layouts/_footer.html.haml (6.1ms)
Completed 200 OK in 288ms (Views: 275.2ms | ActiveRecord: 5.1ms)


Started POST "/ru/order_items" for 127.0.0.1 at 2017-03-20 16:59:42 +0200
Processing by OrderItemsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"JNCPOZ0PLU1oCfC9y8j5sav2D9+y0TRZqtM+CW0QTlrMuLsk4JGobZ2EOW2m9DD2mPpN1ixKowtkvnon/r1l3A==", "book_id"=>"37", "quantity"=>"1", "locale"=>"ru"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 22], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2 ORDER BY "order_items"."created_at" ASC LIMIT $3[0m  [["order_id", 22], ["book_id", 37], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 37], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["book_id", 37], ["order_id", 22], ["created_at", 2017-03-20 14:59:42 UTC], ["updated_at", 2017-03-20 14:59:42 UTC]]
  [1m[35m (17.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 22]]
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mCoupon Load (0.3ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 22], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "orders" SET "updated_at" = $1, "total_price" = $2 WHERE "orders"."id" = $3[0m  [["updated_at", 2017-03-20 14:59:42 UTC], ["total_price", #<BigDecimal:b1754688,'0.2961E2',18(27)>], ["id", 22]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "order_items" SET "created_at" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["created_at", 2017-03-20 14:59:42 UTC], ["updated_at", 2017-03-20 14:59:42 UTC], ["id", 15]]
  [1m[35m (6.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/ru/home/photo
Completed 302 Found in 58ms (ActiveRecord: 27.6ms)


Started GET "/ru/home/photo" for 127.0.0.1 at 2017-03-20 16:59:42 +0200
Processing by MainPagesController#home as HTML
  Parameters: {"locale"=>"ru", "category"=>"photo"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."title" = $1 LIMIT $2[0m  [["title", "Photo"], ["LIMIT", 1]]
  [1m[36mBook Load (1.1ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" INNER JOIN "order_items" ON "order_items"."book_id" = "books"."id" INNER JOIN "orders" ON "orders"."id" = "order_items"."order_id" WHERE (lower(categories.title) = 'photo') AND "orders"."state" = $1 GROUP BY order_items.book_id, books.id ORDER BY SUM(order_items.quantity) desc LIMIT $2[0m  [["state", "delivered"], ["LIMIT", 4]]
  Rendering main_pages/home.html.haml within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'photo') LIMIT $1) subquery_for_count[0m  [["LIMIT", 4]]
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'photo') ORDER BY "books"."created_at" DESC LIMIT $1[0m  [["LIMIT", 4]]
  [1m[36mHABTM_Authors Load (0.3ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (38, 37, 36, 35)[0m
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (20, 18, 19)[0m
  Rendered books/_carousel_books.html.haml (46.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'photo') ORDER BY "books"."created_at" DESC LIMIT $1[0m  [["LIMIT", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (38, 37, 36, 35)[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (20, 18, 19)[0m
  Rendered books/_book_buttons.html.haml (4.8ms)
  Rendered books/_book_buttons.html.haml (1.1ms)
  Rendered books/_book_buttons.html.haml (2.5ms)
  Rendered books/_book_buttons.html.haml (1.0ms)
  Rendered main_pages/home.html.haml within layouts/application (89.7ms)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 22], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 22]]
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (5.3ms)
  Rendered layouts/_collapse_ul.html.haml (1.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (11.0ms)
  Rendered layouts/_collapse_ul.html.haml (12.5ms)
  Rendered layouts/_navbar.html.haml (29.4ms)
  Rendered layouts/_dropdown_ul.html.haml (3.1ms)
  Rendered layouts/_dropdown_ul.html.haml (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (4.2ms)
  Rendered layouts/_dropdown_ul.html.haml (5.5ms)
  Rendered layouts/_navbar.html.haml (14.2ms)
  Rendered layouts/_header.html.haml (58.2ms)
  Rendered layouts/_footer.html.haml (7.7ms)
Completed 200 OK in 264ms (Views: 254.7ms | ActiveRecord: 4.7ms)


Started GET "/ru/books" for 127.0.0.1 at 2017-03-20 16:59:49 +0200
Processing by BooksController#index as HTML
  Parameters: {"locale"=>"ru"}
  Rendering books/index.html.haml within layouts/application
  Rendered books/_items_sorted_by.html.haml (2.7ms)
  Rendered books/_drop_down_list.html.haml (6.4ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_category_items.html.haml (12.1ms)
  Rendered books/_items_sorted_by.html.haml (1.2ms)
  Rendered books/_drop_down_list.html.haml (2.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (5.8ms)
  Rendered books/_drop_down_list.html.haml (7.5ms)
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books"."id", "books"."price", "books"."title", "books"."count", "books"."avatar" FROM "books" ORDER BY "books"."title" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 12], ["OFFSET", 0]]
  [1m[36mHABTM_Authors Load (0.4ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (4, 53, 19, 59, 36, 38, 44, 43, 12, 22, 9, 28)[0m
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (18, 19, 20)[0m
  Rendered books/_book_buttons.html.haml (4.2ms)
  Rendered books/_book_buttons.html.haml (1.8ms)
  Rendered books/_book_buttons.html.haml (1.1ms)
  Rendered books/_book_buttons.html.haml (1.0ms)
  Rendered collection of books/_book.html.haml [4 times] (44.2ms)
  Rendered books/_book_buttons.html.haml (1.0ms)
  Rendered books/_book_buttons.html.haml (1.0ms)
  Rendered books/_book_buttons.html.haml (1.1ms)
  Rendered books/_book_buttons.html.haml (1.3ms)
  Rendered collection of books/_book.html.haml [4 times] (34.2ms)
  Rendered books/_book_buttons.html.haml (1.5ms)
  Rendered books/_book_buttons.html.haml (1.6ms)
  Rendered books/_book_buttons.html.haml (1.7ms)
  Rendered books/_book_buttons.html.haml (1.0ms)
  Rendered collection of books/_book.html.haml [4 times] (49.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
  Rendered books/index.html.haml within layouts/application (195.7ms)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 22], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 22]]
  [1m[36mCACHE (0.1ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (5.2ms)
  Rendered layouts/_collapse_ul.html.haml (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (6.2ms)
  Rendered layouts/_collapse_ul.html.haml (7.9ms)
  Rendered layouts/_navbar.html.haml (23.2ms)
  Rendered layouts/_dropdown_ul.html.haml (4.3ms)
  Rendered layouts/_dropdown_ul.html.haml (0.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (4.3ms)
  Rendered layouts/_dropdown_ul.html.haml (5.7ms)
  Rendered layouts/_navbar.html.haml (15.1ms)
  Rendered layouts/_header.html.haml (53.0ms)
  Rendered layouts/_footer.html.haml (5.7ms)
Completed 200 OK in 373ms (Views: 360.3ms | ActiveRecord: 3.0ms)


Started GET "/ru/categories/5" for 127.0.0.1 at 2017-03-20 16:59:52 +0200
Processing by CategoriesController#show as HTML
  Parameters: {"locale"=>"ru", "id"=>"5"}
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mBook Load (13.8ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering books/index.html.haml within layouts/application
  Rendered books/_items_sorted_by.html.haml (2.0ms)
  Rendered books/_drop_down_list.html.haml (4.8ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_category_items.html.haml (12.2ms)
  Rendered books/_items_sorted_by.html.haml (1.2ms)
  Rendered books/_drop_down_list.html.haml (2.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (7.8ms)
  Rendered books/_drop_down_list.html.haml (9.1ms)
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books"."id", "books"."price", "books"."title", "books"."count", "books"."avatar" FROM "books" WHERE "books"."category_id" = 5 ORDER BY "books"."title" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 12], ["OFFSET", 0]]
  [1m[36mHABTM_Authors Load (0.4ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (53, 59, 52, 60, 55, 54, 56, 48, 51, 50, 57, 49)[0m
  [1m[36mAuthor Load (1.7ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (19, 20, 18)[0m
  Rendered books/_book_buttons.html.haml (3.5ms)
  Rendered books/_book_buttons.html.haml (1.1ms)
  Rendered books/_book_buttons.html.haml (1.1ms)
  Rendered books/_book_buttons.html.haml (1.0ms)
  Rendered collection of books/_book.html.haml [4 times] (39.4ms)
  Rendered books/_book_buttons.html.haml (1.5ms)
  Rendered books/_book_buttons.html.haml (1.0ms)
  Rendered books/_book_buttons.html.haml (1.1ms)
  Rendered books/_book_buttons.html.haml (1.1ms)
  Rendered collection of books/_book.html.haml [4 times] (33.2ms)
  Rendered books/_book_buttons.html.haml (2.3ms)
  Rendered books/_book_buttons.html.haml (1.1ms)
  Rendered books/_book_buttons.html.haml (2.1ms)
  Rendered books/_book_buttons.html.haml (14.3ms)
  Rendered collection of books/_book.html.haml [4 times] (48.2ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."category_id" = 5[0m
  Rendered books/index.html.haml within layouts/application (183.3ms)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 22], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 22]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (6.0ms)
  Rendered layouts/_collapse_ul.html.haml (1.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (11.4ms)
  Rendered layouts/_collapse_ul.html.haml (13.8ms)
  Rendered layouts/_navbar.html.haml (31.0ms)
  Rendered layouts/_dropdown_ul.html.haml (3.6ms)
  Rendered layouts/_dropdown_ul.html.haml (1.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (4.7ms)
  Rendered layouts/_dropdown_ul.html.haml (6.3ms)
  Rendered layouts/_navbar.html.haml (15.5ms)
  Rendered layouts/_header.html.haml (75.0ms)
  Rendered layouts/_footer.html.haml (13.2ms)
Completed 200 OK in 418ms (Views: 377.2ms | ActiveRecord: 19.0ms)


Started GET "/ru/categories/5?utf8=%E2%9C%93&sorted_by=newest" for 127.0.0.1 at 2017-03-20 16:59:57 +0200
Processing by CategoriesController#show as HTML
  Parameters: {"utf8"=>"✓", "sorted_by"=>"newest", "locale"=>"ru", "id"=>"5"}
  [1m[36mCategory Load (1.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mBook Load (13.0ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering books/index.html.haml within layouts/application
  Rendered books/_items_sorted_by.html.haml (2.8ms)
  Rendered books/_drop_down_list.html.haml (6.8ms)
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_category_items.html.haml (9.6ms)
  Rendered books/_items_sorted_by.html.haml (0.7ms)
  Rendered books/_drop_down_list.html.haml (1.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (5.6ms)
  Rendered books/_drop_down_list.html.haml (7.7ms)
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books"."id", "books"."price", "books"."title", "books"."count", "books"."avatar" FROM "books" WHERE "books"."category_id" = 5 ORDER BY "books"."created_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 12], ["OFFSET", 0]]
  [1m[36mHABTM_Authors Load (1.1ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (60, 59, 58, 57, 56, 55, 54, 53, 52, 51, 50, 49)[0m
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (19, 20)[0m
  Rendered books/_book_buttons.html.haml (4.8ms)
  Rendered books/_book_buttons.html.haml (1.2ms)
  Rendered books/_book_buttons.html.haml (2.9ms)
  Rendered books/_book_buttons.html.haml (1.3ms)
  Rendered collection of books/_book.html.haml [4 times] (39.3ms)
  Rendered books/_book_buttons.html.haml (1.0ms)
  Rendered books/_book_buttons.html.haml (1.2ms)
  Rendered books/_book_buttons.html.haml (2.1ms)
  Rendered books/_book_buttons.html.haml (1.0ms)
  Rendered collection of books/_book.html.haml [4 times] (31.0ms)
  Rendered books/_book_buttons.html.haml (2.1ms)
  Rendered books/_book_buttons.html.haml (1.2ms)
  Rendered books/_book_buttons.html.haml (1.1ms)
  Rendered books/_book_buttons.html.haml (1.1ms)
  Rendered collection of books/_book.html.haml [4 times] (33.0ms)
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."category_id" = 5[0m
  Rendered books/index.html.haml within layouts/application (165.5ms)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 22], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 22]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (4.3ms)
  Rendered layouts/_collapse_ul.html.haml (1.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (9.0ms)
  Rendered layouts/_collapse_ul.html.haml (11.2ms)
  Rendered layouts/_navbar.html.haml (28.0ms)
  Rendered layouts/_dropdown_ul.html.haml (5.5ms)
  Rendered layouts/_dropdown_ul.html.haml (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (6.2ms)
  Rendered layouts/_dropdown_ul.html.haml (8.5ms)
  Rendered layouts/_navbar.html.haml (25.4ms)
  Rendered layouts/_header.html.haml (74.3ms)
  Rendered layouts/_footer.html.haml (10.4ms)
Completed 200 OK in 385ms (Views: 350.5ms | ActiveRecord: 19.2ms)


Started GET "/ru/books/58" for 127.0.0.1 at 2017-03-20 17:00:02 +0200
Processing by BooksController#show as HTML
  Parameters: {"locale"=>"ru", "id"=>"58"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 58], ["LIMIT", 1]]
  [1m[36mBook Load (12.0ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering books/show.html.haml within layouts/application
  [1m[36mPicture Load (0.6ms)[0m  [1m[34mSELECT  "pictures".* FROM "pictures" WHERE "pictures"."imageable_id" = $1 AND "pictures"."imageable_type" = $2 ORDER BY "pictures"."id" ASC LIMIT $3[0m  [["imageable_id", 58], ["imageable_type", "Book"], ["LIMIT", 1]]
  [1m[36mPicture Load (0.3ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."imageable_id" = $1 AND "pictures"."imageable_type" = $2[0m  [["imageable_id", 58], ["imageable_type", "Book"]]
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 58]]
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mMaterial Load (0.5ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 58]]
  [1m[36mReview Load (0.5ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."book_id" = $1 AND "reviews"."state" = $2[0m  [["book_id", 58], ["state", "approved"]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered books/show.html.haml within layouts/application (43.5ms)
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 22], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 22]]
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (4.8ms)
  Rendered layouts/_collapse_ul.html.haml (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (10.3ms)
  Rendered layouts/_collapse_ul.html.haml (11.9ms)
  Rendered layouts/_navbar.html.haml (28.0ms)
  Rendered layouts/_dropdown_ul.html.haml (2.9ms)
  Rendered layouts/_dropdown_ul.html.haml (2.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (4.0ms)
  Rendered layouts/_dropdown_ul.html.haml (5.4ms)
  Rendered layouts/_navbar.html.haml (14.7ms)
  Rendered layouts/_header.html.haml (56.9ms)
  Rendered layouts/_footer.html.haml (5.9ms)
Completed 200 OK in 274ms (Views: 226.7ms | ActiveRecord: 15.9ms)


Started POST "/ru/order_items" for 127.0.0.1 at 2017-03-20 17:00:07 +0200
Processing by OrderItemsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"clKfJKtYMACIST5BXLvxUjv7lafTGSlqtXlzRR/u0IqaOqs51sa1IH3E95ExhzgVCPfXrk2Cvjh7FDdrjEP7DA==", "book_id"=>"58", "quantity"=>"7", "locale"=>"ru"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 22], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.6ms)[0m  [1m[34mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2 ORDER BY "order_items"."created_at" ASC LIMIT $3[0m  [["order_id", 22], ["book_id", 58], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 58], ["LIMIT", 1]]
  [1m[35mSQL (2.6ms)[0m  [1m[32mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 7], ["book_id", 58], ["order_id", 22], ["created_at", 2017-03-20 15:00:07 UTC], ["updated_at", 2017-03-20 15:00:07 UTC]]
  [1m[35m (89.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 22]]
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 37], ["LIMIT", 1]]
  [1m[36mCoupon Load (0.2ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 22], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "orders" SET "updated_at" = $1, "total_price" = $2 WHERE "orders"."id" = $3[0m  [["updated_at", 2017-03-20 15:00:07 UTC], ["total_price", #<BigDecimal:b22355c0,'0.14042E3',18(27)>], ["id", 22]]
  [1m[35mSQL (1.3ms)[0m  [1m[33mUPDATE "order_items" SET "created_at" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["created_at", 2017-03-20 15:00:07 UTC], ["updated_at", 2017-03-20 15:00:07 UTC], ["id", 16]]
  [1m[35m (16.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/ru/books/58
Completed 302 Found in 143ms (ActiveRecord: 113.0ms)


Started GET "/ru/books/58" for 127.0.0.1 at 2017-03-20 17:00:07 +0200
Processing by BooksController#show as HTML
  Parameters: {"locale"=>"ru", "id"=>"58"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 58], ["LIMIT", 1]]
  [1m[36mBook Load (12.8ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering books/show.html.haml within layouts/application
  [1m[36mPicture Load (0.6ms)[0m  [1m[34mSELECT  "pictures".* FROM "pictures" WHERE "pictures"."imageable_id" = $1 AND "pictures"."imageable_type" = $2 ORDER BY "pictures"."id" ASC LIMIT $3[0m  [["imageable_id", 58], ["imageable_type", "Book"], ["LIMIT", 1]]
  [1m[36mPicture Load (0.4ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."imageable_id" = $1 AND "pictures"."imageable_type" = $2[0m  [["imageable_id", 58], ["imageable_type", "Book"]]
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 58]]
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mMaterial Load (0.6ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 58]]
  [1m[36mReview Load (0.5ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."book_id" = $1 AND "reviews"."state" = $2[0m  [["book_id", 58], ["state", "approved"]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered books/show.html.haml within layouts/application (45.5ms)
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 22], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 22]]
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (7.2ms)
  Rendered layouts/_collapse_ul.html.haml (1.2ms)
  [1m[36mCACHE (0.1ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (11.5ms)
  Rendered layouts/_collapse_ul.html.haml (13.2ms)
  Rendered layouts/_navbar.html.haml (32.4ms)
  Rendered layouts/_dropdown_ul.html.haml (3.2ms)
  Rendered layouts/_dropdown_ul.html.haml (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (4.6ms)
  Rendered layouts/_dropdown_ul.html.haml (6.5ms)
  Rendered layouts/_navbar.html.haml (15.3ms)
  Rendered layouts/_header.html.haml (62.8ms)
  Rendered layouts/_footer.html.haml (11.2ms)
Completed 200 OK in 257ms (Views: 222.4ms | ActiveRecord: 17.4ms)


Started GET "/ru/cart" for 127.0.0.1 at 2017-03-20 17:00:16 +0200
Processing by CartsController#edit as HTML
  Parameters: {"locale"=>"ru"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 22], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = 22 ORDER BY "order_items"."created_at" ASC[0m
  [1m[36mBook Load (1.6ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (19, 37, 58)[0m
  [1m[36mCoupon Load (0.4ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 22], ["LIMIT", 1]]
  Rendering carts/edit.html.haml within layouts/application
  Rendered order_items/_delete_link.html.haml (3.0ms)
  Rendered order_items/_quantity_field.html.haml (6.6ms)
  Rendered order_items/_order_item.html.haml (20.7ms)
  Rendered order_items/_delete_link.html.haml (0.7ms)
  Rendered order_items/_quantity_field.html.haml (2.8ms)
  Rendered order_items/_order_item.html.haml (9.4ms)
  Rendered order_items/_delete_link.html.haml (0.6ms)
  Rendered order_items/_quantity_field.html.haml (4.0ms)
  Rendered order_items/_order_item.html.haml (10.5ms)
  Rendered orders/_result_panel.html.haml (9.2ms)
  Rendered carts/_bottom_panel.html.haml (29.7ms)
  Rendered order_items/_quantity_field.html.haml (3.1ms)
  Rendered order_items/_delete_link.html.haml (0.7ms)
  Rendered order_items/_table_field.html.haml (12.5ms)
  Rendered order_items/_quantity_field.html.haml (3.8ms)
  Rendered order_items/_delete_link.html.haml (0.6ms)
  Rendered order_items/_table_field.html.haml (8.7ms)
  Rendered order_items/_quantity_field.html.haml (3.5ms)
  Rendered order_items/_delete_link.html.haml (1.4ms)
  Rendered order_items/_table_field.html.haml (11.4ms)
  Rendered order_items/_table.html.haml (42.6ms)
  Rendered orders/_result_panel.html.haml (1.6ms)
  Rendered carts/_bottom_panel.html.haml (5.9ms)
  Rendered carts/edit.html.haml within layouts/application (140.3ms)
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (4.5ms)
  Rendered layouts/_collapse_ul.html.haml (1.2ms)
  [1m[36mCACHE (0.1ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (6.8ms)
  Rendered layouts/_collapse_ul.html.haml (8.5ms)
  Rendered layouts/_navbar.html.haml (23.5ms)
  Rendered layouts/_dropdown_ul.html.haml (3.3ms)
  Rendered layouts/_dropdown_ul.html.haml (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (7.7ms)
  Rendered layouts/_dropdown_ul.html.haml (9.3ms)
  Rendered layouts/_navbar.html.haml (20.1ms)
  Rendered layouts/_header.html.haml (53.3ms)
  Rendered layouts/_footer.html.haml (11.5ms)
Completed 200 OK in 344ms (Views: 323.6ms | ActiveRecord: 3.9ms)


Started PATCH "/ru/cart" for 127.0.0.1 at 2017-03-20 17:00:23 +0200
Processing by CartsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"LsHzFv3tMZgOgyiMvX7Ol3kwNu0Tf655+xpexMHRjlzGqccLgHO0uPsO4VzQQgfQSjx05I3kOSs1dxrqUnyl2g==", "order"=>{"order_items_attributes"=>{"0"=>{"quantity"=>"1", "id"=>"14"}, "1"=>{"quantity"=>"1", "id"=>"15"}, "2"=>{"quantity"=>"7", "id"=>"16"}}, "coupon"=>{"code"=>""}}, "to_checkout"=>"Оформление заказа", "locale"=>"ru"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 22], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  [1m[36mOrderItem Load (2.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = 22 ORDER BY "order_items"."created_at" ASC[0m
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (19, 37, 58)[0m
  [1m[36mCoupon Load (0.3ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."code" = $1 LIMIT $2[0m  [["code", ""], ["LIMIT", 1]]
Unpermitted parameter: coupon
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCoupon Load (0.3ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 22], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/ru/checkouts/address
Completed 302 Found in 41ms (ActiveRecord: 4.1ms)


Started GET "/ru/checkouts/address" for 127.0.0.1 at 2017-03-20 17:00:23 +0200
Processing by CheckoutsController#show as HTML
  Parameters: {"locale"=>"ru", "id"=>"address"}
Redirected to http://localhost:3000/ru/sign_up/fast
Filter chain halted as :fast_authenticate_user! rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)


Started GET "/ru/sign_up/fast" for 127.0.0.1 at 2017-03-20 17:00:24 +0200
Processing by UsersController#new as HTML
  Parameters: {"locale"=>"ru", "type"=>"fast"}
  Rendering users/fast_auth.html.haml within layouts/application
  Rendered users/_omni_links.html.haml (2.5ms)
  Rendered devise/sessions/_login_form.html.haml (15.5ms)
  Rendered users/_omni_links.html.haml (1.3ms)
  Rendered users/fast_auth.html.haml within layouts/application (40.3ms)
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 22], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 22]]
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (6.9ms)
  Rendered layouts/_collapse_ul.html.haml (5.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (24.4ms)
  Rendered layouts/_collapse_ul.html.haml (26.7ms)
  Rendered layouts/_navbar.html.haml (55.6ms)
  Rendered layouts/_dropdown_ul.html.haml (5.1ms)
  Rendered layouts/_dropdown_ul.html.haml (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (3.8ms)
  Rendered layouts/_dropdown_ul.html.haml (5.1ms)
  Rendered layouts/_navbar.html.haml (15.5ms)
  Rendered layouts/_header.html.haml (92.7ms)
  Rendered layouts/_footer.html.haml (6.1ms)
Completed 200 OK in 304ms (Views: 300.6ms | ActiveRecord: 1.1ms)


Started GET "/ru/sign_in" for 127.0.0.1 at 2017-03-20 17:02:06 +0200
Processing by Devise::SessionsController#new as HTML
  Parameters: {"locale"=>"ru"}
  Rendering devise/sessions/new.html.haml within layouts/application
  Rendered users/_omni_links.html.haml (2.2ms)
  Rendered devise/sessions/_login_form.html.haml (15.0ms)
  Rendered devise/sessions/new.html.haml within layouts/application (22.6ms)
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 22], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 22]]
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (4.7ms)
  Rendered layouts/_collapse_ul.html.haml (1.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (9.7ms)
  Rendered layouts/_collapse_ul.html.haml (12.2ms)
  Rendered layouts/_navbar.html.haml (29.7ms)
  Rendered layouts/_dropdown_ul.html.haml (3.9ms)
  Rendered layouts/_dropdown_ul.html.haml (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (4.2ms)
  Rendered layouts/_dropdown_ul.html.haml (5.8ms)
  Rendered layouts/_navbar.html.haml (16.4ms)
  Rendered layouts/_header.html.haml (60.7ms)
  Rendered layouts/_footer.html.haml (6.8ms)
Completed 200 OK in 213ms (Views: 210.4ms | ActiveRecord: 1.0ms)


Started POST "/ru/sign_in" for 127.0.0.1 at 2017-03-20 17:02:29 +0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"vaeMh7szJBMxazVpN3/gTLlf+1ljO7RL+2aWKxGN5j5Vz7iaxq2hM8Tm/LlaQykLilO5UP2gIxk1C9IFgiDNuA==", "user"=>{"email"=>"test@exmpl.ua", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Войти", "locale"=>"ru"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test@exmpl.ua"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "sign_in_count" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["current_sign_in_at", 2017-03-20 15:02:30 UTC], ["sign_in_count", 2], ["updated_at", 2017-03-20 15:02:30 UTC], ["id", 2]]
  [1m[35m (18.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/ru/checkouts/address
Completed 302 Found in 304ms (ActiveRecord: 19.4ms)


Started GET "/ru/checkouts/address" for 127.0.0.1 at 2017-03-20 17:02:30 +0200
Processing by CheckoutsController#show as HTML
  Parameters: {"locale"=>"ru", "id"=>"address"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 22], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.6ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 22]]
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2 ORDER BY "order_items"."created_at" ASC LIMIT $3[0m  [["order_id", 21], ["book_id", 19], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["book_id", 19], ["order_id", 21], ["created_at", 2017-03-20 15:02:30 UTC], ["updated_at", 2017-03-20 15:02:30 UTC]]
  [1m[35m (9.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2 ORDER BY "order_items"."created_at" ASC LIMIT $3[0m  [["order_id", 21], ["book_id", 37], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 37], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["book_id", 37], ["order_id", 21], ["created_at", 2017-03-20 15:02:30 UTC], ["updated_at", 2017-03-20 15:02:30 UTC]]
  [1m[35m (8.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mOrderItem Load (1.2ms)[0m  [1m[34mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2 ORDER BY "order_items"."created_at" ASC LIMIT $3[0m  [["order_id", 21], ["book_id", 58], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 58], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 7], ["book_id", 58], ["order_id", 21], ["created_at", 2017-03-20 15:02:30 UTC], ["updated_at", 2017-03-20 15:02:30 UTC]]
  [1m[35m (11.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCoupon Load (0.3ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 22], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "order_items" WHERE "order_items"."id" = $1[0m  [["id", 14]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "order_items" WHERE "order_items"."id" = $1[0m  [["id", 15]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "order_items" WHERE "order_items"."id" = $1[0m  [["id", 16]]
  [1m[36mAddress Load (0.6ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 22], ["addressable_type", "Order"], ["address_type", 0], ["LIMIT", 1]]
  [1m[36mAddress Load (0.4ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 22], ["addressable_type", "Order"], ["address_type", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 22]]
  [1m[35m (11.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mOrderItem Load (0.4ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 21]]
  [1m[36mCoupon Load (0.2ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 21], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "orders" SET "updated_at" = $1, "total_price" = $2 WHERE "orders"."id" = $3[0m  [["updated_at", 2017-03-20 15:02:30 UTC], ["total_price", #<BigDecimal:b3088bcc,'0.14042E3',18(27)>], ["id", 21]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "order_items" SET "created_at" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["created_at", 2017-03-20 15:02:30 UTC], ["updated_at", 2017-03-20 15:02:30 UTC], ["id", 17]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "order_items" SET "created_at" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["created_at", 2017-03-20 15:02:30 UTC], ["updated_at", 2017-03-20 15:02:30 UTC], ["id", 18]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "order_items" SET "created_at" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["created_at", 2017-03-20 15:02:30 UTC], ["updated_at", 2017-03-20 15:02:30 UTC], ["id", 19]]
  [1m[35m (11.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAddress Load (0.5ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 21], ["addressable_type", "Order"], ["address_type", 0], ["LIMIT", 1]]
  [1m[36mAddress Load (0.4ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 21], ["addressable_type", "Order"], ["address_type", 1], ["LIMIT", 1]]
  [1m[36mAddress Load (0.4ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 2], ["addressable_type", "User"], ["address_type", 0], ["LIMIT", 1]]
  [1m[36mAddress Load (0.4ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 2], ["addressable_type", "User"], ["address_type", 1], ["LIMIT", 1]]
  Rendering checkouts/address.html.haml within layouts/application
  Rendered checkouts/_step_nav.html.haml (3.8ms)
  [1m[36mCountry Load (0.4ms)[0m  [1m[34mSELECT "countries"."id", "countries"."name", "countries"."code" FROM "countries"[0m
  Rendered addresses/_fields.haml (47.7ms)
  Rendered addresses/_fields.haml (16.9ms)
  Rendered orders/_result_panel.html.haml (6.6ms)
  Rendered checkouts/address.html.haml within layouts/application (87.9ms)
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (4.4ms)
  Rendered layouts/_collapse_ul.html.haml (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (8.6ms)
  Rendered layouts/_collapse_ul.html.haml (10.2ms)
  [1m[36mBook Load (11.0ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendered layouts/_collapse_ul.html.haml (22.7ms)
  Rendered layouts/_navbar.html.haml (49.3ms)
  Rendered layouts/_dropdown_ul.html.haml (2.9ms)
  Rendered layouts/_dropdown_ul.html.haml (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (4.1ms)
  Rendered layouts/_dropdown_ul.html.haml (5.5ms)
  Rendered layouts/_dropdown_ul.html.haml (1.4ms)
  Rendered layouts/_navbar.html.haml (15.0ms)
  Rendered layouts/_header.html.haml (72.9ms)
  Rendered layouts/_footer.html.haml (8.4ms)
Completed 200 OK in 487ms (Views: 278.0ms | ActiveRecord: 86.4ms)


Started GET "/ru/admin" for 127.0.0.1 at 2017-03-20 17:03:41 +0200
Processing by RailsAdmin::MainController#dashboard as HTML
  Parameters: {"locale"=>"ru"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (13.8ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[36mAddress Load (0.4ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" ORDER BY "addresses"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "authors"[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE ('t'='t')[0m
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" ORDER BY "books"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE ('t'='t')[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" ORDER BY "categories"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "countries"[0m
  [1m[36mCountry Load (0.4ms)[0m  [1m[34mSELECT  "countries".* FROM "countries" ORDER BY "countries"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coupons"[0m
  [1m[36mCoupon Load (0.3ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" ORDER BY "coupons"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "deliveries"[0m
  [1m[36mDelivery Load (0.3ms)[0m  [1m[34mSELECT  "deliveries".* FROM "deliveries" ORDER BY "deliveries"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "materials"[0m
  [1m[36mMaterial Load (0.4ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders" WHERE ('t'='t')[0m
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" ORDER BY "orders"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "pictures"[0m
  [1m[36mPicture Load (0.3ms)[0m  [1m[34mSELECT  "pictures".* FROM "pictures" ORDER BY "pictures"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "reviews" WHERE ('t'='t')[0m
  [1m[36mReview Load (0.3ms)[0m  [1m[34mSELECT  "reviews".* FROM "reviews" ORDER BY "reviews"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE ('t'='t')[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/dashboard.html.haml within layouts/rails_admin/application
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/dashboard.html.haml within layouts/rails_admin/application (68.2ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_secondary_navigation.html.haml (8.9ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_navigation.html.haml (18.0ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_sidebar_navigation.html.haml (26.5ms)
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml (5.8ms)
Completed 200 OK in 897ms (Views: 415.0ms | ActiveRecord: 29.3ms)


Started GET "/ru/admin" for 127.0.0.1 at 2017-03-20 17:03:42 +0200
Processing by RailsAdmin::MainController#dashboard as HTML
  Parameters: {"locale"=>"ru"}
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (16.4ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[36mAddress Load (0.4ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" ORDER BY "addresses"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "authors"[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE ('t'='t')[0m
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  "books".* FROM "books" ORDER BY "books"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE ('t'='t')[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" ORDER BY "categories"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "countries"[0m
  [1m[36mCountry Load (0.5ms)[0m  [1m[34mSELECT  "countries".* FROM "countries" ORDER BY "countries"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "coupons"[0m
  [1m[36mCoupon Load (0.4ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" ORDER BY "coupons"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "deliveries"[0m
  [1m[36mDelivery Load (0.5ms)[0m  [1m[34mSELECT  "deliveries".* FROM "deliveries" ORDER BY "deliveries"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "materials"[0m
  [1m[36mMaterial Load (0.3ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders" WHERE ('t'='t')[0m
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" ORDER BY "orders"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "pictures"[0m
  [1m[36mPicture Load (0.3ms)[0m  [1m[34mSELECT  "pictures".* FROM "pictures" ORDER BY "pictures"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "reviews" WHERE ('t'='t')[0m
  [1m[36mReview Load (0.5ms)[0m  [1m[34mSELECT  "reviews".* FROM "reviews" ORDER BY "reviews"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE ('t'='t')[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/dashboard.html.haml within layouts/rails_admin/application
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/dashboard.html.haml within layouts/rails_admin/application (74.5ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_secondary_navigation.html.haml (6.5ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_navigation.html.haml (14.2ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_sidebar_navigation.html.haml (21.0ms)
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml (9.1ms)
Completed 200 OK in 443ms (Views: 345.0ms | ActiveRecord: 28.7ms)


Started GET "/ru/admin/order?locale=ru&_pjax=%5Bdata-pjax-container%5D" for 127.0.0.1 at 2017-03-20 17:03:58 +0200
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"locale"=>"ru", "_pjax"=>"[data-pjax-container]", "model_name"=>"order"}
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (24.8ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax
  [1m[36mOrder Load (1.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE ('t'='t') AND ("orders"."user_id" IS NOT NULL) ORDER BY orders.id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 20], ["OFFSET", 0]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders" WHERE ('t'='t') AND ("orders"."user_id" IS NOT NULL)[0m
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax (105.1ms)
Completed 200 OK in 189ms (Views: 130.5ms | ActiveRecord: 30.5ms)


Started POST "/admin/order/21/state?attr=state&event=confirm" for 127.0.0.1 at 2017-03-20 17:04:05 +0200
Processing by RailsAdmin::MainController#state as HTML
  Parameters: {"authenticity_token"=>"2gaCKtAqMtAF0ewgvp4cpVeDvzGyhPWbec/ytZV9xJk86SE06G6b17HTom7PZcJzOTn8yepr+7BC34g2W9JU3A==", "attr"=>"state", "event"=>"confirm", "model_name"=>"order", "id"=>"21"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (13.0ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 ORDER BY "orders"."id" ASC LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mOrderItem Load (0.9ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 21]]
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 37], ["LIMIT", 1]]
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 58], ["LIMIT", 1]]
  [1m[36mCoupon Load (0.5ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 21], ["LIMIT", 1]]
  [1m[35mSQL (1.4ms)[0m  [1m[33mUPDATE "orders" SET "state" = $1, "updated_at" = $2 WHERE "orders"."id" = $3[0m  [["state", "in_progress"], ["updated_at", 2017-03-20 15:04:05 UTC], ["id", 21]]
  [1m[35m (24.1ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from redirect_to at /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_controller/metal/redirecting.rb:66)
Redirected to http://localhost:3000/ru/admin/order?locale=ru
Completed 302 Found in 83ms (ActiveRecord: 44.2ms)


Started GET "/ru/admin/order?locale=ru" for 127.0.0.1 at 2017-03-20 17:04:05 +0200
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"locale"=>"ru", "model_name"=>"order"}
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (10.7ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/application
  [1m[36mOrder Load (0.8ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE ('t'='t') AND ("orders"."user_id" IS NOT NULL) ORDER BY orders.id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 20], ["OFFSET", 0]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders" WHERE ('t'='t') AND ("orders"."user_id" IS NOT NULL)[0m
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/application (62.7ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_secondary_navigation.html.haml (5.8ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_navigation.html.haml (13.7ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_sidebar_navigation.html.haml (21.1ms)
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml (11.1ms)
Completed 200 OK in 346ms (Views: 312.5ms | ActiveRecord: 14.7ms)


Started POST "/admin/order/21/state?attr=state&event=sent" for 127.0.0.1 at 2017-03-20 17:04:26 +0200
Processing by RailsAdmin::MainController#state as HTML
  Parameters: {"authenticity_token"=>"7EZgsBL4ZKrM5I9d0KTVwVi9iDGjg6OipGKvloq3Jz0KqcOuKrzNrXjmwROhXwsXNgfLyftsrYmfctUVRBi3eA==", "attr"=>"state", "event"=>"sent", "model_name"=>"order", "id"=>"21"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (12.8ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 ORDER BY "orders"."id" ASC LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 21]]
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 37], ["LIMIT", 1]]
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 58], ["LIMIT", 1]]
  [1m[36mCoupon Load (0.2ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 21], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "orders" SET "state" = $1, "updated_at" = $2 WHERE "orders"."id" = $3[0m  [["state", "in_transit"], ["updated_at", 2017-03-20 15:04:26 UTC], ["id", 21]]
  [1m[35m (268.6ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from redirect_to at /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_controller/metal/redirecting.rb:66)
Redirected to http://localhost:3000/ru/admin/order?locale=ru
Completed 302 Found in 322ms (ActiveRecord: 284.9ms)


Started GET "/ru/admin/order?locale=ru" for 127.0.0.1 at 2017-03-20 17:04:27 +0200
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"locale"=>"ru", "model_name"=>"order"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (12.9ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/application
  [1m[36mOrder Load (0.8ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE ('t'='t') AND ("orders"."user_id" IS NOT NULL) ORDER BY orders.id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 20], ["OFFSET", 0]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders" WHERE ('t'='t') AND ("orders"."user_id" IS NOT NULL)[0m
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/application (60.0ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_secondary_navigation.html.haml (7.9ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_navigation.html.haml (16.3ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_sidebar_navigation.html.haml (24.5ms)
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml (9.9ms)
Completed 200 OK in 382ms (Views: 345.7ms | ActiveRecord: 16.1ms)


Started POST "/admin/order/21/state?attr=state&event=delivered" for 127.0.0.1 at 2017-03-20 17:04:32 +0200
Processing by RailsAdmin::MainController#state as HTML
  Parameters: {"authenticity_token"=>"p5+tAD5ihqCUlLhr+5VxqMQDifi7ccq17j/+tfK1k8JBcA4eBiYvpyCW9iWKbq9+qrnKAOOexJ7VL4Q2PBoDhw==", "attr"=>"state", "event"=>"delivered", "model_name"=>"order", "id"=>"21"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (13.9ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 ORDER BY "orders"."id" ASC LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mOrderItem Load (1.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 21]]
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 37], ["LIMIT", 1]]
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 58], ["LIMIT", 1]]
  [1m[36mCoupon Load (1.0ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 21], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "orders" SET "state" = $1, "updated_at" = $2 WHERE "orders"."id" = $3[0m  [["state", "delivered"], ["updated_at", 2017-03-20 15:04:32 UTC], ["id", 21]]
  [1m[35m (16.2ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from redirect_to at /home/oleg/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_controller/metal/redirecting.rb:66)
Redirected to http://localhost:3000/ru/admin/order?locale=ru
Completed 302 Found in 77ms (ActiveRecord: 35.5ms)


Started GET "/ru/admin/order?locale=ru" for 127.0.0.1 at 2017-03-20 17:04:32 +0200
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"locale"=>"ru", "model_name"=>"order"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (11.8ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/application
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE ('t'='t') AND ("orders"."user_id" IS NOT NULL) ORDER BY orders.id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 20], ["OFFSET", 0]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders" WHERE ('t'='t') AND ("orders"."user_id" IS NOT NULL)[0m
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/application (64.3ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_secondary_navigation.html.haml (7.2ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_navigation.html.haml (15.1ms)
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_sidebar_navigation.html.haml (29.6ms)
  Rendering /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml
  Rendered /home/oleg/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml (12.3ms)
Completed 200 OK in 394ms (Views: 364.8ms | ActiveRecord: 13.5ms)


Started GET "/ru" for 127.0.0.1 at 2017-03-20 17:04:38 +0200
Processing by MainPagesController#home as HTML
  Parameters: {"locale"=>"ru"}
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."title" = $1 LIMIT $2[0m  [["title", "Mobile"], ["LIMIT", 1]]
  [1m[36mBook Load (2.0ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" INNER JOIN "order_items" ON "order_items"."book_id" = "books"."id" INNER JOIN "orders" ON "orders"."id" = "order_items"."order_id" WHERE (lower(categories.title) = 'mobile') AND "orders"."state" = $1 GROUP BY order_items.book_id, books.id ORDER BY SUM(order_items.quantity) desc LIMIT $2[0m  [["state", "delivered"], ["LIMIT", 4]]
  [1m[36mHABTM_Authors Load (0.3ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" = 19[0m
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (19, 20)[0m
  Rendering main_pages/home.html.haml within layouts/application
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') LIMIT $1) subquery_for_count[0m  [["LIMIT", 4]]
  [1m[36mBook Load (1.0ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') ORDER BY "books"."created_at" DESC LIMIT $1[0m  [["LIMIT", 4]]
  [1m[36mHABTM_Authors Load (1.1ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (20, 19, 18, 17)[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (20, 19)[0m
  Rendered books/_carousel_books.html.haml (67.4ms)
  Rendered books/_book_buttons.html.haml (3.8ms)
  Rendered main_pages/home.html.haml within layouts/application (86.0ms)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 21], ["state", "processing"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "orders" ("state", "created_at", "updated_at", "total_price") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["state", "processing"], ["created_at", 2017-03-20 15:04:39 UTC], ["updated_at", 2017-03-20 15:04:39 UTC], ["total_price", #<BigDecimal:b1f1bdd0,'0.0',9(18)>]]
  [1m[35m (33.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "orders" ("state", "user_id", "created_at", "updated_at", "total_price") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["state", "processing"], ["user_id", 2], ["created_at", 2017-03-20 15:04:39 UTC], ["updated_at", 2017-03-20 15:04:39 UTC], ["total_price", #<BigDecimal:b1ed3fd0,'0.0',9(18)>]]
  [1m[35m (12.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (0.6ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 23], ["addressable_type", "Order"], ["address_type", 0], ["LIMIT", 1]]
  [1m[36mAddress Load (1.6ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 23], ["addressable_type", "Order"], ["address_type", 1], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 23]]
  [1m[35m (9.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (7.9ms)
  Rendered layouts/_collapse_ul.html.haml (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (7.1ms)
  Rendered layouts/_collapse_ul.html.haml (8.5ms)
  [1m[36mBook Load (13.5ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendered layouts/_collapse_ul.html.haml (19.2ms)
  Rendered layouts/_navbar.html.haml (48.2ms)
  Rendered layouts/_dropdown_ul.html.haml (2.9ms)
  Rendered layouts/_dropdown_ul.html.haml (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (5.4ms)
  Rendered layouts/_dropdown_ul.html.haml (7.6ms)
  Rendered layouts/_dropdown_ul.html.haml (1.3ms)
  Rendered layouts/_navbar.html.haml (17.7ms)
  Rendered layouts/_header.html.haml (164.0ms)
  Rendered layouts/_footer.html.haml (7.4ms)
Completed 200 OK in 387ms (Views: 294.5ms | ActiveRecord: 82.0ms)


Started GET "/ru/orders" for 127.0.0.1 at 2017-03-20 17:04:46 +0200
Processing by OrdersController#index as HTML
  Parameters: {"locale"=>"ru"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (14.0ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering orders/index.html.haml within layouts/application
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders" INNER JOIN "order_items" ON "order_items"."order_id" = "orders"."id" WHERE "orders"."user_id" = $1 AND ('t'='t') GROUP BY orders.id HAVING (COUNT(order_items) != 0) ORDER BY "orders"."created_at" DESC[0m  [["user_id", 2]]
  Rendered collection of orders/_order.html.haml [1 times] (11.9ms)
  Rendered orders/_orders_table.html.haml (4.8ms)
  Rendered orders/index.html.haml within layouts/application (29.0ms)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 24], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 24]]
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (4.4ms)
  Rendered layouts/_collapse_ul.html.haml (1.2ms)
  [1m[36mCACHE (0.1ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (10.1ms)
  Rendered layouts/_collapse_ul.html.haml (12.4ms)
  Rendered layouts/_collapse_ul.html.haml (1.7ms)
  Rendered layouts/_navbar.html.haml (30.1ms)
  Rendered layouts/_dropdown_ul.html.haml (3.1ms)
  Rendered layouts/_dropdown_ul.html.haml (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (4.4ms)
  Rendered layouts/_dropdown_ul.html.haml (6.0ms)
  Rendered layouts/_dropdown_ul.html.haml (1.6ms)
  Rendered layouts/_navbar.html.haml (16.1ms)
  Rendered layouts/_header.html.haml (63.7ms)
  Rendered layouts/_footer.html.haml (9.7ms)
Completed 200 OK in 263ms (Views: 221.0ms | ActiveRecord: 16.8ms)


DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/oleg/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/oleg/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/oleg/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/oleg/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
Started GET "/" for 127.0.0.1 at 2017-03-22 23:41:07 +0200
  
ActiveRecord::NoDatabaseError (FATAL:  role "anton" does not exist
):
  
activerecord (5.0.1) lib/active_record/connection_adapters/postgresql_adapter.rb:675:in `rescue in connect'
activerecord (5.0.1) lib/active_record/connection_adapters/postgresql_adapter.rb:671:in `connect'
activerecord (5.0.1) lib/active_record/connection_adapters/postgresql_adapter.rb:217:in `initialize'
activerecord (5.0.1) lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `new'
activerecord (5.0.1) lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
activerecord (5.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:729:in `new_connection'
activerecord (5.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:773:in `checkout_new_connection'
activerecord (5.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:752:in `try_to_checkout_new_connection'
activerecord (5.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:713:in `acquire_connection'
activerecord (5.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:490:in `checkout'
activerecord (5.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:364:in `connection'
activerecord (5.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:883:in `retrieve_connection'
activerecord (5.0.1) lib/active_record/connection_handling.rb:128:in `retrieve_connection'
activerecord (5.0.1) lib/active_record/connection_handling.rb:91:in `connection'
activerecord (5.0.1) lib/active_record/migration.rb:559:in `connection'
activerecord (5.0.1) lib/active_record/migration.rb:546:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.1) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.1) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.1) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.1) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
web-console (3.4.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.4.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.4.0) lib/web_console/middleware.rb:18:in `catch'
web-console (3.4.0) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
request_store (1.3.2) lib/request_store/middleware.rb:9:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.1) lib/rails/engine.rb:522:in `call'
rack (2.0.1) lib/rack/static.rb:149:in `call'
puma (3.7.0) lib/puma/configuration.rb:226:in `call'
puma (3.7.0) lib/puma/server.rb:578:in `handle_request'
puma (3.7.0) lib/puma/server.rb:415:in `process_client'
puma (3.7.0) lib/puma/server.rb:275:in `block in run'
puma (3.7.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.0ms)
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.2ms)
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.6ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (59.9ms)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
Started GET "/" for 127.0.0.1 at 2017-03-22 23:46:04 +0200
  
ActiveRecord::NoDatabaseError (FATAL:  role "anton" does not exist
):
  
activerecord (5.0.1) lib/active_record/connection_adapters/postgresql_adapter.rb:675:in `rescue in connect'
activerecord (5.0.1) lib/active_record/connection_adapters/postgresql_adapter.rb:671:in `connect'
activerecord (5.0.1) lib/active_record/connection_adapters/postgresql_adapter.rb:217:in `initialize'
activerecord (5.0.1) lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `new'
activerecord (5.0.1) lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
activerecord (5.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:729:in `new_connection'
activerecord (5.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:773:in `checkout_new_connection'
activerecord (5.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:752:in `try_to_checkout_new_connection'
activerecord (5.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:713:in `acquire_connection'
activerecord (5.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:490:in `checkout'
activerecord (5.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:364:in `connection'
activerecord (5.0.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:883:in `retrieve_connection'
activerecord (5.0.1) lib/active_record/connection_handling.rb:128:in `retrieve_connection'
activerecord (5.0.1) lib/active_record/connection_handling.rb:91:in `connection'
activerecord (5.0.1) lib/active_record/migration.rb:559:in `connection'
activerecord (5.0.1) lib/active_record/migration.rb:546:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.1) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.1) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.1) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.1) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
web-console (3.4.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.4.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.4.0) lib/web_console/middleware.rb:18:in `catch'
web-console (3.4.0) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
request_store (1.3.2) lib/request_store/middleware.rb:9:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.1) lib/rails/engine.rb:522:in `call'
rack (2.0.1) lib/rack/static.rb:149:in `call'
puma (3.7.0) lib/puma/configuration.rb:226:in `call'
puma (3.7.0) lib/puma/server.rb:578:in `handle_request'
puma (3.7.0) lib/puma/server.rb:415:in `process_client'
puma (3.7.0) lib/puma/server.rb:275:in `block in run'
puma (3.7.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.0ms)
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.3ms)
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (35.5ms)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
Started GET "/" for 127.0.0.1 at 2017-03-23 00:03:36 +0200
  [1m[36mActiveRecord::SchemaMigration Load (3.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

):
  
activerecord (5.0.1) lib/active_record/migration.rb:573:in `check_pending!'
activerecord (5.0.1) lib/active_record/migration.rb:549:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.1) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.1) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.1) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.1) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
web-console (3.4.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.4.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.4.0) lib/web_console/middleware.rb:18:in `catch'
web-console (3.4.0) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
request_store (1.3.2) lib/request_store/middleware.rb:9:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.1) lib/rails/engine.rb:522:in `call'
rack (2.0.1) lib/rack/static.rb:149:in `call'
puma (3.7.0) lib/puma/configuration.rb:226:in `call'
puma (3.7.0) lib/puma/server.rb:578:in `handle_request'
puma (3.7.0) lib/puma/server.rb:415:in `process_client'
puma (3.7.0) lib/puma/server.rb:275:in `block in run'
puma (3.7.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.5ms)
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.3ms)
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (38.5ms)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6088153394044592115);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to DeviseCreateUsers (20170112091212)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (244.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" serial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT pg_advisory_unlock(6088153394044592115)[0m
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
  [1m[35m (209.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying PRIMARY KEY)[0m
  [1m[35m (138.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1475079699081168390);[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to DeviseCreateUsers (20170112091212)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (114.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" serial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (72.1ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35m (50.5ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170112091212"]]
  [1m[35m (28.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddNamesToUsers (20170112091945)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "users" ADD "first_name" character varying[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "users" ADD "last_name" character varying[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170112091945"]]
  [1m[35m (3.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateProviders (20170112184428)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (127.1ms)[0m  [1m[35mCREATE TABLE "providers" ("id" serial primary key, "user_id" integer, "name" character varying, "uid" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (39.2ms)[0m  [1m[35mCREATE  INDEX  "index_providers_on_user_id" ON "providers"  ("user_id")[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170112184428"]]
  [1m[35m (22.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCountries (20170113174542)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (94.2ms)[0m  [1m[35mCREATE TABLE "countries" ("id" serial primary key, "name" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170113174542"]]
  [1m[35m (35.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateAddresses (20170113174604)
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (116.1ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" serial primary key, "addressable_type" character varying, "addressable_id" integer, "first_name" character varying, "last_name" character varying, "name" character varying, "country_id" integer, "city" character varying, "zip" character varying, "phone" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_d873e14e27"
FOREIGN KEY ("country_id")
  REFERENCES "countries" ("id")
)[0m
  [1m[35m (56.5ms)[0m  [1m[35mCREATE  INDEX  "index_addresses_on_addressable_type_and_addressable_id" ON "addresses"  ("addressable_type", "addressable_id")[0m
  [1m[35m (73.5ms)[0m  [1m[35mCREATE  INDEX  "index_addresses_on_country_id" ON "addresses"  ("country_id")[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170113174604"]]
  [1m[35m (28.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddAddressTypeToAddresses (20170113200620)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "addresses" ADD "address_type" integer[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170113200620"]]
  [1m[35m (3.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddCodeToCountries (20170114102209)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "countries" ADD "code" character varying[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170114102209"]]
  [1m[35m (5.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateBooks (20170117124327)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (143.5ms)[0m  [1m[35mCREATE TABLE "books" ("id" serial primary key, "title" character varying, "desc" text, "price" decimal(12,3), "count" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (49.9ms)[0m  [1m[35mCREATE  INDEX  "index_books_on_title" ON "books"  ("title")[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170117124327"]]
  [1m[35m (28.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateAuthors (20170117125247)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (111.1ms)[0m  [1m[35mCREATE TABLE "authors" ("id" serial primary key, "first_name" character varying, "last_name" character varying, "desc" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170117125247"]]
  [1m[35m (27.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCategories (20170117125329)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (156.1ms)[0m  [1m[35mCREATE TABLE "categories" ("id" serial primary key, "title" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (72.4ms)[0m  [1m[35mCREATE  INDEX  "index_categories_on_title" ON "categories"  ("title")[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170117125329"]]
  [1m[35m (25.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateAuthorsBooks (20170117125738)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE TABLE "authors_books" ("author_id" integer, "book_id" integer, CONSTRAINT "fk_rails_d4a76af72d"
FOREIGN KEY ("author_id")
  REFERENCES "authors" ("id")
, CONSTRAINT "fk_rails_f7acfea2b6"
FOREIGN KEY ("book_id")
  REFERENCES "books" ("id")
)[0m
  [1m[35m (57.2ms)[0m  [1m[35mCREATE  INDEX  "index_authors_books_on_author_id" ON "authors_books"  ("author_id")[0m
  [1m[35m (40.6ms)[0m  [1m[35mCREATE  INDEX  "index_authors_books_on_book_id" ON "authors_books"  ("book_id")[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170117125738"]]
  [1m[35m (25.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddCategoryRefToBooks (20170117131354)
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "books" ADD "category_id" integer[0m
  [1m[35m (50.6ms)[0m  [1m[35mCREATE  INDEX  "index_books_on_category_id" ON "books"  ("category_id")[0m
  [1m[35m (2.1ms)[0m  [1m[35mALTER TABLE "books" ADD CONSTRAINT "fk_rails_1e86d9c4ec"
FOREIGN KEY ("category_id")
  REFERENCES "categories" ("id")
[0m
  [1m[35mSQL (2.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170117131354"]]
  [1m[35m (21.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to ChangePriceScaleOfBook (20170117145729)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (217.9ms)[0m  [1m[35mALTER TABLE "books" ALTER COLUMN "price" TYPE decimal(10,2)[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170117145729"]]
  [1m[35m (21.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddAdminToUsers (20170118122244)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "users" ADD "admin" boolean[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170118122244"]]
  [1m[35m (13.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePictures (20170118221832)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (94.4ms)[0m  [1m[35mCREATE TABLE "pictures" ("id" serial primary key, "path" character varying, "book_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_54d93580a8"
FOREIGN KEY ("book_id")
  REFERENCES "books" ("id")
)[0m
  [1m[35m (71.3ms)[0m  [1m[35mCREATE  INDEX  "index_pictures_on_book_id" ON "pictures"  ("book_id")[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170118221832"]]
  [1m[35m (22.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddImageableToPictures (20170119001544)
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "pictures" ADD "imageable_type" character varying[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "pictures" ADD "imageable_id" integer[0m
  [1m[35m (51.1ms)[0m  [1m[35mCREATE  INDEX  "index_pictures_on_imageable_type_and_imageable_id" ON "pictures"  ("imageable_type", "imageable_id")[0m
  [1m[35m (1.7ms)[0m  [1m[35mALTER TABLE "pictures" DROP CONSTRAINT "fk_rails_54d93580a8"[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "pictures" DROP "book_id"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170119001544"]]
  [1m[35m (23.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddAvatarToBooks (20170119011708)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "books" ADD "avatar" character varying[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170119011708"]]
  [1m[35m (13.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateReviews (20170119105147)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (131.0ms)[0m  [1m[35mCREATE TABLE "reviews" ("id" serial primary key, "title" character varying, "desc" text, "grade" integer, "approved" boolean, "book_id" integer, "user_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_924a0b30ca"
FOREIGN KEY ("book_id")
  REFERENCES "books" ("id")
, CONSTRAINT "fk_rails_74a66bd6c5"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (48.0ms)[0m  [1m[35mCREATE  INDEX  "index_reviews_on_book_id" ON "reviews"  ("book_id")[0m
  [1m[35m (74.8ms)[0m  [1m[35mCREATE  INDEX  "index_reviews_on_user_id" ON "reviews"  ("user_id")[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170119105147"]]
  [1m[35m (7.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDimensionColumnToBooks (20170121095048)
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (253.7ms)[0m  [1m[35mALTER TABLE "books" ADD "dimension" json DEFAULT '[]'[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170121095048"]]
  [1m[35m (28.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMaterials (20170121112358)
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (117.5ms)[0m  [1m[35mCREATE TABLE "materials" ("id" serial primary key, "name" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170121112358"]]
  [1m[35m (28.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableBookMaterial (20170121112615)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "books_materials" ("book_id" integer NOT NULL, "material_id" integer NOT NULL)[0m
  [1m[35m (45.2ms)[0m  [1m[35mCREATE  INDEX  "index_books_materials_on_book_id_and_material_id" ON "books_materials"  ("book_id", "material_id")[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170121112615"]]
  [1m[35m (28.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddIndexToMaterial (20170121134638)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (51.5ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_materials_on_name" ON "materials"  ("name")[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170121134638"]]
  [1m[35m (28.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddAvatarToUsers (20170121171802)
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "users" ADD "avatar" character varying[0m
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170121171802"]]
  [1m[35m (3.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateOrders (20170121210105)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (144.1ms)[0m  [1m[35mCREATE TABLE "orders" ("id" serial primary key, "state" character varying, "user_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_f868b47f6a"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (48.6ms)[0m  [1m[35mCREATE  INDEX  "index_orders_on_user_id" ON "orders"  ("user_id")[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170121210105"]]
  [1m[35m (25.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateOrderItems (20170121230611)
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (88.2ms)[0m  [1m[35mCREATE TABLE "order_items" ("id" serial primary key, "quantity" integer, "book_id" integer, "order_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_24eeff6b07"
FOREIGN KEY ("book_id")
  REFERENCES "books" ("id")
, CONSTRAINT "fk_rails_e3cb28f071"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
)[0m
  [1m[35m (51.0ms)[0m  [1m[35mCREATE  INDEX  "index_order_items_on_book_id" ON "order_items"  ("book_id")[0m
  [1m[35m (51.0ms)[0m  [1m[35mCREATE  INDEX  "index_order_items_on_order_id" ON "order_items"  ("order_id")[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170121230611"]]
  [1m[35m (25.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateDeliveries (20170121233413)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (109.3ms)[0m  [1m[35mCREATE TABLE "deliveries" ("id" serial primary key, "name" character varying, "price" decimal(10,2), "min_days" integer, "max_days" integer, "country_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_ab421f01be"
FOREIGN KEY ("country_id")
  REFERENCES "countries" ("id")
)[0m
  [1m[35m (66.2ms)[0m  [1m[35mCREATE  INDEX  "index_deliveries_on_country_id" ON "deliveries"  ("country_id")[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170121233413"]]
  [1m[35m (24.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCoupons (20170122000449)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (103.9ms)[0m  [1m[35mCREATE TABLE "coupons" ("id" serial primary key, "active" boolean DEFAULT 't', "discount" integer, "code" character varying, "order_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_68a5ba75f4"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
)[0m
  [1m[35m (71.9ms)[0m  [1m[35mCREATE  INDEX  "index_coupons_on_code" ON "coupons"  ("code")[0m
  [1m[35m (50.6ms)[0m  [1m[35mCREATE  INDEX  "index_coupons_on_order_id" ON "coupons"  ("order_id")[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170122000449"]]
  [1m[35m (21.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddRefDeliveryToOrders (20170122000911)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "orders" ADD "delivery_id" integer[0m
  [1m[35m (54.5ms)[0m  [1m[35mCREATE  INDEX  "index_orders_on_delivery_id" ON "orders"  ("delivery_id")[0m
  [1m[35m (3.0ms)[0m  [1m[35mALTER TABLE "orders" ADD CONSTRAINT "fk_rails_caba0da8d5"
FOREIGN KEY ("delivery_id")
  REFERENCES "deliveries" ("id")
[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170122000911"]]
  [1m[35m (28.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCreditCards (20170122002524)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (107.2ms)[0m  [1m[35mCREATE TABLE "credit_cards" ("id" serial primary key, "order_id" integer, "number" character varying, "cvv" character varying, "first_name" character varying, "last_name" character varying, "month" integer, "year" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_a4de8665d6"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
)[0m
  [1m[35m (50.5ms)[0m  [1m[35mCREATE  INDEX  "index_credit_cards_on_order_id" ON "credit_cards"  ("order_id")[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170122002524"]]
  [1m[35m (19.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemoveOrderReferencesFromCreditCards (20170122002818)
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "credit_cards" DROP CONSTRAINT "fk_rails_a4de8665d6"[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "credit_cards" DROP "order_id"[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170122002818"]]
  [1m[35m (13.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddRefUserToCreditCards (20170122003451)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "credit_cards" ADD "user_id" integer[0m
  [1m[35m (46.0ms)[0m  [1m[35mCREATE  INDEX  "index_credit_cards_on_user_id" ON "credit_cards"  ("user_id")[0m
  [1m[35m (2.9ms)[0m  [1m[35mALTER TABLE "credit_cards" ADD CONSTRAINT "fk_rails_069bf994f3"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170122003451"]]
  [1m[35m (27.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddRefCreditCardToOrders (20170122003806)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "orders" ADD "credit_card_id" integer[0m
  [1m[35m (47.0ms)[0m  [1m[35mCREATE  INDEX  "index_orders_on_credit_card_id" ON "orders"  ("credit_card_id")[0m
  [1m[35m (2.4ms)[0m  [1m[35mALTER TABLE "orders" ADD CONSTRAINT "fk_rails_7d2de72b48"
FOREIGN KEY ("credit_card_id")
  REFERENCES "credit_cards" ("id")
[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170122003806"]]
  [1m[35m (27.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddBooksCountForCategory (20170124143535)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (144.1ms)[0m  [1m[35mALTER TABLE "categories" ADD "books_count" integer DEFAULT 0[0m
  [1m[36mCategory Load (1.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170124143535"]]
  [1m[35m (28.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemoveLastNameAndYearAndMonthFromCreditCard (20170127181309)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "credit_cards" DROP "first_name"[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "credit_cards" DROP "last_name"[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "credit_cards" DROP "month"[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "credit_cards" DROP "year"[0m
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170127181309"]]
  [1m[35m (11.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddNewColumnsToCreditCards (20170127181733)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "credit_cards" ADD "name" character varying[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "credit_cards" ADD "month_year" character varying[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170127181733"]]
  [1m[35m (4.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddTotalPriceToOrders (20170130012731)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "orders" ADD "total_price" decimal(10,2)[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170130012731"]]
  [1m[35m (5.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddVerifiedToReviews (20170201194752)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (209.9ms)[0m  [1m[35mALTER TABLE "reviews" ADD "verified" boolean DEFAULT 'f'[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170201194752"]]
  [1m[35m (6.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddConfirmableToDevise (20170204150541)
  [1m[35m (1.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "users" ADD "confirmation_token" character varying[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "users" ADD "confirmed_at" timestamp[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "users" ADD "confirmation_sent_at" timestamp[0m
  [1m[35m (45.3ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_confirmation_token" ON "users"  ("confirmation_token")[0m
  [1m[35m (1.2ms)[0m  [1m[33mUPDATE users SET confirmed_at = NOW(), confirmation_sent_at = NOW()[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170204150541"]]
  [1m[35m (25.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemoveActiveFromCoupons (20170205221756)
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "coupons" DROP "active"[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170205221756"]]
  [1m[35m (4.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddStateToReview (20170208162610)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "reviews" ADD "state" character varying[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "reviews" DROP "approved"[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170208162610"]]
  [1m[35m (3.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddUseBaseAddressToOrders (20170220082750)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "orders" ADD "use_base_address" boolean[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170220082750"]]
  [1m[35m (5.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", 2017-03-22 22:05:43 UTC], ["updated_at", 2017-03-22 22:05:43 UTC]]
  [1m[35m (6.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_advisory_unlock(1475079699081168390)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."title" = $1 LIMIT $2[0m  [["title", "Mobile"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = $1 LIMIT $2[0m  [["title", "Mobile"], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Mobile"], ["created_at", 2017-03-22 22:06:00 UTC], ["updated_at", 2017-03-22 22:06:00 UTC]]
  [1m[35m (32.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCategory Load (1.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."title" = $1 LIMIT $2[0m  [["title", "Development"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = $1 LIMIT $2[0m  [["title", "Development"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Development"], ["created_at", 2017-03-22 22:06:00 UTC], ["updated_at", 2017-03-22 22:06:00 UTC]]
  [1m[35m (10.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCategory Load (0.9ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."title" = $1 LIMIT $2[0m  [["title", "Photo"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = $1 LIMIT $2[0m  [["title", "Photo"], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Photo"], ["created_at", 2017-03-22 22:06:00 UTC], ["updated_at", 2017-03-22 22:06:00 UTC]]
  [1m[35m (11.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCategory Load (1.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."title" = $1 LIMIT $2[0m  [["title", "Web design"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = $1 LIMIT $2[0m  [["title", "Web design"], ["LIMIT", 1]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Web design"], ["created_at", 2017-03-22 22:06:00 UTC], ["updated_at", 2017-03-22 22:06:00 UTC]]
  [1m[35m (11.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCategory Load (0.9ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."title" = $1 LIMIT $2[0m  [["title", "Web development"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = $1 LIMIT $2[0m  [["title", "Web development"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "categories" ("title", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["title", "Web development"], ["created_at", 2017-03-22 22:06:00 UTC], ["updated_at", 2017-03-22 22:06:00 UTC]]
  [1m[35m (9.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.9ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Chanda"], ["last_name", "Botsford"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Chanda"], ["last_name", "Botsford"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "authors" ("first_name", "last_name", "desc", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["first_name", "Chanda"], ["last_name", "Botsford"], ["desc", "Deleniti fugit sit illo velit sint voluptatem ratione. Laborum quam quisquam officia quaerat aliquid enim voluptatem consequuntur. At rerum perferendis corporis nostrum ut eveniet nisi. Id ut adipisci quis et expedita ipsum illo rem."], ["created_at", 2017-03-22 22:06:00 UTC], ["updated_at", 2017-03-22 22:06:00 UTC]]
  [1m[35m (13.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Charlena"], ["last_name", "Fahey"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Charlena"], ["last_name", "Fahey"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "authors" ("first_name", "last_name", "desc", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["first_name", "Charlena"], ["last_name", "Fahey"], ["desc", "Eveniet velit in perspiciatis ut. Aspernatur non sapiente voluptatem at. Commodi repellat omnis quas rem doloribus ipsam."], ["created_at", 2017-03-22 22:06:00 UTC], ["updated_at", 2017-03-22 22:06:00 UTC]]
  [1m[35m (13.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Asha"], ["last_name", "Toy"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Asha"], ["last_name", "Toy"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "authors" ("first_name", "last_name", "desc", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["first_name", "Asha"], ["last_name", "Toy"], ["desc", "Fugit id qui dignissimos dolorem est earum et. Aut voluptates quidem quam aspernatur rerum nisi libero excepturi. Possimus explicabo nihil dignissimos doloribus in. Quae dolore modi nisi id commodi quis. Tenetur quod nulla ullam quo reprehenderit id dolor."], ["created_at", 2017-03-22 22:06:00 UTC], ["updated_at", 2017-03-22 22:06:00 UTC]]
  [1m[35m (13.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Rodolfo"], ["last_name", "Tillman"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Rodolfo"], ["last_name", "Tillman"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "authors" ("first_name", "last_name", "desc", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["first_name", "Rodolfo"], ["last_name", "Tillman"], ["desc", "Qui qui culpa aut vero ad ducimus id provident. Perspiciatis vero at vitae et. Est amet itaque aut molestiae velit voluptates vel. Libero praesentium sit rerum quibusdam qui dicta corporis."], ["created_at", 2017-03-22 22:06:00 UTC], ["updated_at", 2017-03-22 22:06:00 UTC]]
  [1m[35m (14.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Caren"], ["last_name", "Lockman"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Caren"], ["last_name", "Lockman"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "authors" ("first_name", "last_name", "desc", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["first_name", "Caren"], ["last_name", "Lockman"], ["desc", "Delectus qui illo sed architecto sequi quisquam. Vel consequatur aut nostrum doloribus enim. Sed dignissimos aut architecto facere."], ["created_at", 2017-03-22 22:06:00 UTC], ["updated_at", 2017-03-22 22:06:00 UTC]]
  [1m[35m (3.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.8ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Blair"], ["last_name", "Kuphal"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Blair"], ["last_name", "Kuphal"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "authors" ("first_name", "last_name", "desc", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["first_name", "Blair"], ["last_name", "Kuphal"], ["desc", "Aliquam itaque deleniti dolor repellendus consequatur nostrum nam nulla. Aliquam omnis aliquid at sequi. Voluptas cumque at non aut ipsum expedita. Qui alias incidunt veritatis suscipit ut. Neque reiciendis qui fugit quo exercitationem ea."], ["created_at", 2017-03-22 22:06:00 UTC], ["updated_at", 2017-03-22 22:06:00 UTC]]
  [1m[35m (10.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Hayden"], ["last_name", "Miller"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Hayden"], ["last_name", "Miller"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "authors" ("first_name", "last_name", "desc", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["first_name", "Hayden"], ["last_name", "Miller"], ["desc", "Voluptatem velit itaque sed dolores. Nam exercitationem totam iste et perspiciatis ut sunt. Voluptatum fugit officiis non ut iste."], ["created_at", 2017-03-22 22:06:00 UTC], ["updated_at", 2017-03-22 22:06:00 UTC]]
  [1m[35m (11.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Maryjo"], ["last_name", "Ryan"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Maryjo"], ["last_name", "Ryan"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "authors" ("first_name", "last_name", "desc", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["first_name", "Maryjo"], ["last_name", "Ryan"], ["desc", "Ut maiores similique labore cumque. Dolorem quae velit provident placeat temporibus quod ratione. Et expedita inventore error asperiores placeat quis vel."], ["created_at", 2017-03-22 22:06:00 UTC], ["updated_at", 2017-03-22 22:06:00 UTC]]
  [1m[35m (11.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Stacia"], ["last_name", "Roberts"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Stacia"], ["last_name", "Roberts"], ["LIMIT", 1]]
  [1m[35mSQL (2.2ms)[0m  [1m[32mINSERT INTO "authors" ("first_name", "last_name", "desc", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["first_name", "Stacia"], ["last_name", "Roberts"], ["desc", "Aliquid dolorum odit nemo quod fugit. Vero nobis est quasi minima veniam aut. Dicta eum fugit natus fuga excepturi qui. Consectetur voluptatibus neque cum tenetur. Eveniet itaque commodi eum voluptatibus voluptatem."], ["created_at", 2017-03-22 22:06:00 UTC], ["updated_at", 2017-03-22 22:06:00 UTC]]
  [1m[35m (11.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Kesha"], ["last_name", "Vandervort"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Kesha"], ["last_name", "Vandervort"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "authors" ("first_name", "last_name", "desc", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["first_name", "Kesha"], ["last_name", "Vandervort"], ["desc", "Dolorem ipsam natus asperiores ut. Sint est aut deserunt cupiditate. Et eum sed et voluptatem non perferendis."], ["created_at", 2017-03-22 22:06:00 UTC], ["updated_at", 2017-03-22 22:06:00 UTC]]
  [1m[35m (12.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Gladis"], ["last_name", "Fahey"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Gladis"], ["last_name", "Fahey"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "authors" ("first_name", "last_name", "desc", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["first_name", "Gladis"], ["last_name", "Fahey"], ["desc", "Pariatur officia odio quaerat ipsam. Voluptas molestiae impedit quia officiis odit. Cupiditate minus doloribus velit molestiae consequatur et maiores. Beatae molestias laudantium cum et assumenda soluta."], ["created_at", 2017-03-22 22:06:00 UTC], ["updated_at", 2017-03-22 22:06:00 UTC]]
  [1m[35m (13.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Alda"], ["last_name", "Vandervort"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Alda"], ["last_name", "Vandervort"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "authors" ("first_name", "last_name", "desc", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["first_name", "Alda"], ["last_name", "Vandervort"], ["desc", "Libero omnis voluptates dicta hic consequatur ad aperiam ut. Delectus modi id culpa quia qui. Soluta aspernatur pariatur id et. Ea sint pariatur non non et. Et nobis itaque modi laboriosam."], ["created_at", 2017-03-22 22:06:00 UTC], ["updated_at", 2017-03-22 22:06:00 UTC]]
  [1m[35m (13.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Christie"], ["last_name", "Hoppe"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Christie"], ["last_name", "Hoppe"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "authors" ("first_name", "last_name", "desc", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["first_name", "Christie"], ["last_name", "Hoppe"], ["desc", "Adipisci necessitatibus ad sit beatae explicabo. Et ut quia temporibus quibusdam modi vitae est dolor. Qui reprehenderit quasi libero iure sit ad. Dignissimos qui et libero magnam hic consectetur."], ["created_at", 2017-03-22 22:06:00 UTC], ["updated_at", 2017-03-22 22:06:00 UTC]]
  [1m[35m (13.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Toccara"], ["last_name", "Rempel"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Toccara"], ["last_name", "Rempel"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "authors" ("first_name", "last_name", "desc", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["first_name", "Toccara"], ["last_name", "Rempel"], ["desc", "Sed illum rerum non aperiam. Corrupti rem sed nobis laudantium mollitia. Autem voluptas adipisci repudiandae et et nisi dolorem odio. A asperiores accusantium reprehenderit aperiam hic velit."], ["created_at", 2017-03-22 22:06:00 UTC], ["updated_at", 2017-03-22 22:06:00 UTC]]
  [1m[35m (13.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Daniell"], ["last_name", "Lemke"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Daniell"], ["last_name", "Lemke"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "authors" ("first_name", "last_name", "desc", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["first_name", "Daniell"], ["last_name", "Lemke"], ["desc", "Unde reprehenderit omnis atque vitae aut cupiditate. Quisquam ut amet ipsa doloremque. Veniam nemo officiis nam dolor. Porro ut ducimus necessitatibus inventore."], ["created_at", 2017-03-22 22:06:00 UTC], ["updated_at", 2017-03-22 22:06:00 UTC]]
  [1m[35m (14.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Dorinda"], ["last_name", "Cartwright"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Dorinda"], ["last_name", "Cartwright"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "authors" ("first_name", "last_name", "desc", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["first_name", "Dorinda"], ["last_name", "Cartwright"], ["desc", "Id explicabo blanditiis sunt repellendus voluptatem commodi. Aut iste sapiente est accusamus. Labore ut aut corrupti ut accusamus eius eos et."], ["created_at", 2017-03-22 22:06:00 UTC], ["updated_at", 2017-03-22 22:06:00 UTC]]
  [1m[35m (3.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Shellie"], ["last_name", "Lesch"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Shellie"], ["last_name", "Lesch"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "authors" ("first_name", "last_name", "desc", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["first_name", "Shellie"], ["last_name", "Lesch"], ["desc", "Quidem et atque fuga doloribus vel voluptatibus. Aut pariatur repellendus deserunt et. Mollitia alias accusamus porro rerum. Eaque alias rem voluptatem mollitia. Fugit aut unde ea et vitae."], ["created_at", 2017-03-22 22:06:00 UTC], ["updated_at", 2017-03-22 22:06:00 UTC]]
  [1m[35m (3.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Roland"], ["last_name", "Klein"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Roland"], ["last_name", "Klein"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "authors" ("first_name", "last_name", "desc", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["first_name", "Roland"], ["last_name", "Klein"], ["desc", "Repellat molestiae dolorem alias neque ipsum rerum. Quaerat consequuntur enim ad rem rerum. Laudantium incidunt esse et voluptatem et in aut ut. Libero voluptatem a optio perferendis. Tenetur eaque non est voluptates id vel illo."], ["created_at", 2017-03-22 22:06:00 UTC], ["updated_at", 2017-03-22 22:06:00 UTC]]
  [1m[35m (3.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Dalene"], ["last_name", "Torphy"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Dalene"], ["last_name", "Torphy"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "authors" ("first_name", "last_name", "desc", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["first_name", "Dalene"], ["last_name", "Torphy"], ["desc", "Reprehenderit voluptates dolorum voluptas saepe cumque. Velit illum dolorem quis mollitia. Aut dolor aspernatur quis accusantium enim. Distinctio cupiditate est est eos nihil nam quisquam. Nostrum soluta impedit sit provident repudiandae in."], ["created_at", 2017-03-22 22:06:00 UTC], ["updated_at", 2017-03-22 22:06:00 UTC]]
  [1m[35m (3.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Felicidad"], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND "authors"."last_name" = $2 LIMIT $3[0m  [["first_name", "Felicidad"], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "authors" ("first_name", "last_name", "desc", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["first_name", "Felicidad"], ["last_name", "Hammes"], ["desc", "Optio est atque sunt rerum laudantium consequatur quasi quis. Ut eveniet blanditiis tempore veritatis asperiores ut quam rerum. Deserunt autem qui doloribus ut porro molestiae rerum. Cupiditate ullam at qui culpa ea assumenda dignissimos."], ["created_at", 2017-03-22 22:06:00 UTC], ["updated_at", 2017-03-22 22:06:00 UTC]]
  [1m[35m (3.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCategory Load (1.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" ORDER BY "categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "I Married a Tokyo Ninja"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "I Married a Tokyo Ninja"], ["desc", "Magni vero ut adipisci nisi rerum eum sed autem. Iure voluptates enim nesciunt mollitia nobis. Quos alias sit dolor quia sit minima inventore."], ["price", #<BigDecimal:577eca0,'0.1656E2',18(27)>], ["count", 141], ["created_at", 2017-03-22 22:06:00 UTC], ["updated_at", 2017-03-22 22:06:00 UTC], ["category_id", 1], ["dimension", "{\"h\":7.7,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 1]]
  [1m[35m (18.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Season of the Danger Gypsy"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Season of the Danger Gypsy"], ["desc", "Provident perspiciatis nemo maxime quia. Omnis esse dolorem fugit veniam asperiores eius reprehenderit. Minima a et dolorum quia animi. Et inventore alias sed rerum et consequatur deleniti."], ["price", #<BigDecimal:434c160,'0.1625E2',18(27)>], ["count", 402], ["created_at", 2017-03-22 22:06:00 UTC], ["updated_at", 2017-03-22 22:06:00 UTC], ["category_id", 1], ["dimension", "{\"h\":9.2,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 1]]
  [1m[35m (8.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Electric Rain"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Electric Rain"], ["desc", "Et non similique nisi ullam. Minima quam voluptatibus et odit. Ea et id harum molestiae voluptate voluptatum cumque. Aut dolorem saepe et molestias dolore minima."], ["price", #<BigDecimal:4242a80,'0.1151E2',18(27)>], ["count", 119], ["created_at", 2017-03-22 22:06:00 UTC], ["updated_at", 2017-03-22 22:06:00 UTC], ["category_id", 1], ["dimension", "{\"h\":6.0,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 1]]
  [1m[35m (9.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "I Married a Hungry Jungle"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "I Married a Hungry Jungle"], ["desc", "Illum ut distinctio dicta eos ullam molestiae. Dignissimos quas dolores officiis explicabo eligendi est tempore. Eius at debitis consequatur quo cupiditate et. Facilis rerum voluptates corrupti omnis optio atque et. Occaecati qui odio rerum molestiae est."], ["price", #<BigDecimal:4166c60,'0.1382E2',18(27)>], ["count", 317], ["created_at", 2017-03-22 22:06:01 UTC], ["updated_at", 2017-03-22 22:06:01 UTC], ["category_id", 1], ["dimension", "{\"h\":7.2,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 1]]
  [1m[35m (9.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Hungry Tears"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Hungry Tears"], ["desc", "Aut architecto est mollitia pariatur odit. Distinctio ullam consequatur facere nemo. Minus quis et non consequatur. Vel officiis cupiditate consequatur aut quas repellat corrupti aut. Deleniti nobis magnam tempore odio sequi."], ["price", #<BigDecimal:4068228,'0.1381E2',18(27)>], ["count", 467], ["created_at", 2017-03-22 22:06:01 UTC], ["updated_at", 2017-03-22 22:06:01 UTC], ["category_id", 1], ["dimension", "{\"h\":5.4,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 1]]
  [1m[35m (9.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Fake Tears"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Fake Tears"], ["desc", "Iusto et vero totam hic quos. Recusandae adipisci magnam fugiat nam dicta ab repudiandae. Perferendis totam quod voluptatem est sequi dolor vel veritatis. Non ea illum nihil natus dolorem. Dolore omnis non qui vitae cumque est impedit aliquam."], ["price", #<BigDecimal:3f5cca8,'0.182E2',18(27)>], ["count", 302], ["created_at", 2017-03-22 22:06:01 UTC], ["updated_at", 2017-03-22 22:06:01 UTC], ["category_id", 1], ["dimension", "{\"h\":6.9,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 1]]
  [1m[35m (9.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Death Clash"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Death Clash"], ["desc", "Quaerat explicabo sint laborum molestiae. Fugit quas ut aliquam et enim. Quam in exercitationem optio accusamus pariatur cumque quasi. Sit aut autem sit exercitationem. Ab natus quisquam quo excepturi in quod."], ["price", #<BigDecimal:3ebce38,'0.1362E2',18(27)>], ["count", 302], ["created_at", 2017-03-22 22:06:01 UTC], ["updated_at", 2017-03-22 22:06:01 UTC], ["category_id", 1], ["dimension", "{\"h\":7.4,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 1]]
  [1m[35m (9.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Case of the Missing Hungry Wolves"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Case of the Missing Hungry Wolves"], ["desc", "Atque et consequuntur voluptatem magni ratione laborum praesentium. Consequatur laborum unde aut nobis. Velit dolores repellat cum non sit. Dignissimos voluptatum quam voluptatem mollitia totam nostrum ut aliquid."], ["price", #<BigDecimal:3df1d78,'0.1661E2',18(27)>], ["count", 203], ["created_at", 2017-03-22 22:06:01 UTC], ["updated_at", 2017-03-22 22:06:01 UTC], ["category_id", 1], ["dimension", "{\"h\":7.1,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 1]]
  [1m[35m (9.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Forbidden Tentacle"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Forbidden Tentacle"], ["desc", "Aliquid eum aut fugit tempora quo delectus amet. Nam rerum id repellat numquam culpa neque et. Dolore laudantium repellat quisquam quia magnam. Omnis adipisci vel molestiae quae."], ["price", #<BigDecimal:3d0fc20,'0.1277E2',18(27)>], ["count", 493], ["created_at", 2017-03-22 22:06:01 UTC], ["updated_at", 2017-03-22 22:06:01 UTC], ["category_id", 1], ["dimension", "{\"h\":5.9,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 1]]
  [1m[35m (8.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Blonde Tentacle"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Blonde Tentacle"], ["desc", "Et debitis maxime dolor blanditiis qui accusantium et corporis. Et non corrupti quas vel autem voluptas. Placeat nihil quia excepturi provident maiores dolorem."], ["price", #<BigDecimal:3c2a828,'0.1198E2',18(27)>], ["count", 327], ["created_at", 2017-03-22 22:06:01 UTC], ["updated_at", 2017-03-22 22:06:01 UTC], ["category_id", 1], ["dimension", "{\"h\":6.8,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 1]]
  [1m[35m (7.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Killer Woman"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Killer Woman"], ["desc", "Tempore ratione dignissimos in fugit sunt vel enim. Neque ut et aut perspiciatis. Autem laborum optio est maiores qui. Quibusdam dignissimos alias accusantium incidunt natus. Est corporis aut blanditiis nesciunt voluptate possimus molestiae cumque."], ["price", #<BigDecimal:3b19f10,'0.1716E2',18(27)>], ["count", 373], ["created_at", 2017-03-22 22:06:01 UTC], ["updated_at", 2017-03-22 22:06:01 UTC], ["category_id", 1], ["dimension", "{\"h\":8.5,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 1]]
  [1m[35m (9.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "I Married a Blue Jungle"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "I Married a Blue Jungle"], ["desc", "Et vero animi sunt optio modi quisquam. Voluptate eos autem accusantium qui. Alias ut ea nemo voluptatem excepturi minima. Illum quis sint ullam neque maiores sunt."], ["price", #<BigDecimal:3a4f670,'0.1241E2',18(27)>], ["count", 124], ["created_at", 2017-03-22 22:06:01 UTC], ["updated_at", 2017-03-22 22:06:01 UTC], ["category_id", 1], ["dimension", "{\"h\":6.9,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 1]]
  [1m[35m (9.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Blue Rain"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Blue Rain"], ["desc", "Enim tempora consequatur quos corporis. Aut vero et autem et aut non voluptates. Voluptates asperiores omnis quod soluta deserunt eveniet. In ut quo est rerum."], ["price", #<BigDecimal:39a0ff8,'0.112E2',18(27)>], ["count", 428], ["created_at", 2017-03-22 22:06:01 UTC], ["updated_at", 2017-03-22 22:06:01 UTC], ["category_id", 1], ["dimension", "{\"h\":7.3,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 1]]
  [1m[35m (8.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Dangerous City"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Dangerous City"], ["desc", "Esse molestiae rerum occaecati excepturi vel sit. Excepturi omnis possimus sint sapiente. Voluptatum voluptas necessitatibus quas vel cupiditate molestiae exercitationem saepe. Odit sequi porro quasi sed veniam et."], ["price", #<BigDecimal:37df368,'0.1553E2',18(27)>], ["count", 112], ["created_at", 2017-03-22 22:06:01 UTC], ["updated_at", 2017-03-22 22:06:01 UTC], ["category_id", 1], ["dimension", "{\"h\":9.9,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 1]]
  [1m[35m (7.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "The Death Rain"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "The Death Rain"], ["desc", "Aliquid aut et officiis eos deleniti. Ipsa distinctio voluptas nostrum atque aut asperiores. Et facere doloremque fugiat vitae aut consectetur. Assumenda itaque mollitia placeat accusantium repudiandae omnis."], ["price", #<BigDecimal:36cc750,'0.1728E2',18(27)>], ["count", 428], ["created_at", 2017-03-22 22:06:01 UTC], ["updated_at", 2017-03-22 22:06:01 UTC], ["category_id", 1], ["dimension", "{\"h\":7.1,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 1]]
  [1m[35m (10.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Season of the Bloody Cat"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Season of the Bloody Cat"], ["desc", "Eum earum consequatur eligendi delectus quisquam quia aliquam sunt. Sit aut nisi fuga dolorum beatae velit. Deserunt vitae aut sunt et."], ["price", #<BigDecimal:2a15f98,'0.1096E2',18(27)>], ["count", 324], ["created_at", 2017-03-22 22:06:01 UTC], ["updated_at", 2017-03-22 22:06:01 UTC], ["category_id", 1], ["dimension", "{\"h\":6.6,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 1]]
  [1m[35m (11.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Return of the Champagne Monster"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Return of the Champagne Monster"], ["desc", "Temporibus est ad dolore explicabo quia cumque eum. Ex eum amet eligendi qui laborum. Sunt sit culpa voluptates et quasi quos suscipit. Sint dignissimos et at recusandae. Neque natus repudiandae enim minus corporis."], ["price", #<BigDecimal:2777138,'0.1373E2',18(27)>], ["count", 170], ["created_at", 2017-03-22 22:06:01 UTC], ["updated_at", 2017-03-22 22:06:01 UTC], ["category_id", 1], ["dimension", "{\"h\":8.5,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 1]]
  [1m[35m (11.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "American Cousins"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "American Cousins"], ["desc", "Eos facere labore modi eius. Suscipit quia quod eveniet ex. Facilis vel doloribus dolores maxime quaerat similique."], ["price", #<BigDecimal:25ad730,'0.1786E2',18(27)>], ["count", 299], ["created_at", 2017-03-22 22:06:01 UTC], ["updated_at", 2017-03-22 22:06:01 UTC], ["category_id", 1], ["dimension", "{\"h\":9.8,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 1]]
  [1m[35m (11.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Legend of Blonde Friday"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Legend of Blonde Friday"], ["desc", "Amet consequatur aliquid sint est. Accusantium mollitia ea incidunt quas quam nihil. Velit rerum hic sed nulla modi error. Doloremque occaecati accusamus laudantium quis blanditiis."], ["price", #<BigDecimal:1fc5598,'0.1329E2',18(27)>], ["count", 386], ["created_at", 2017-03-22 22:06:01 UTC], ["updated_at", 2017-03-22 22:06:01 UTC], ["category_id", 1], ["dimension", "{\"h\":5.6,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 1]]
  [1m[35m (11.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Tokyo Brain"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Tokyo Brain"], ["desc", "Iste error vitae sint expedita delectus. Autem eum commodi qui aliquam ipsam est et recusandae. Dolores maiores ratione libero ab eaque sit dolores. Ut sed sapiente optio quos."], ["price", #<BigDecimal:631b540,'0.1862E2',18(27)>], ["count", 307], ["created_at", 2017-03-22 22:06:01 UTC], ["updated_at", 2017-03-22 22:06:01 UTC], ["category_id", 2], ["dimension", "{\"h\":8.7,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 2]]
  [1m[35m (11.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Green Diaries"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Green Diaries"], ["desc", "Officiis nam odio eum enim fugiat. Voluptate in vel eum aut ipsam optio. Culpa in esse sed blanditiis."], ["price", #<BigDecimal:6ebd128,'0.1605E2',18(27)>], ["count", 483], ["created_at", 2017-03-22 22:06:01 UTC], ["updated_at", 2017-03-22 22:06:01 UTC], ["category_id", 2], ["dimension", "{\"h\":9.4,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 2]]
  [1m[35m (12.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Journey of the Ultra Ninja"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Journey of the Ultra Ninja"], ["desc", "Eos et voluptatem iusto vel quis neque. Repellat ut temporibus non cum sunt. Consequatur voluptatibus excepturi autem harum est velit non. Qui necessitatibus qui consequatur non ut quos. Pariatur illo minima sunt maxime ipsam voluptatem."], ["price", #<BigDecimal:6e02ee0,'0.1867E2',18(27)>], ["count", 390], ["created_at", 2017-03-22 22:06:01 UTC], ["updated_at", 2017-03-22 22:06:01 UTC], ["category_id", 2], ["dimension", "{\"h\":5.7,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 2]]
  [1m[35m (12.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Day of the Blonde Gypsy"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Day of the Blonde Gypsy"], ["desc", "Laborum asperiores quisquam quia qui et. Incidunt inventore quae cum ut. Ipsa eaque qui ad totam repellendus doloribus."], ["price", #<BigDecimal:6dd2b28,'0.1216E2',18(27)>], ["count", 221], ["created_at", 2017-03-22 22:06:01 UTC], ["updated_at", 2017-03-22 22:06:01 UTC], ["category_id", 2], ["dimension", "{\"h\":5.2,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 2]]
  [1m[35m (12.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Return of the Electric Mutant"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Return of the Electric Mutant"], ["desc", "Eius illo at est ea et eos cum. Delectus est minima sed quod sit. Et autem sint impedit et dicta quasi."], ["price", #<BigDecimal:6d6e588,'0.1825E2',18(27)>], ["count", 272], ["created_at", 2017-03-22 22:06:01 UTC], ["updated_at", 2017-03-22 22:06:01 UTC], ["category_id", 2], ["dimension", "{\"h\":7.2,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 2]]
  [1m[35m (4.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Hungry Fly"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Hungry Fly"], ["desc", "Atque dolorem maiores consequuntur labore. Vel non ratione labore sit et magnam eos. Rerum et voluptates voluptatum beatae."], ["price", #<BigDecimal:6d01690,'0.1679E2',18(27)>], ["count", 167], ["created_at", 2017-03-22 22:06:01 UTC], ["updated_at", 2017-03-22 22:06:01 UTC], ["category_id", 2], ["dimension", "{\"h\":9.9,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 2]]
  [1m[35m (8.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Dangerous Gypsy"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Dangerous Gypsy"], ["desc", "Rerum voluptas doloribus praesentium impedit inventore. Aliquam nesciunt a ipsam nostrum vel laborum tenetur. Sit illo sunt incidunt est optio neque."], ["price", #<BigDecimal:6c8c688,'0.1139E2',18(27)>], ["count", 152], ["created_at", 2017-03-22 22:06:01 UTC], ["updated_at", 2017-03-22 22:06:01 UTC], ["category_id", 2], ["dimension", "{\"h\":5.3,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 2]]
  [1m[35m (5.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Red Diaries"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Red Diaries"], ["desc", "Rerum voluptatum consequuntur eos sed. Cupiditate est similique eos qui. Consequatur voluptatem dolor provident voluptatem alias. Ut necessitatibus id sed aut dignissimos et."], ["price", #<BigDecimal:6c30c70,'0.177E2',18(27)>], ["count", 386], ["created_at", 2017-03-22 22:06:01 UTC], ["updated_at", 2017-03-22 22:06:01 UTC], ["category_id", 2], ["dimension", "{\"h\":5.6,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 2]]
  [1m[35m (7.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Case of the Missing Nuclear Woman"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Case of the Missing Nuclear Woman"], ["desc", "Natus assumenda dolor dolorem accusantium voluptatibus ut magni. Dicta soluta tempora temporibus magnam quos illum. Et quo minima veniam rerum odio voluptates. Suscipit repellat mollitia provident eaque laborum rerum. Soluta ipsam inventore cumque eum."], ["price", #<BigDecimal:6bcf358,'0.1989E2',18(27)>], ["count", 435], ["created_at", 2017-03-22 22:06:01 UTC], ["updated_at", 2017-03-22 22:06:01 UTC], ["category_id", 2], ["dimension", "{\"h\":5.3,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 2]]
  [1m[35m (4.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Killer Cousins"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Killer Cousins"], ["desc", "Ut modi est est quia dolore. Quidem reiciendis et delectus eius mollitia est ducimus. Iste consequatur qui soluta quod maiores. Est quia iste maxime sed rerum aut."], ["price", #<BigDecimal:6b5f828,'0.1551E2',18(27)>], ["count", 335], ["created_at", 2017-03-22 22:06:01 UTC], ["updated_at", 2017-03-22 22:06:01 UTC], ["category_id", 2], ["dimension", "{\"h\":6.8,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 2]]
  [1m[35m (9.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (4.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Planet of the Electric Brain"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Planet of the Electric Brain"], ["desc", "Eum quas at ea ex. Ea optio ullam doloribus ad sunt suscipit. Magni voluptatem omnis quos sit. Possimus nostrum ullam qui aut laudantium error reiciendis incidunt."], ["price", #<BigDecimal:6ab2e70,'0.1721E2',18(27)>], ["count", 254], ["created_at", 2017-03-22 22:06:01 UTC], ["updated_at", 2017-03-22 22:06:01 UTC], ["category_id", 2], ["dimension", "{\"h\":7.0,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 2]]
  [1m[35m (6.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Time of the American Hills"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Time of the American Hills"], ["desc", "Sit aut et aut dolore enim esse incidunt accusantium. Maiores atque modi adipisci laudantium laborum et. Ratione et assumenda aut saepe iusto. Aliquid perspiciatis corporis corrupti et vitae beatae ad nostrum. Ad deserunt dolorem voluptatem magnam et illo animi."], ["price", #<BigDecimal:6a1fb70,'0.1865E2',18(27)>], ["count", 366], ["created_at", 2017-03-22 22:06:01 UTC], ["updated_at", 2017-03-22 22:06:01 UTC], ["category_id", 2], ["dimension", "{\"h\":8.4,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 2]]
  [1m[35m (10.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Champagne Wolves"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Champagne Wolves"], ["desc", "Hic accusamus nihil dolorem est. Quisquam pariatur aut tempora quidem officiis consequatur. Atque reiciendis provident molestiae perferendis sed ea. Non ut mollitia atque commodi. Voluptatem est et in sed voluptatem iste pariatur."], ["price", #<BigDecimal:699f9c0,'0.1773E2',18(27)>], ["count", 402], ["created_at", 2017-03-22 22:06:01 UTC], ["updated_at", 2017-03-22 22:06:01 UTC], ["category_id", 2], ["dimension", "{\"h\":7.7,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 2]]
  [1m[35m (8.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Planet of the Red Rain"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Planet of the Red Rain"], ["desc", "Unde voluptas aut consequatur aut veritatis laboriosam nemo minima. Laboriosam ut aut aspernatur minima. Non voluptas enim harum est ut eius qui in. Reprehenderit hic aspernatur ut eveniet sapiente quod inventore. Voluptatum vitae repellendus dolores et veniam et officiis."], ["price", #<BigDecimal:6901310,'0.1546E2',18(27)>], ["count", 482], ["created_at", 2017-03-22 22:06:01 UTC], ["updated_at", 2017-03-22 22:06:01 UTC], ["category_id", 3], ["dimension", "{\"h\":5.9,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 3]]
  [1m[35m (7.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Return of the Electric Tentacle"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Return of the Electric Tentacle"], ["desc", "Molestiae sunt porro laborum aperiam ullam quibusdam eaque totam. Praesentium sit vel corporis non minima. Facilis doloremque dolor velit quidem dolores ut. Et quo autem quis voluptas. Mollitia ullam quia id maiores et non aut."], ["price", #<BigDecimal:68a5998,'0.1044E2',18(27)>], ["count", 201], ["created_at", 2017-03-22 22:06:01 UTC], ["updated_at", 2017-03-22 22:06:01 UTC], ["category_id", 3], ["dimension", "{\"h\":6.8,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 3]]
  [1m[35m (11.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Death Wolf"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Death Wolf"], ["desc", "Aut eligendi sed harum cumque suscipit optio saepe. Et voluptas omnis tempora vero laboriosam recusandae iusto. Nulla vitae dolor minus unde placeat sed."], ["price", #<BigDecimal:6842398,'0.1655E2',18(27)>], ["count", 423], ["created_at", 2017-03-22 22:06:01 UTC], ["updated_at", 2017-03-22 22:06:01 UTC], ["category_id", 3], ["dimension", "{\"h\":8.6,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (1.4ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 3]]
  [1m[35m (10.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (4.8ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Case of the Missing Green Blow"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Case of the Missing Green Blow"], ["desc", "Accusamus in autem aut sed assumenda qui quaerat. Ipsam eveniet maiores voluptatum voluptas quasi voluptatem odit nulla. Laborum nisi in consectetur est. Dignissimos ad et aut reprehenderit. Aut accusamus porro ut fugiat."], ["price", #<BigDecimal:67a8b08,'0.1754E2',18(27)>], ["count", 361], ["created_at", 2017-03-22 22:06:01 UTC], ["updated_at", 2017-03-22 22:06:01 UTC], ["category_id", 3], ["dimension", "{\"h\":8.3,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 3]]
  [1m[35m (7.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Bloody Beast"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Bloody Beast"], ["desc", "At eaque aut id consequatur officia. In quo est quia et et a est aspernatur. Ex in sed eos quia ducimus esse unde. Porro dolor quia animi quis."], ["price", #<BigDecimal:675e300,'0.1269E2',18(27)>], ["count", 296], ["created_at", 2017-03-22 22:06:01 UTC], ["updated_at", 2017-03-22 22:06:01 UTC], ["category_id", 3], ["dimension", "{\"h\":8.6,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 3]]
  [1m[35m (12.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Case of the Missing Flying Witch"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Case of the Missing Flying Witch"], ["desc", "Minima dignissimos doloremque voluptate corrupti quibusdam et unde. Tenetur sed qui commodi aut consequuntur. A eaque necessitatibus aut occaecati est. Cupiditate sit ut eos ab ea id et."], ["price", #<BigDecimal:66e8038,'0.1197E2',18(27)>], ["count", 154], ["created_at", 2017-03-22 22:06:01 UTC], ["updated_at", 2017-03-22 22:06:01 UTC], ["category_id", 3], ["dimension", "{\"h\":8.6,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 3]]
  [1m[35m (11.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "War of the Nuclear Tentacle"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (3.4ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "War of the Nuclear Tentacle"], ["desc", "Nostrum corporis dolores et consectetur non nemo cumque. Culpa omnis voluptatem porro consequatur accusamus. Dolor dolores harum laborum beatae numquam et."], ["price", #<BigDecimal:66687e8,'0.1665E2',18(27)>], ["count", 185], ["created_at", 2017-03-22 22:06:01 UTC], ["updated_at", 2017-03-22 22:06:01 UTC], ["category_id", 3], ["dimension", "{\"h\":5.6,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 3]]
  [1m[35m (9.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Death Thief"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Death Thief"], ["desc", "Quos perspiciatis autem veniam voluptates quo nulla repellendus. Quia ut doloremque sint sed. Quisquam molestiae dicta vitae harum. Omnis ad odit dolor quis voluptatem nisi nihil natus."], ["price", #<BigDecimal:65f8ba0,'0.1666E2',18(27)>], ["count", 464], ["created_at", 2017-03-22 22:06:01 UTC], ["updated_at", 2017-03-22 22:06:01 UTC], ["category_id", 3], ["dimension", "{\"h\":7.9,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 3]]
  [1m[35m (11.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Curse of the Flying City"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Curse of the Flying City"], ["desc", "Exercitationem recusandae quibusdam cumque temporibus at eius nemo. In voluptas itaque quisquam quae aliquid atque non. Molestiae ducimus aspernatur nobis est voluptatem deserunt suscipit. Illo fuga sit natus amet magni."], ["price", #<BigDecimal:65965e0,'0.1657E2',18(27)>], ["count", 276], ["created_at", 2017-03-22 22:06:01 UTC], ["updated_at", 2017-03-22 22:06:01 UTC], ["category_id", 3], ["dimension", "{\"h\":9.8,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 3]]
  [1m[35m (9.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "I Married a Ultra Monster"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "I Married a Ultra Monster"], ["desc", "Minus voluptas culpa nemo illo commodi ipsa nam et. Dolorem sit sed omnis corporis repellendus magnam sed accusamus. Omnis natus rerum dolor suscipit officia. In quia sunt ut accusamus dolore ullam consectetur nisi. A provident iste iusto ex incidunt ipsam."], ["price", #<BigDecimal:6528338,'0.1629E2',18(27)>], ["count", 184], ["created_at", 2017-03-22 22:06:01 UTC], ["updated_at", 2017-03-22 22:06:01 UTC], ["category_id", 3], ["dimension", "{\"h\":5.5,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 3]]
  [1m[35m (10.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Electric Brains"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Electric Brains"], ["desc", "Ut fuga quisquam ea aut repellendus. Repudiandae possimus magnam dolores rerum. Sint qui voluptas voluptas eos voluptatem quae. Voluptatem similique nihil unde placeat perferendis non cupiditate necessitatibus."], ["price", #<BigDecimal:64bb260,'0.1605E2',18(27)>], ["count", 442], ["created_at", 2017-03-22 22:06:01 UTC], ["updated_at", 2017-03-22 22:06:01 UTC], ["category_id", 3], ["dimension", "{\"h\":9.8,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 3]]
  [1m[35m (11.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Blue Woman"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Blue Woman"], ["desc", "Assumenda nihil modi nihil eaque voluptatum quae. Quia atque optio ea eos eveniet vel. Ipsum vel minima eveniet quam odit."], ["price", #<BigDecimal:642f3c8,'0.1767E2',18(27)>], ["count", 487], ["created_at", 2017-03-22 22:06:01 UTC], ["updated_at", 2017-03-22 22:06:01 UTC], ["category_id", 3], ["dimension", "{\"h\":9.0,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 3]]
  [1m[35m (10.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Blonde Pickpocket"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Blonde Pickpocket"], ["desc", "Qui vel consequatur unde repellat ducimus libero est facilis. Incidunt corporis impedit qui possimus totam odio quasi. Qui et ea quam ea soluta voluptas. Quis quas doloremque aut ut quidem qui repudiandae dicta."], ["price", #<BigDecimal:63b3340,'0.1238E2',18(27)>], ["count", 198], ["created_at", 2017-03-22 22:06:01 UTC], ["updated_at", 2017-03-22 22:06:01 UTC], ["category_id", 3], ["dimension", "{\"h\":6.9,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 3]]
  [1m[35m (11.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Action Cat"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Action Cat"], ["desc", "Aliquid nihil incidunt facilis ipsum sit. Reiciendis voluptatem vel adipisci aut ad. Alias perferendis ad possimus quia dolores in exercitationem. Distinctio deserunt tempore voluptatum consequatur sint. Inventore deleniti aut voluptates quod et debitis."], ["price", #<BigDecimal:635b5a0,'0.1412E2',18(27)>], ["count", 151], ["created_at", 2017-03-22 22:06:01 UTC], ["updated_at", 2017-03-22 22:06:01 UTC], ["category_id", 3], ["dimension", "{\"h\":9.3,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 3]]
  [1m[35m (10.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "War of the Electric Diaries"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "War of the Electric Diaries"], ["desc", "Ut omnis sapiente ea magni quo. Deleniti molestias amet iste optio veniam necessitatibus. Est incidunt necessitatibus aut magnam quasi ab commodi."], ["price", #<BigDecimal:62f9b98,'0.1219E2',18(27)>], ["count", 471], ["created_at", 2017-03-22 22:06:01 UTC], ["updated_at", 2017-03-22 22:06:01 UTC], ["category_id", 4], ["dimension", "{\"h\":6.6,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 4]]
  [1m[35m (10.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Season of the Blue Wolf"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Season of the Blue Wolf"], ["desc", "Assumenda voluptatem tempora natus id exercitationem voluptatum alias. Earum vitae omnis inventore omnis ut eius magnam eos. Porro beatae quisquam nihil aut omnis. Inventore nesciunt non nostrum placeat vero voluptatibus sed. Enim magnam et architecto sit pariatur et animi reprehenderit."], ["price", #<BigDecimal:629cc18,'0.1641E2',18(27)>], ["count", 189], ["created_at", 2017-03-22 22:06:02 UTC], ["updated_at", 2017-03-22 22:06:02 UTC], ["category_id", 4], ["dimension", "{\"h\":8.6,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 4]]
  [1m[35m (10.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "I am Blue Diaries"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (8.6ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "I am Blue Diaries"], ["desc", "Qui est beatae aut sit. Doloribus tempora eaque sed non excepturi. Cum facere id eaque error doloribus possimus. Sint molestiae aut corporis odit accusantium nam nobis vel. Nobis asperiores qui voluptas cupiditate reiciendis error sint quod."], ["price", #<BigDecimal:620a0e8,'0.1021E2',18(27)>], ["count", 394], ["created_at", 2017-03-22 22:06:02 UTC], ["updated_at", 2017-03-22 22:06:02 UTC], ["category_id", 4], ["dimension", "{\"h\":8.6,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (1.6ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 4]]
  [1m[35m (8.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "I Married a Ultra Mutant"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "I Married a Ultra Mutant"], ["desc", "Et cum qui non omnis reiciendis modi. Totam omnis ut in temporibus. Quas numquam soluta repellat unde dolor. Reiciendis temporibus ea vel quia."], ["price", #<BigDecimal:61c4430,'0.1511E2',18(27)>], ["count", 273], ["created_at", 2017-03-22 22:06:02 UTC], ["updated_at", 2017-03-22 22:06:02 UTC], ["category_id", 4], ["dimension", "{\"h\":7.6,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 4]]
  [1m[35m (12.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "I am Green Tentacle"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "I am Green Tentacle"], ["desc", "Sequi et ratione facilis consectetur voluptatem voluptatibus. Illo nihil neque iste dolores. Nulla sint est minus numquam officiis beatae sed ad."], ["price", #<BigDecimal:613c4e0,'0.1852E2',18(27)>], ["count", 178], ["created_at", 2017-03-22 22:06:02 UTC], ["updated_at", 2017-03-22 22:06:02 UTC], ["category_id", 4], ["dimension", "{\"h\":6.0,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 4]]
  [1m[35m (12.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Return of the Dangerous Ninjas"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Return of the Dangerous Ninjas"], ["desc", "Dolore occaecati et optio qui voluptas. Sunt ipsum voluptate beatae voluptatem. Sapiente aut cum quos officiis nostrum molestiae temporibus dolore. Dignissimos ut voluptatem natus tempore quia. Ut enim eligendi sit cupiditate."], ["price", #<BigDecimal:60eae88,'0.1984E2',18(27)>], ["count", 445], ["created_at", 2017-03-22 22:06:02 UTC], ["updated_at", 2017-03-22 22:06:02 UTC], ["category_id", 4], ["dimension", "{\"h\":9.6,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 4]]
  [1m[35m (12.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Tokyo Fly"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Tokyo Fly"], ["desc", "Porro pariatur sapiente repellendus nihil modi. Itaque error sed quam aspernatur qui minima rerum. Rem expedita aut dolor nisi. Fugiat excepturi neque corrupti voluptatem delectus sint. Non autem voluptas in quaerat."], ["price", #<BigDecimal:6080128,'0.1626E2',18(27)>], ["count", 161], ["created_at", 2017-03-22 22:06:02 UTC], ["updated_at", 2017-03-22 22:06:02 UTC], ["category_id", 4], ["dimension", "{\"h\":8.8,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 4]]
  [1m[35m (12.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Legend of Killer Gypsy"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Legend of Killer Gypsy"], ["desc", "Eligendi et a voluptas est ut et nesciunt. Ut et ut aliquam reiciendis. Ipsum molestiae iure asperiores nobis in maiores exercitationem. Aut suscipit voluptatem ducimus quam debitis."], ["price", #<BigDecimal:5fff668,'0.1676E2',18(27)>], ["count", 122], ["created_at", 2017-03-22 22:06:02 UTC], ["updated_at", 2017-03-22 22:06:02 UTC], ["category_id", 4], ["dimension", "{\"h\":5.4,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 4]]
  [1m[35m (12.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "War of the Electric Diaries"], ["LIMIT", 1]]
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "I Married a Flying Blow"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "I Married a Flying Blow"], ["desc", "Neque explicabo tempora cum inventore quas. Fugit molestiae magni ad qui recusandae. Voluptatum mollitia aliquid suscipit aliquam magnam aspernatur. Ea ducimus est in sint quia. A consequuntur aliquid consequatur corporis occaecati fugit ut."], ["price", #<BigDecimal:5f73370,'0.1829E2',18(27)>], ["count", 331], ["created_at", 2017-03-22 22:06:02 UTC], ["updated_at", 2017-03-22 22:06:02 UTC], ["category_id", 4], ["dimension", "{\"h\":6.5,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 4]]
  [1m[35m (10.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Rise of the Forbidden Gypsy"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Rise of the Forbidden Gypsy"], ["desc", "Sed dolore nisi quae aut officiis et nam. Est sed quia est natus et eius. Sunt possimus quas assumenda eos. Consequatur optio quos eum et corrupti sit aperiam velit. Ut quasi eaque corrupti unde ipsa."], ["price", #<BigDecimal:5f18588,'0.1002E2',18(27)>], ["count", 295], ["created_at", 2017-03-22 22:06:02 UTC], ["updated_at", 2017-03-22 22:06:02 UTC], ["category_id", 4], ["dimension", "{\"h\":7.7,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 4]]
  [1m[35m (11.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Invasion of the Electric Fly"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Invasion of the Electric Fly"], ["desc", "Voluptas eveniet non hic rerum ut corrupti veniam vitae. Quo ducimus accusamus assumenda pariatur corrupti praesentium. Unde est laboriosam facilis et quia corporis qui laborum. Ut assumenda nostrum vel odio. Soluta non perferendis et alias vitae deleniti."], ["price", #<BigDecimal:5eae980,'0.1866E2',18(27)>], ["count", 412], ["created_at", 2017-03-22 22:06:02 UTC], ["updated_at", 2017-03-22 22:06:02 UTC], ["category_id", 4], ["dimension", "{\"h\":8.1,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 4]]
  [1m[35m (11.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "American Pickpocket"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.4ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "American Pickpocket"], ["desc", "Et similique in quis consequuntur qui pariatur omnis. Ut asperiores vel odio molestiae. Est a amet et laboriosam autem natus vel iure. Est necessitatibus rerum ut aut ipsa aperiam maxime. Sed cupiditate modi impedit natus sequi voluptate."], ["price", #<BigDecimal:5e34158,'0.1462E2',18(27)>], ["count", 368], ["created_at", 2017-03-22 22:06:02 UTC], ["updated_at", 2017-03-22 22:06:02 UTC], ["category_id", 4], ["dimension", "{\"h\":9.2,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 4]]
  [1m[35m (10.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Legend of Ultra Diaries"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.7ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Legend of Ultra Diaries"], ["desc", "Reiciendis enim ipsa et rerum quo voluptatem. Ducimus odit ea aut delectus. Odit iure dolores qui voluptates ratione qui."], ["price", #<BigDecimal:5dbbc80,'0.1698E2',18(27)>], ["count", 119], ["created_at", 2017-03-22 22:06:02 UTC], ["updated_at", 2017-03-22 22:06:02 UTC], ["category_id", 4], ["dimension", "{\"h\":5.5,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 4]]
  [1m[35m (11.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Hungry World"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Hungry World"], ["desc", "Nemo ad rerum recusandae est ipsa. Repellat incidunt repudiandae eum veniam rerum. Numquam quia impedit quibusdam id odio beatae rerum. Vitae velit voluptatem doloribus qui sed suscipit impedit commodi."], ["price", #<BigDecimal:5d34e38,'0.1907E2',18(27)>], ["count", 432], ["created_at", 2017-03-22 22:06:02 UTC], ["updated_at", 2017-03-22 22:06:02 UTC], ["category_id", 4], ["dimension", "{\"h\":6.3,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 4]]
  [1m[35m (60.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Day of the Flying City"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Day of the Flying City"], ["desc", "Modi velit excepturi est dolore similique ut aut. Ut blanditiis quo nam ipsam dolor. Voluptatem animi esse ratione est ut. Excepturi quam ducimus similique corrupti expedita sequi nihil. Repellendus explicabo beatae eius et ducimus et."], ["price", #<BigDecimal:5ca83e8,'0.1861E2',18(27)>], ["count", 340], ["created_at", 2017-03-22 22:06:02 UTC], ["updated_at", 2017-03-22 22:06:02 UTC], ["category_id", 4], ["dimension", "{\"h\":5.5,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 4]]
  [1m[35m (12.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Invasion of the Ultra Pickpocket"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Invasion of the Ultra Pickpocket"], ["desc", "Asperiores corporis harum vel qui occaecati consectetur eveniet a. Qui ipsam est aut facere. Doloremque nihil quia alias doloribus praesentium. Et sunt dolore et dolor. Ratione vitae laboriosam quia modi porro."], ["price", #<BigDecimal:5bf27a0,'0.1281E2',18(27)>], ["count", 213], ["created_at", 2017-03-22 22:06:02 UTC], ["updated_at", 2017-03-22 22:06:02 UTC], ["category_id", 4], ["dimension", "{\"h\":7.1,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 4]]
  [1m[35m (6.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Case of the Missing Forbidden Cousins"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Case of the Missing Forbidden Cousins"], ["desc", "Consequatur maiores eveniet ea autem non ea enim. Aut unde aspernatur ea molestiae quaerat ut. Tempora aliquid voluptas dolorem occaecati. Ex aut rem cupiditate ipsa. Sed rerum aut alias officiis."], ["price", #<BigDecimal:5b77960,'0.1662E2',18(27)>], ["count", 128], ["created_at", 2017-03-22 22:06:02 UTC], ["updated_at", 2017-03-22 22:06:02 UTC], ["category_id", 4], ["dimension", "{\"h\":6.9,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 4]]
  [1m[35m (7.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Day of the Nuclear Mutant"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Day of the Nuclear Mutant"], ["desc", "Totam vel voluptas assumenda perferendis ipsum corporis consequatur explicabo. Iusto fugit soluta qui et. Eos nihil neque officia incidunt eveniet. Minima ut sit molestias veniam."], ["price", #<BigDecimal:5b00d10,'0.1803E2',18(27)>], ["count", 398], ["created_at", 2017-03-22 22:06:02 UTC], ["updated_at", 2017-03-22 22:06:02 UTC], ["category_id", 5], ["dimension", "{\"h\":7.9,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 5]]
  [1m[35m (7.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "I Married a Hungry Women"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "I Married a Hungry Women"], ["desc", "Velit occaecati iste sunt dignissimos voluptatem minus. Nulla ex quia quibusdam cumque et perferendis dignissimos. Temporibus ex quia magnam minima sapiente consequatur."], ["price", #<BigDecimal:5a945e8,'0.1124E2',18(27)>], ["count", 356], ["created_at", 2017-03-22 22:06:02 UTC], ["updated_at", 2017-03-22 22:06:02 UTC], ["category_id", 5], ["dimension", "{\"h\":9.4,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 5]]
  [1m[35m (8.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "I Married a Action Witch"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "I Married a Action Witch"], ["desc", "Labore repudiandae aut molestias est non dolor eum commodi. Mollitia iure accusantium explicabo earum similique dignissimos aut temporibus. Libero vel aut consequatur commodi nesciunt consectetur. Aut ut aut mollitia amet et. Odio voluptas quia dolorem hic eos."], ["price", #<BigDecimal:5a15928,'0.1539E2',18(27)>], ["count", 418], ["created_at", 2017-03-22 22:06:02 UTC], ["updated_at", 2017-03-22 22:06:02 UTC], ["category_id", 5], ["dimension", "{\"h\":7.2,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 5]]
  [1m[35m (9.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Flying Diaries"], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Flying Diaries"], ["desc", "Architecto quia optio ipsam esse quia vel doloremque. Officiis aut voluptates enim quia tempora illum et id. Dolorem sint earum qui mollitia."], ["price", #<BigDecimal:5996d58,'0.1639E2',18(27)>], ["count", 114], ["created_at", 2017-03-22 22:06:02 UTC], ["updated_at", 2017-03-22 22:06:02 UTC], ["category_id", 5], ["dimension", "{\"h\":6.6,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 5]]
  [1m[35m (9.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "The Red Tentacle"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "The Red Tentacle"], ["desc", "Dolore molestiae qui aperiam ut voluptatem officiis amet molestias. Ipsam quod et est explicabo. Id dolor quasi adipisci vel mollitia nesciunt."], ["price", #<BigDecimal:5932498,'0.1459E2',18(27)>], ["count", 141], ["created_at", 2017-03-22 22:06:02 UTC], ["updated_at", 2017-03-22 22:06:02 UTC], ["category_id", 5], ["dimension", "{\"h\":8.2,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 5]]
  [1m[35m (10.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Ultra Demon"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Ultra Demon"], ["desc", "Est sed cupiditate a culpa at. Pariatur doloremque molestias ea omnis ipsam. Id dolorem ipsum ipsam cupiditate at molestias quasi. Natus mollitia vero ab dolor minima consequatur. Sit omnis iste veniam aut."], ["price", #<BigDecimal:58b8f08,'0.1763E2',18(27)>], ["count", 186], ["created_at", 2017-03-22 22:06:02 UTC], ["updated_at", 2017-03-22 22:06:02 UTC], ["category_id", 5], ["dimension", "{\"h\":7.3,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 5]]
  [1m[35m (10.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."title" = $1 LIMIT $2[0m  [["title", "Champagne Women"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "books" ("title", "desc", "price", "count", "created_at", "updated_at", "category_id", "dimension") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Champagne Women"], ["desc", "Esse perspiciatis eaque quia sed rerum nihil maiores repellat. Saepe est ab odio ad. Qui quisquam modi possimus exercitationem. Dolorem non commodi perferendis molestiae."], ["price", #<BigDecimal:584fcb0,'0.1589E2',18(27)>], ["count", 451], ["created_at", 2017-03-22 22:06:02 UTC], ["updated_at", 2017-03-22 22:06:02 UTC], ["category_id", 5], ["dimension", "{\"h\":5.0,\"w\":4.4,\"d\":10.0}"]]
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "categories" SET "books_count" = COALESCE("books_count", 0) + 1 WHERE "categories"."id" = $1[0m  [["id", 5]]
  [1m[35m (10.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.8ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" WHERE "materials"."name" = $1 LIMIT $2[0m  [["name", "glossy paper"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 LIMIT $2[0m  [["name", "glossy paper"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "materials" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "glossy paper"], ["created_at", 2017-03-22 22:06:02 UTC], ["updated_at", 2017-03-22 22:06:02 UTC]]
  [1m[35m (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.6ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" WHERE "materials"."name" = $1 LIMIT $2[0m  [["name", "wood"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 LIMIT $2[0m  [["name", "wood"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "materials" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "wood"], ["created_at", 2017-03-22 22:06:02 UTC], ["updated_at", 2017-03-22 22:06:02 UTC]]
  [1m[35m (4.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.5ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" WHERE "materials"."name" = $1 LIMIT $2[0m  [["name", "textile"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 LIMIT $2[0m  [["name", "textile"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "materials" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "textile"], ["created_at", 2017-03-22 22:06:02 UTC], ["updated_at", 2017-03-22 22:06:02 UTC]]
  [1m[35m (4.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.5ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" WHERE "materials"."name" = $1 LIMIT $2[0m  [["name", "glass"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 LIMIT $2[0m  [["name", "glass"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "materials" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "glass"], ["created_at", 2017-03-22 22:06:02 UTC], ["updated_at", 2017-03-22 22:06:02 UTC]]
  [1m[35m (5.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mBook Load (1.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" ORDER BY "books"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Dalene"], ["id", 19], ["last_name", "Torphy"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 1]]
  [1m[36mAuthor Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 1]]
  [1m[35m (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.5ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mMaterial Load (0.7ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 1], ["material_id", 4]]
  [1m[35m (7.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mAuthor Load (1.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Roland"], ["id", 18], ["last_name", "Klein"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 18], ["book_id", 2]]
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Dalene"], ["id", 19], ["last_name", "Torphy"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 2]]
  [1m[36mAuthor Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 2]]
  [1m[35m (3.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.4ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mMaterial Load (0.6ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "wood"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 2], ["material_id", 2]]
  [1m[36mMaterial Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 2], ["material_id", 3]]
  [1m[36mMaterial Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 2], ["material_id", 4]]
  [1m[35m (10.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Roland"], ["id", 18], ["last_name", "Klein"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 18], ["book_id", 3]]
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Dalene"], ["id", 19], ["last_name", "Torphy"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 3]]
  [1m[36mAuthor Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 3]]
  [1m[35m (8.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.4ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mMaterial Load (0.5ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 3]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 3], ["material_id", 3]]
  [1m[36mMaterial Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 3], ["material_id", 4]]
  [1m[35m (4.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 4]]
  [1m[35m (12.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.7ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mMaterial Load (0.8ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 4]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 4], ["material_id", 3]]
  [1m[36mMaterial Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 4], ["material_id", 4]]
  [1m[35m (12.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mAuthor Load (0.8ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 5]]
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 5]]
  [1m[35m (5.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.6ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mMaterial Load (0.7ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 5]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 5], ["material_id", 3]]
  [1m[36mMaterial Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 5], ["material_id", 4]]
  [1m[35m (8.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 6]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 6]]
  [1m[35m (8.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.5ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mMaterial Load (0.7ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 6]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 6], ["material_id", 3]]
  [1m[36mMaterial Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 6], ["material_id", 4]]
  [1m[35m (11.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 7]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Roland"], ["id", 18], ["last_name", "Klein"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 18], ["book_id", 7]]
  [1m[36mAuthor Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Dalene"], ["id", 19], ["last_name", "Torphy"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 7]]
  [1m[36mAuthor Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 7]]
  [1m[35m (13.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.6ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mMaterial Load (0.4ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 7]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "wood"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 7], ["material_id", 2]]
  [1m[36mMaterial Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 7], ["material_id", 3]]
  [1m[36mMaterial Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 7], ["material_id", 4]]
  [1m[35m (5.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 8]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 8]]
  [1m[35m (9.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.6ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mMaterial Load (0.4ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 8]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 8], ["material_id", 4]]
  [1m[35m (8.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 9]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Roland"], ["id", 18], ["last_name", "Klein"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 18], ["book_id", 9]]
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Dalene"], ["id", 19], ["last_name", "Torphy"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 9]]
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 9]]
  [1m[35m (7.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.4ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mMaterial Load (0.8ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 9]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 9], ["material_id", 4]]
  [1m[35m (8.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 10]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 10]]
  [1m[35m (10.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.5ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mMaterial Load (0.5ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 10]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "wood"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 10], ["material_id", 2]]
  [1m[36mMaterial Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 10], ["material_id", 3]]
  [1m[36mMaterial Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 10], ["material_id", 4]]
  [1m[35m (7.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 11]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Roland"], ["id", 18], ["last_name", "Klein"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 18], ["book_id", 11]]
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Dalene"], ["id", 19], ["last_name", "Torphy"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 11]]
  [1m[36mAuthor Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 11]]
  [1m[35m (7.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.5ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mMaterial Load (0.4ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 11]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "wood"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 11], ["material_id", 2]]
  [1m[36mMaterial Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 11], ["material_id", 3]]
  [1m[36mMaterial Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 11], ["material_id", 4]]
  [1m[35m (8.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 12]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 12]]
  [1m[35m (10.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.4ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mMaterial Load (0.4ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 12]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 12], ["material_id", 3]]
  [1m[36mMaterial Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 12], ["material_id", 4]]
  [1m[35m (4.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 13]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Dalene"], ["id", 19], ["last_name", "Torphy"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 13]]
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 13]]
  [1m[35m (3.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.8ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mMaterial Load (0.7ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 13]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "wood"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 13], ["material_id", 2]]
  [1m[36mMaterial Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 13], ["material_id", 3]]
  [1m[36mMaterial Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 13], ["material_id", 4]]
  [1m[35m (8.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 14]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Dalene"], ["id", 19], ["last_name", "Torphy"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 14]]
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 14]]
  [1m[35m (4.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.5ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mMaterial Load (0.4ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 14]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "wood"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 14], ["material_id", 2]]
  [1m[36mMaterial Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 14], ["material_id", 3]]
  [1m[36mMaterial Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 14], ["material_id", 4]]
  [1m[35m (10.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 15]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Dalene"], ["id", 19], ["last_name", "Torphy"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 15]]
  [1m[36mAuthor Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 15]]
  [1m[35m (4.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.4ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mMaterial Load (0.3ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 15]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 15], ["material_id", 4]]
  [1m[35m (11.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 16]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Dalene"], ["id", 19], ["last_name", "Torphy"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 16]]
  [1m[36mAuthor Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 16]]
  [1m[35m (13.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.6ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mMaterial Load (0.6ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 16]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 16], ["material_id", 3]]
  [1m[36mMaterial Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 16], ["material_id", 4]]
  [1m[35m (4.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.8ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 17]]
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Roland"], ["id", 18], ["last_name", "Klein"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 18], ["book_id", 17]]
  [1m[36mAuthor Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Dalene"], ["id", 19], ["last_name", "Torphy"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 17]]
  [1m[36mAuthor Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 17]]
  [1m[35m (6.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.7ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mMaterial Load (1.4ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 17]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "wood"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 17], ["material_id", 2]]
  [1m[36mMaterial Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 17], ["material_id", 3]]
  [1m[36mMaterial Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 17], ["material_id", 4]]
  [1m[35m (11.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 18]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 18]]
  [1m[35m (8.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.5ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mMaterial Load (0.4ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 18]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "wood"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 18], ["material_id", 2]]
  [1m[36mMaterial Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 18], ["material_id", 3]]
  [1m[36mMaterial Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 18], ["material_id", 4]]
  [1m[35m (5.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 19]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Roland"], ["id", 18], ["last_name", "Klein"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 18], ["book_id", 19]]
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Dalene"], ["id", 19], ["last_name", "Torphy"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 19]]
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 19]]
  [1m[35m (5.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.8ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mMaterial Load (0.7ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 19]]
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 19], ["material_id", 4]]
  [1m[35m (14.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 20]]
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 20]]
  [1m[35m (5.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.7ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mMaterial Load (0.7ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 20]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "wood"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 20], ["material_id", 2]]
  [1m[36mMaterial Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 20], ["material_id", 3]]
  [1m[36mMaterial Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 20], ["material_id", 4]]
  [1m[35m (12.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.9ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 21]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Roland"], ["id", 18], ["last_name", "Klein"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 18], ["book_id", 21]]
  [1m[36mAuthor Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Dalene"], ["id", 19], ["last_name", "Torphy"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 21]]
  [1m[36mAuthor Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 21]]
  [1m[35m (10.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.6ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mMaterial Load (0.5ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 21]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "wood"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 21], ["material_id", 2]]
  [1m[36mMaterial Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 21], ["material_id", 3]]
  [1m[36mMaterial Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 21], ["material_id", 4]]
  [1m[35m (4.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 22]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 22]]
  [1m[35m (9.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.5ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mMaterial Load (0.4ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 22]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "wood"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 22], ["material_id", 2]]
  [1m[36mMaterial Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 22], ["material_id", 3]]
  [1m[36mMaterial Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 22], ["material_id", 4]]
  [1m[35m (6.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 23]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 23]]
  [1m[35m (8.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.8ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mMaterial Load (0.6ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 23]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 23], ["material_id", 3]]
  [1m[36mMaterial Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 23], ["material_id", 4]]
  [1m[35m (11.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 24]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Roland"], ["id", 18], ["last_name", "Klein"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 18], ["book_id", 24]]
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Dalene"], ["id", 19], ["last_name", "Torphy"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 24]]
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 24]]
  [1m[35m (7.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.5ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mMaterial Load (0.4ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 24]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 24], ["material_id", 3]]
  [1m[36mMaterial Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 24], ["material_id", 4]]
  [1m[35m (13.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 25]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Dalene"], ["id", 19], ["last_name", "Torphy"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 25]]
  [1m[36mAuthor Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 25]]
  [1m[35m (13.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.4ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mMaterial Load (0.4ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 25]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "wood"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 25], ["material_id", 2]]
  [1m[36mMaterial Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 25], ["material_id", 3]]
  [1m[36mMaterial Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 25], ["material_id", 4]]
  [1m[35m (10.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 26]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 26]]
  [1m[35m (11.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.4ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mMaterial Load (0.4ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 26]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 26], ["material_id", 4]]
  [1m[35m (44.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 27]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 27]]
  [1m[35m (11.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.4ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mMaterial Load (0.4ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 27]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 27], ["material_id", 4]]
  [1m[35m (11.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 28]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Dalene"], ["id", 19], ["last_name", "Torphy"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 28]]
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 28]]
  [1m[35m (4.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.4ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mMaterial Load (0.3ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 28]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 28], ["material_id", 3]]
  [1m[36mMaterial Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 28], ["material_id", 4]]
  [1m[35m (5.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 29]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Dalene"], ["id", 19], ["last_name", "Torphy"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 29]]
  [1m[36mAuthor Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 29]]
  [1m[35m (5.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.4ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mMaterial Load (0.4ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 29]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "wood"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 29], ["material_id", 2]]
  [1m[36mMaterial Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 29], ["material_id", 3]]
  [1m[36mMaterial Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 29], ["material_id", 4]]
  [1m[35m (10.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 30]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 30]]
  [1m[35m (11.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.5ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mMaterial Load (0.4ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 30]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 30], ["material_id", 4]]
  [1m[35m (11.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 31]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 31]]
  [1m[35m (11.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.5ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mMaterial Load (0.4ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 31]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "wood"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 31], ["material_id", 2]]
  [1m[36mMaterial Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 31], ["material_id", 3]]
  [1m[36mMaterial Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 31], ["material_id", 4]]
  [1m[35m (6.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 32]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Dalene"], ["id", 19], ["last_name", "Torphy"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 32]]
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 32]]
  [1m[35m (9.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.5ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mMaterial Load (0.4ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 32]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 32], ["material_id", 3]]
  [1m[36mMaterial Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 32], ["material_id", 4]]
  [1m[35m (12.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 33]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 33]]
  [1m[35m (9.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.5ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mMaterial Load (0.4ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 33]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "wood"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 33], ["material_id", 2]]
  [1m[36mMaterial Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 33], ["material_id", 3]]
  [1m[36mMaterial Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 33], ["material_id", 4]]
  [1m[35m (48.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (1.0ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 34]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 34]]
  [1m[35m (13.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.7ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mMaterial Load (0.6ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 34]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 34], ["material_id", 4]]
  [1m[35m (3.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 35]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Roland"], ["id", 18], ["last_name", "Klein"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 18], ["book_id", 35]]
  [1m[36mAuthor Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Dalene"], ["id", 19], ["last_name", "Torphy"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 35]]
  [1m[36mAuthor Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 35]]
  [1m[35m (6.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.5ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mMaterial Load (0.5ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 35]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "wood"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 35], ["material_id", 2]]
  [1m[36mMaterial Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 35], ["material_id", 3]]
  [1m[36mMaterial Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 35], ["material_id", 4]]
  [1m[35m (12.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 36]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Dalene"], ["id", 19], ["last_name", "Torphy"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 36]]
  [1m[36mAuthor Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 36]]
  [1m[35m (10.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.5ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mMaterial Load (0.5ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 36]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "wood"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 36], ["material_id", 2]]
  [1m[36mMaterial Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 36], ["material_id", 3]]
  [1m[36mMaterial Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 36], ["material_id", 4]]
  [1m[35m (5.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 37]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 37]]
  [1m[35m (9.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.7ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mMaterial Load (0.4ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 37]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 37], ["material_id", 4]]
  [1m[35m (9.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 38]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Dalene"], ["id", 19], ["last_name", "Torphy"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 38]]
  [1m[36mAuthor Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 38]]
  [1m[35m (9.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.9ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mMaterial Load (0.7ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 38]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 38], ["material_id", 3]]
  [1m[36mMaterial Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 38], ["material_id", 4]]
  [1m[35m (5.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 39]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Roland"], ["id", 18], ["last_name", "Klein"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 18], ["book_id", 39]]
  [1m[36mAuthor Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Dalene"], ["id", 19], ["last_name", "Torphy"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 39]]
  [1m[36mAuthor Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 39]]
  [1m[35m (4.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.7ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mMaterial Load (0.6ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 39]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 39], ["material_id", 3]]
  [1m[36mMaterial Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 39], ["material_id", 4]]
  [1m[35m (7.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 40]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Roland"], ["id", 18], ["last_name", "Klein"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 18], ["book_id", 40]]
  [1m[36mAuthor Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Dalene"], ["id", 19], ["last_name", "Torphy"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 40]]
  [1m[36mAuthor Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 40]]
  [1m[35m (12.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.6ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mMaterial Load (0.6ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 40]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 40], ["material_id", 3]]
  [1m[36mMaterial Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 40], ["material_id", 4]]
  [1m[35m (12.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 41]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Dalene"], ["id", 19], ["last_name", "Torphy"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 41]]
  [1m[36mAuthor Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 41]]
  [1m[35m (5.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.6ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mMaterial Load (0.5ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 41]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "wood"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 41], ["material_id", 2]]
  [1m[36mMaterial Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (1.4ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 41], ["material_id", 3]]
  [1m[36mMaterial Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 41], ["material_id", 4]]
  [1m[35m (8.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 42]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Dalene"], ["id", 19], ["last_name", "Torphy"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 42]]
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 42]]
  [1m[35m (10.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.5ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mMaterial Load (0.4ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 42]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 42], ["material_id", 3]]
  [1m[36mMaterial Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 42], ["material_id", 4]]
  [1m[35m (4.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 43]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 43]]
  [1m[35m (7.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.5ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mMaterial Load (0.4ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 43]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "wood"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 43], ["material_id", 2]]
  [1m[36mMaterial Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 43], ["material_id", 3]]
  [1m[36mMaterial Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 43], ["material_id", 4]]
  [1m[35m (8.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 44]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 44]]
  [1m[35m (10.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.4ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mMaterial Load (0.4ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 44]]
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 44], ["material_id", 4]]
  [1m[35m (10.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 45]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 45]]
  [1m[35m (11.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.4ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mMaterial Load (0.4ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 45]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "wood"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 45], ["material_id", 2]]
  [1m[36mMaterial Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 45], ["material_id", 3]]
  [1m[36mMaterial Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 45], ["material_id", 4]]
  [1m[35m (13.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 46]]
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 46]]
  [1m[35m (5.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.8ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mMaterial Load (0.5ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 46]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 46], ["material_id", 3]]
  [1m[36mMaterial Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 46], ["material_id", 4]]
  [1m[35m (10.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 47]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 47]]
  [1m[35m (7.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.5ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mMaterial Load (0.4ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 47]]
  [1m[35m (1.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 47], ["material_id", 4]]
  [1m[35m (6.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 48]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Roland"], ["id", 18], ["last_name", "Klein"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 18], ["book_id", 48]]
  [1m[36mAuthor Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Dalene"], ["id", 19], ["last_name", "Torphy"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 48]]
  [1m[36mAuthor Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 48]]
  [1m[35m (10.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.8ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mMaterial Load (0.6ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 48]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "wood"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 48], ["material_id", 2]]
  [1m[36mMaterial Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 48], ["material_id", 3]]
  [1m[36mMaterial Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 48], ["material_id", 4]]
  [1m[35m (32.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 49]]
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 49]]
  [1m[35m (32.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.9ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mMaterial Load (0.8ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 49]]
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 49], ["material_id", 4]]
  [1m[35m (21.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.8ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 50]]
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Roland"], ["id", 18], ["last_name", "Klein"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 18], ["book_id", 50]]
  [1m[36mAuthor Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Dalene"], ["id", 19], ["last_name", "Torphy"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 50]]
  [1m[36mAuthor Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 50]]
  [1m[35m (18.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.8ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mMaterial Load (0.7ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 50]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 50], ["material_id", 3]]
  [1m[36mMaterial Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 50], ["material_id", 4]]
  [1m[35m (4.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 51]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Dalene"], ["id", 19], ["last_name", "Torphy"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 51]]
  [1m[36mAuthor Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 51]]
  [1m[35m (28.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.9ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mMaterial Load (0.7ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 51]]
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "wood"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 51], ["material_id", 2]]
  [1m[36mMaterial Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 51], ["material_id", 3]]
  [1m[36mMaterial Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 51], ["material_id", 4]]
  [1m[35m (20.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.8ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 52]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 52]]
  [1m[35m (3.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.6ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mMaterial Load (0.5ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 52]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "wood"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 52], ["material_id", 2]]
  [1m[36mMaterial Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 52], ["material_id", 3]]
  [1m[36mMaterial Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 52], ["material_id", 4]]
  [1m[35m (10.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 53]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Roland"], ["id", 18], ["last_name", "Klein"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 18], ["book_id", 53]]
  [1m[36mAuthor Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Dalene"], ["id", 19], ["last_name", "Torphy"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 53]]
  [1m[36mAuthor Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 53]]
  [1m[35m (11.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.5ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mMaterial Load (0.4ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 53]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 53], ["material_id", 3]]
  [1m[36mMaterial Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 53], ["material_id", 4]]
  [1m[35m (12.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 54]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Dalene"], ["id", 19], ["last_name", "Torphy"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 54]]
  [1m[36mAuthor Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 54]]
  [1m[35m (9.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.5ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mMaterial Load (0.5ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 54]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "wood"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 54], ["material_id", 2]]
  [1m[36mMaterial Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 54], ["material_id", 3]]
  [1m[36mMaterial Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 54], ["material_id", 4]]
  [1m[35m (25.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 55]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (2.5ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Roland"], ["id", 18], ["last_name", "Klein"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 18], ["book_id", 55]]
  [1m[36mAuthor Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Dalene"], ["id", 19], ["last_name", "Torphy"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 55]]
  [1m[36mAuthor Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 55]]
  [1m[35m (3.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.5ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mMaterial Load (0.4ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 55]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 55], ["material_id", 4]]
  [1m[35m (11.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 56]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Roland"], ["id", 18], ["last_name", "Klein"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 18], ["book_id", 56]]
  [1m[36mAuthor Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Dalene"], ["id", 19], ["last_name", "Torphy"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 56]]
  [1m[36mAuthor Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 56]]
  [1m[35m (9.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.4ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mMaterial Load (0.4ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 56]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 56], ["material_id", 3]]
  [1m[36mMaterial Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 56], ["material_id", 4]]
  [1m[35m (5.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 57]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 57]]
  [1m[35m (11.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.4ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mMaterial Load (0.4ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 57]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 57], ["material_id", 3]]
  [1m[36mMaterial Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 57], ["material_id", 4]]
  [1m[35m (5.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 58]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Roland"], ["id", 18], ["last_name", "Klein"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 18], ["book_id", 58]]
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Dalene"], ["id", 19], ["last_name", "Torphy"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 58]]
  [1m[36mAuthor Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 58]]
  [1m[35m (9.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.4ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mMaterial Load (0.4ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 58]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "wood"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 58], ["material_id", 2]]
  [1m[36mMaterial Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 58], ["material_id", 3]]
  [1m[36mMaterial Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 58], ["material_id", 4]]
  [1m[35m (10.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 59]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Roland"], ["id", 18], ["last_name", "Klein"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 18], ["book_id", 59]]
  [1m[36mAuthor Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Dalene"], ["id", 19], ["last_name", "Torphy"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 59]]
  [1m[36mAuthor Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 59]]
  [1m[35m (9.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.4ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mMaterial Load (0.4ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 59]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 59], ["material_id", 3]]
  [1m[36mMaterial Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 59], ["material_id", 4]]
  [1m[35m (5.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.8ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 60]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Dalene"], ["id", 19], ["last_name", "Torphy"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 60]]
  [1m[36mAuthor Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 60]]
  [1m[35m (12.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.8ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mMaterial Load (0.7ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 60]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "wood"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 60], ["material_id", 2]]
  [1m[36mMaterial Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 60], ["material_id", 3]]
  [1m[36mMaterial Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 60], ["material_id", 4]]
  [1m[35m (14.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 61]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Roland"], ["id", 18], ["last_name", "Klein"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 18], ["book_id", 61]]
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Dalene"], ["id", 19], ["last_name", "Torphy"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 61]]
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 61]]
  [1m[35m (4.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.4ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mMaterial Load (0.4ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 61]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "wood"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 61], ["material_id", 2]]
  [1m[36mMaterial Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 61], ["material_id", 3]]
  [1m[36mMaterial Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 61], ["material_id", 4]]
  [1m[35m (8.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 62]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Dalene"], ["id", 19], ["last_name", "Torphy"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 62]]
  [1m[36mAuthor Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 62]]
  [1m[35m (12.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.5ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mMaterial Load (0.5ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 62]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 62], ["material_id", 4]]
  [1m[35m (9.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 63]]
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 63]]
  [1m[35m (9.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.5ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mMaterial Load (0.4ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 63]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 63], ["material_id", 3]]
  [1m[36mMaterial Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 63], ["material_id", 4]]
  [1m[35m (11.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.8ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 64]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 64]]
  [1m[35m (9.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.7ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mMaterial Load (0.5ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 64]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 64], ["material_id", 3]]
  [1m[36mMaterial Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 64], ["material_id", 4]]
  [1m[35m (12.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 65]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Roland"], ["id", 18], ["last_name", "Klein"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 18], ["book_id", 65]]
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Dalene"], ["id", 19], ["last_name", "Torphy"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 65]]
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 65]]
  [1m[35m (5.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.5ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mMaterial Load (0.4ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 65]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "wood"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 65], ["material_id", 2]]
  [1m[36mMaterial Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 65], ["material_id", 3]]
  [1m[36mMaterial Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 65], ["material_id", 4]]
  [1m[35m (7.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 66]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Roland"], ["id", 18], ["last_name", "Klein"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 18], ["book_id", 66]]
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Dalene"], ["id", 19], ["last_name", "Torphy"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 66]]
  [1m[36mAuthor Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 66]]
  [1m[35m (3.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.8ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mMaterial Load (0.4ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 66]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 66], ["material_id", 3]]
  [1m[36mMaterial Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 66], ["material_id", 4]]
  [1m[35m (10.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 67]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Roland"], ["id", 18], ["last_name", "Klein"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 18], ["book_id", 67]]
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Dalene"], ["id", 19], ["last_name", "Torphy"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 67]]
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 67]]
  [1m[35m (6.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.5ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mMaterial Load (0.4ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 67]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 67], ["material_id", 4]]
  [1m[35m (10.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 68]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Dalene"], ["id", 19], ["last_name", "Torphy"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 68]]
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 68]]
  [1m[35m (12.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.6ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mMaterial Load (0.7ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 68]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (2.2ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 68], ["material_id", 4]]
  [1m[35m (7.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 69]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Dalene"], ["id", 19], ["last_name", "Torphy"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 69]]
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 69]]
  [1m[35m (11.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.5ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mMaterial Load (0.4ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 69]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 69], ["material_id", 4]]
  [1m[35m (9.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 70]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Dalene"], ["id", 19], ["last_name", "Torphy"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 19], ["book_id", 70]]
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "authors_books" ("author_id", "book_id") VALUES ($1, $2)[0m  [["author_id", 20], ["book_id", 70]]
  [1m[35m (13.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMaterial Load (0.6ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 2]]
  [1m[36mMaterial Load (0.4ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 70]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMaterial Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "textile"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 70], ["material_id", 3]]
  [1m[36mMaterial Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "materials" WHERE "materials"."name" = $1 AND ("materials"."id" != $2) LIMIT $3[0m  [["name", "glass"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "books_materials" ("book_id", "material_id") VALUES ($1, $2)[0m  [["book_id", 70], ["material_id", 4]]
  [1m[35m (13.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCountry Load (0.6ms)[0m  [1m[34mSELECT  "countries".* FROM "countries" WHERE "countries"."name" = $1 AND "countries"."code" = $2 LIMIT $3[0m  [["name", :Ukraine], ["code", "380"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at", "code") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ukraine"], ["created_at", 2017-03-22 22:06:07 UTC], ["updated_at", 2017-03-22 22:06:07 UTC], ["code", "380"]]
  [1m[35m (11.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCountry Load (0.5ms)[0m  [1m[34mSELECT  "countries".* FROM "countries" WHERE "countries"."name" = $1 AND "countries"."code" = $2 LIMIT $3[0m  [["name", :Russia], ["code", "230"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at", "code") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Russia"], ["created_at", 2017-03-22 22:06:07 UTC], ["updated_at", 2017-03-22 22:06:07 UTC], ["code", "230"]]
  [1m[35m (6.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCountry Load (0.6ms)[0m  [1m[34mSELECT  "countries".* FROM "countries" ORDER BY "countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[36mDelivery Load (0.6ms)[0m  [1m[34mSELECT  "deliveries".* FROM "deliveries" WHERE "deliveries"."name" = $1 LIMIT $2[0m  [["name", "UkraineStandart"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDelivery Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "deliveries" WHERE "deliveries"."name" = $1 AND "deliveries"."country_id" = 1 LIMIT $2[0m  [["name", "UkraineStandart"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "deliveries" ("name", "price", "min_days", "max_days", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "UkraineStandart"], ["price", #<BigDecimal:98ad3e8,'0.81E2',9(18)>], ["min_days", 6], ["max_days", 20], ["country_id", 1], ["created_at", 2017-03-22 22:06:07 UTC], ["updated_at", 2017-03-22 22:06:07 UTC]]
  [1m[35m (10.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mDelivery Load (0.4ms)[0m  [1m[34mSELECT  "deliveries".* FROM "deliveries" WHERE "deliveries"."name" = $1 LIMIT $2[0m  [["name", "UkraineExpress"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDelivery Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "deliveries" WHERE "deliveries"."name" = $1 AND "deliveries"."country_id" = 1 LIMIT $2[0m  [["name", "UkraineExpress"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "deliveries" ("name", "price", "min_days", "max_days", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "UkraineExpress"], ["price", #<BigDecimal:98cee30,'0.85E2',9(18)>], ["min_days", 5], ["max_days", 19], ["country_id", 1], ["created_at", 2017-03-22 22:06:07 UTC], ["updated_at", 2017-03-22 22:06:07 UTC]]
  [1m[35m (4.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mDelivery Load (0.5ms)[0m  [1m[34mSELECT  "deliveries".* FROM "deliveries" WHERE "deliveries"."name" = $1 LIMIT $2[0m  [["name", "RussiaStandart"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDelivery Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "deliveries" WHERE "deliveries"."name" = $1 AND "deliveries"."country_id" = 2 LIMIT $2[0m  [["name", "RussiaStandart"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "deliveries" ("name", "price", "min_days", "max_days", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "RussiaStandart"], ["price", #<BigDecimal:98e5f68,'0.85E2',9(18)>], ["min_days", 8], ["max_days", 19], ["country_id", 2], ["created_at", 2017-03-22 22:06:07 UTC], ["updated_at", 2017-03-22 22:06:07 UTC]]
  [1m[35m (4.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mDelivery Load (0.5ms)[0m  [1m[34mSELECT  "deliveries".* FROM "deliveries" WHERE "deliveries"."name" = $1 LIMIT $2[0m  [["name", "RussiaExpress"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDelivery Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "deliveries" WHERE "deliveries"."name" = $1 AND "deliveries"."country_id" = 2 LIMIT $2[0m  [["name", "RussiaExpress"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "deliveries" ("name", "price", "min_days", "max_days", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "RussiaExpress"], ["price", #<BigDecimal:98fd0a0,'0.5E2',9(18)>], ["min_days", 6], ["max_days", 16], ["country_id", 2], ["created_at", 2017-03-22 22:06:07 UTC], ["updated_at", 2017-03-22 22:06:07 UTC]]
  [1m[35m (4.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "yaroslav555@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "yaroslav555@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "admin", "confirmation_token", "confirmation_sent_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "yaroslav555@gmail.com"], ["encrypted_password", "$2a$11$QDOYJJQM8rMqQaNs1NarReR158m/2IyFkxtk4gGC4bwyAm7WKd7tu"], ["created_at", 2017-03-22 22:06:08 UTC], ["updated_at", 2017-03-22 22:06:08 UTC], ["admin", true], ["confirmation_token", "Lh8FxxUs3heGQ5L4H6kH"], ["confirmation_sent_at", 2017-03-22 22:06:08 UTC]]
  [1m[35m (6.1ms)[0m  [1m[35mCOMMIT[0m
  Rendering devise/mailer/confirmation_instructions.html.erb
  Rendered devise/mailer/confirmation_instructions.html.erb (47.1ms)
Devise::Mailer#confirmation_instructions: processed outbound mail in 1308.7ms
Sent mail to yaroslav555@gmail.com (106.0ms)
Date: Thu, 23 Mar 2017 00:06:10 +0200
From: amazon555@gmail.com
Reply-To: amazon555@gmail.com
To: yaroslav555@gmail.com
Message-ID: <58d2f5522b5a7_1aeea3d0cc96226@anton-Lenovo-G570.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome yaroslav555@gmail.com!</p>

<p>You can confirm your account email through the link below:</p>

<p><a href="http://localhost:3000/confirmation?confirmation_token=Lh8FxxUs3heGQ5L4H6kH">Confirm my account</a></p>

  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[36mCreditCard Load (0.7ms)[0m  [1m[34mSELECT  "credit_cards".* FROM "credit_cards" WHERE "credit_cards"."number" = $1 AND "credit_cards"."user_id" = 1 LIMIT $2[0m  [["number", "5274576394259961"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "credit_cards" ("number", "cvv", "created_at", "updated_at", "user_id", "name", "month_year") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["number", "5274576394259961"], ["cvv", "123"], ["created_at", 2017-03-22 22:06:10 UTC], ["updated_at", 2017-03-22 22:06:10 UTC], ["user_id", 1], ["name", "Argelia"], ["month_year", "12/17"]]
  [1m[35m (86.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "countries"[0m
  [1m[36mCountry Load (0.7ms)[0m  [1m[34mSELECT  "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "addresses" ("first_name", "last_name", "name", "country_id", "city", "zip", "phone", "created_at", "updated_at", "address_type") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["first_name", "Chanel"], ["last_name", "Pfannerstill"], ["name", "Shantelle Manors"], ["country_id", 1], ["city", "Dnepr"], ["zip", "49000"], ["phone", "+380632863823"], ["created_at", 2017-03-22 22:06:10 UTC], ["updated_at", 2017-03-22 22:06:10 UTC], ["address_type", 1]]
  [1m[35m (17.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAddress Load (0.6ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 1], ["addressable_type", "User"], ["address_type", 1], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "addresses" SET "addressable_type" = $1, "addressable_id" = $2, "updated_at" = $3 WHERE "addresses"."id" = $4[0m  [["addressable_type", "User"], ["addressable_id", 1], ["updated_at", 2017-03-22 22:06:10 UTC], ["id", 1]]
  [1m[35m (30.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "addresses" ("first_name", "last_name", "name", "country_id", "city", "zip", "phone", "created_at", "updated_at", "address_type") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["first_name", "Trinidad"], ["last_name", "Hermann"], ["name", "King Lane"], ["country_id", 1], ["city", "Dnepr"], ["zip", "49000"], ["phone", "+380632863823"], ["created_at", 2017-03-22 22:06:10 UTC], ["updated_at", 2017-03-22 22:06:10 UTC], ["address_type", 0]]
  [1m[35m (7.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAddress Load (0.6ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 1], ["addressable_type", "User"], ["address_type", 0], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "addresses" SET "addressable_type" = $1, "addressable_id" = $2, "updated_at" = $3 WHERE "addresses"."id" = $4[0m  [["addressable_type", "User"], ["addressable_id", 1], ["updated_at", 2017-03-22 22:06:10 UTC], ["id", 2]]
  [1m[35m (3.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mDelivery Load (0.5ms)[0m  [1m[34mSELECT  "deliveries".* FROM "deliveries" WHERE "deliveries"."country_id" = $1 ORDER BY "deliveries"."id" ASC LIMIT $2[0m  [["country_id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.6ms)[0m  [1m[32mINSERT INTO "credit_cards" ("number", "cvv", "created_at", "updated_at", "user_id", "name", "month_year") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["number", "5274576394259961"], ["cvv", "123"], ["created_at", 2017-03-22 22:06:10 UTC], ["updated_at", 2017-03-22 22:06:10 UTC], ["user_id", 1], ["name", "Argelia"], ["month_year", "12/17"]]
  [1m[35mSQL (1.4ms)[0m  [1m[32mINSERT INTO "orders" ("state", "created_at", "updated_at", "delivery_id", "credit_card_id", "total_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["state", "delivered"], ["created_at", 2017-03-22 22:06:10 UTC], ["updated_at", 2017-03-22 22:06:10 UTC], ["delivery_id", 1], ["credit_card_id", 2], ["total_price", #<BigDecimal:90fbd70,'0.81E2',9(18)>]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "addresses" ("addressable_type", "addressable_id", "first_name", "last_name", "name", "country_id", "city", "zip", "phone", "created_at", "updated_at", "address_type") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["addressable_type", "Order"], ["addressable_id", 1], ["first_name", "Trinidad"], ["last_name", "Hermann"], ["name", "King Lane"], ["country_id", 1], ["city", "Dnepr"], ["zip", "49000"], ["phone", "+380632863823"], ["created_at", 2017-03-22 22:06:10 UTC], ["updated_at", 2017-03-22 22:06:10 UTC], ["address_type", 0]]
  [1m[35mSQL (1.4ms)[0m  [1m[32mINSERT INTO "addresses" ("addressable_type", "addressable_id", "first_name", "last_name", "name", "country_id", "city", "zip", "phone", "created_at", "updated_at", "address_type") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["addressable_type", "Order"], ["addressable_id", 1], ["first_name", "Chanel"], ["last_name", "Pfannerstill"], ["name", "Shantelle Manors"], ["country_id", 1], ["city", "Dnepr"], ["zip", "49000"], ["phone", "+380632863823"], ["created_at", 2017-03-22 22:06:10 UTC], ["updated_at", 2017-03-22 22:06:10 UTC], ["address_type", 1]]
  [1m[35m (21.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
  [1m[35m (3.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35mSQL (2.5ms)[0m  [1m[32mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["book_id", 8], ["order_id", 1], ["created_at", 2017-03-22 22:06:10 UTC], ["updated_at", 2017-03-22 22:06:10 UTC]]
  [1m[35m (9.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.5ms)[0m  [1m[33mUPDATE "orders" SET "user_id" = $1, "updated_at" = $2, "total_price" = $3 WHERE "orders"."id" = $4[0m  [["user_id", 1], ["updated_at", 2017-03-22 22:06:10 UTC], ["total_price", #<BigDecimal:8d80470,'0.13083E3',18(27)>], ["id", 1]]
  [1m[35m (5.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mBook Load (2.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["book_id", 20], ["order_id", 1], ["created_at", 2017-03-22 22:06:10 UTC], ["updated_at", 2017-03-22 22:06:10 UTC]]
  [1m[35m (11.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "orders" SET "updated_at" = $1, "total_price" = $2 WHERE "orders"."id" = $3[0m  [["updated_at", 2017-03-22 22:06:10 UTC], ["total_price", #<BigDecimal:8c88e28,'0.18669E3',18(27)>], ["id", 1]]
  [1m[35m (3.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mBook Load (2.1ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["book_id", 21], ["order_id", 1], ["created_at", 2017-03-22 22:06:10 UTC], ["updated_at", 2017-03-22 22:06:10 UTC]]
  [1m[35m (11.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.3ms)[0m  [1m[33mUPDATE "orders" SET "updated_at" = $1, "total_price" = $2 WHERE "orders"."id" = $3[0m  [["updated_at", 2017-03-22 22:06:10 UTC], ["total_price", #<BigDecimal:8b5ac68,'0.20274E3',18(27)>], ["id", 1]]
  [1m[35m (2.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 38], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["book_id", 38], ["order_id", 1], ["created_at", 2017-03-22 22:06:10 UTC], ["updated_at", 2017-03-22 22:06:10 UTC]]
  [1m[35m (11.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "orders" SET "updated_at" = $1, "total_price" = $2 WHERE "orders"."id" = $3[0m  [["updated_at", 2017-03-22 22:06:10 UTC], ["total_price", #<BigDecimal:8a34668,'0.21471E3',18(27)>], ["id", 1]]
  [1m[35m (91.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
  [1m[35mSQL (2.4ms)[0m  [1m[32mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["book_id", 36], ["order_id", 1], ["created_at", 2017-03-22 22:06:11 UTC], ["updated_at", 2017-03-22 22:06:11 UTC]]
  [1m[35m (111.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.7ms)[0m  [1m[33mUPDATE "orders" SET "updated_at" = $1, "total_price" = $2 WHERE "orders"."id" = $3[0m  [["updated_at", 2017-03-22 22:06:11 UTC], ["total_price", #<BigDecimal:88e1ba8,'0.24979E3',18(27)>], ["id", 1]]
  [1m[35m (24.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mDelivery Load (0.6ms)[0m  [1m[34mSELECT  "deliveries".* FROM "deliveries" WHERE "deliveries"."country_id" = $1 ORDER BY "deliveries"."id" ASC LIMIT $2[0m  [["country_id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "credit_cards" ("number", "cvv", "created_at", "updated_at", "user_id", "name", "month_year") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["number", "5274576394259961"], ["cvv", "123"], ["created_at", 2017-03-22 22:06:11 UTC], ["updated_at", 2017-03-22 22:06:11 UTC], ["user_id", 1], ["name", "Argelia"], ["month_year", "12/17"]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "orders" ("state", "created_at", "updated_at", "delivery_id", "credit_card_id", "total_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["state", "canceled"], ["created_at", 2017-03-22 22:06:11 UTC], ["updated_at", 2017-03-22 22:06:11 UTC], ["delivery_id", 1], ["credit_card_id", 3], ["total_price", #<BigDecimal:87937d8,'0.81E2',9(18)>]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "addresses" ("addressable_type", "addressable_id", "first_name", "last_name", "name", "country_id", "city", "zip", "phone", "created_at", "updated_at", "address_type") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["addressable_type", "Order"], ["addressable_id", 2], ["first_name", "Trinidad"], ["last_name", "Hermann"], ["name", "King Lane"], ["country_id", 1], ["city", "Dnepr"], ["zip", "49000"], ["phone", "+380632863823"], ["created_at", 2017-03-22 22:06:11 UTC], ["updated_at", 2017-03-22 22:06:11 UTC], ["address_type", 0]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "addresses" ("addressable_type", "addressable_id", "first_name", "last_name", "name", "country_id", "city", "zip", "phone", "created_at", "updated_at", "address_type") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["addressable_type", "Order"], ["addressable_id", 2], ["first_name", "Chanel"], ["last_name", "Pfannerstill"], ["name", "Shantelle Manors"], ["country_id", 1], ["city", "Dnepr"], ["zip", "49000"], ["phone", "+380632863823"], ["created_at", 2017-03-22 22:06:11 UTC], ["updated_at", 2017-03-22 22:06:11 UTC], ["address_type", 1]]
  [1m[35m (57.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mBook Load (1.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 49], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["book_id", 49], ["order_id", 2], ["created_at", 2017-03-22 22:06:11 UTC], ["updated_at", 2017-03-22 22:06:11 UTC]]
  [1m[35m (11.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (3.0ms)[0m  [1m[33mUPDATE "orders" SET "user_id" = $1, "updated_at" = $2, "total_price" = $3 WHERE "orders"."id" = $4[0m  [["user_id", 1], ["updated_at", 2017-03-22 22:06:11 UTC], ["total_price", #<BigDecimal:8657298,'0.11163E3',18(27)>], ["id", 2]]
  [1m[35m (13.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["book_id", 12], ["order_id", 2], ["created_at", 2017-03-22 22:06:11 UTC], ["updated_at", 2017-03-22 22:06:11 UTC]]
  [1m[35m (13.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "orders" SET "updated_at" = $1, "total_price" = $2 WHERE "orders"."id" = $3[0m  [["updated_at", 2017-03-22 22:06:11 UTC], ["total_price", #<BigDecimal:85d8290,'0.13645E3',18(27)>], ["id", 2]]
  [1m[35m (4.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mDelivery Load (1.3ms)[0m  [1m[34mSELECT  "deliveries".* FROM "deliveries" WHERE "deliveries"."country_id" = $1 ORDER BY "deliveries"."id" ASC LIMIT $2[0m  [["country_id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "credit_cards" ("number", "cvv", "created_at", "updated_at", "user_id", "name", "month_year") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["number", "5274576394259961"], ["cvv", "123"], ["created_at", 2017-03-22 22:06:11 UTC], ["updated_at", 2017-03-22 22:06:11 UTC], ["user_id", 1], ["name", "Argelia"], ["month_year", "12/17"]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "orders" ("state", "created_at", "updated_at", "delivery_id", "credit_card_id", "total_price") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["state", "delivered"], ["created_at", 2017-03-22 22:06:11 UTC], ["updated_at", 2017-03-22 22:06:11 UTC], ["delivery_id", 1], ["credit_card_id", 4], ["total_price", #<BigDecimal:8575370,'0.81E2',9(18)>]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "addresses" ("addressable_type", "addressable_id", "first_name", "last_name", "name", "country_id", "city", "zip", "phone", "created_at", "updated_at", "address_type") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["addressable_type", "Order"], ["addressable_id", 3], ["first_name", "Trinidad"], ["last_name", "Hermann"], ["name", "King Lane"], ["country_id", 1], ["city", "Dnepr"], ["zip", "49000"], ["phone", "+380632863823"], ["created_at", 2017-03-22 22:06:11 UTC], ["updated_at", 2017-03-22 22:06:11 UTC], ["address_type", 0]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "addresses" ("addressable_type", "addressable_id", "first_name", "last_name", "name", "country_id", "city", "zip", "phone", "created_at", "updated_at", "address_type") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["addressable_type", "Order"], ["addressable_id", 3], ["first_name", "Chanel"], ["last_name", "Pfannerstill"], ["name", "Shantelle Manors"], ["country_id", 1], ["city", "Dnepr"], ["zip", "49000"], ["phone", "+380632863823"], ["created_at", 2017-03-22 22:06:11 UTC], ["updated_at", 2017-03-22 22:06:11 UTC], ["address_type", 1]]
  [1m[35m (4.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 23], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["book_id", 23], ["order_id", 3], ["created_at", 2017-03-22 22:06:11 UTC], ["updated_at", 2017-03-22 22:06:11 UTC]]
  [1m[35m (13.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "orders" SET "user_id" = $1, "updated_at" = $2, "total_price" = $3 WHERE "orders"."id" = $4[0m  [["user_id", 1], ["updated_at", 2017-03-22 22:06:11 UTC], ["total_price", #<BigDecimal:a4a5308,'0.11748E3',18(27)>], ["id", 3]]
  [1m[35m (3.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["book_id", 7], ["order_id", 3], ["created_at", 2017-03-22 22:06:11 UTC], ["updated_at", 2017-03-22 22:06:11 UTC]]
  [1m[35m (13.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "orders" SET "updated_at" = $1, "total_price" = $2 WHERE "orders"."id" = $3[0m  [["updated_at", 2017-03-22 22:06:11 UTC], ["total_price", #<BigDecimal:af88f68,'0.1311E3',18(27)>], ["id", 3]]
  [1m[35m (4.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["book_id", 4], ["order_id", 3], ["created_at", 2017-03-22 22:06:11 UTC], ["updated_at", 2017-03-22 22:06:11 UTC]]
  [1m[35m (12.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "orders" SET "updated_at" = $1, "total_price" = $2 WHERE "orders"."id" = $3[0m  [["updated_at", 2017-03-22 22:06:11 UTC], ["total_price", #<BigDecimal:af07468,'0.17256E3',18(27)>], ["id", 3]]
  [1m[35m (4.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 48], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["book_id", 48], ["order_id", 3], ["created_at", 2017-03-22 22:06:11 UTC], ["updated_at", 2017-03-22 22:06:11 UTC]]
  [1m[35m (13.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "orders" SET "updated_at" = $1, "total_price" = $2 WHERE "orders"."id" = $3[0m  [["updated_at", 2017-03-22 22:06:11 UTC], ["total_price", #<BigDecimal:ae65488,'0.18897E3',18(27)>], ["id", 3]]
  [1m[35m (3.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
Started GET "/" for 127.0.0.1 at 2017-03-23 00:06:52 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by MainPagesController#home as HTML
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."title" = $1 LIMIT $2[0m  [["title", "Mobile"], ["LIMIT", 1]]
  [1m[36mBook Load (3.0ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" INNER JOIN "order_items" ON "order_items"."book_id" = "books"."id" INNER JOIN "orders" ON "orders"."id" = "order_items"."order_id" WHERE (lower(categories.title) = 'mobile') AND "orders"."state" = $1 GROUP BY order_items.book_id, books.id ORDER BY SUM(order_items.quantity) desc LIMIT $2[0m  [["state", "delivered"], ["LIMIT", 4]]
  [1m[36mHABTM_Authors Load (0.7ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (4, 8, 7)[0m
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (20, 18, 19)[0m
  Rendering main_pages/home.html.haml within layouts/application
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') LIMIT $1) subquery_for_count[0m  [["LIMIT", 4]]
  [1m[36mBook Load (1.3ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') ORDER BY "books"."created_at" DESC LIMIT $1[0m  [["LIMIT", 4]]
  [1m[36mHABTM_Authors Load (1.3ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (19, 18, 17, 16)[0m
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (18, 19, 20)[0m
  Rendered books/_carousel_books.html.haml (17510.5ms)
  Rendered books/_book_buttons.html.haml (3.6ms)
  Rendered books/_book_buttons.html.haml (1.3ms)
  Rendered books/_book_buttons.html.haml (1.1ms)
  Rendered main_pages/home.html.haml within layouts/application (17579.7ms)
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" IS NULL AND "orders"."state" = $1 LIMIT $2[0m  [["state", "processing"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "orders" ("state", "created_at", "updated_at", "total_price") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["state", "processing"], ["created_at", 2017-03-22 22:07:11 UTC], ["updated_at", 2017-03-22 22:07:11 UTC], ["total_price", #<BigDecimal:7f7c404c62d8,'0.0',9(18)>]]
  [1m[35m (31.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (7.3ms)
  Rendered layouts/_collapse_ul.html.haml (2.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (7.5ms)
  Rendered layouts/_collapse_ul.html.haml (10.3ms)
  Rendered layouts/_navbar.html.haml (35.6ms)
  Rendered layouts/_dropdown_ul.html.haml (3.3ms)
  Rendered layouts/_dropdown_ul.html.haml (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (4.6ms)
  Rendered layouts/_dropdown_ul.html.haml (6.3ms)
  Rendered layouts/_navbar.html.haml (17.2ms)
  Rendered layouts/_header.html.haml (150.9ms)
  Rendered layouts/_footer.html.haml (7.2ms)
Completed 200 OK in 18808ms (Views: 17908.0ms | ActiveRecord: 70.0ms)


Started GET "/categories/1" for 127.0.0.1 at 2017-03-23 00:07:19 +0200
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCategory Load (0.9ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (11.9ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering books/index.html.haml within layouts/application
  Rendered books/_items_sorted_by.html.haml (2.3ms)
  Rendered books/_drop_down_list.html.haml (5.2ms)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_category_items.html.haml (10.9ms)
  Rendered books/_items_sorted_by.html.haml (0.8ms)
  Rendered books/_drop_down_list.html.haml (1.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (6.0ms)
  Rendered books/_drop_down_list.html.haml (7.1ms)
  [1m[36mBook Load (2.3ms)[0m  [1m[34mSELECT  "books"."id", "books"."price", "books"."title", "books"."count", "books"."avatar" FROM "books" WHERE "books"."category_id" = 1 ORDER BY "books"."title" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 12], ["OFFSET", 0]]
  [1m[36mHABTM_Authors Load (0.7ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (18, 10, 13, 8, 14, 7, 3, 6, 9, 5, 12, 4)[0m
  [1m[36mAuthor Load (1.3ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (20, 19, 18)[0m
  Rendered books/_book_buttons.html.haml (3.7ms)
  Rendered books/_book_buttons.html.haml (1.2ms)
  Rendered books/_book_buttons.html.haml (1.1ms)
  Rendered books/_book_buttons.html.haml (1.5ms)
  Rendered collection of books/_book.html.haml [4 times] (36.3ms)
  Rendered books/_book_buttons.html.haml (1.4ms)
  Rendered books/_book_buttons.html.haml (1.3ms)
  Rendered books/_book_buttons.html.haml (1.1ms)
  Rendered books/_book_buttons.html.haml (1.2ms)
  Rendered collection of books/_book.html.haml [4 times] (28.6ms)
  Rendered books/_book_buttons.html.haml (1.1ms)
  Rendered books/_book_buttons.html.haml (1.1ms)
  Rendered books/_book_buttons.html.haml (1.2ms)
  Rendered books/_book_buttons.html.haml (1.2ms)
  Rendered collection of books/_book.html.haml [4 times] (26.2ms)
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."category_id" = 1[0m
  Rendered books/index.html.haml within layouts/application (172.2ms)
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 4], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (1.1ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (4.0ms)
  Rendered layouts/_collapse_ul.html.haml (1.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (6.6ms)
  Rendered layouts/_collapse_ul.html.haml (8.6ms)
  Rendered layouts/_navbar.html.haml (22.8ms)
  Rendered layouts/_dropdown_ul.html.haml (3.9ms)
  Rendered layouts/_dropdown_ul.html.haml (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (4.1ms)
  Rendered layouts/_dropdown_ul.html.haml (5.7ms)
  Rendered layouts/_navbar.html.haml (14.1ms)
  Rendered layouts/_header.html.haml (54.2ms)
  Rendered layouts/_footer.html.haml (6.4ms)
Completed 200 OK in 445ms (Views: 326.1ms | ActiveRecord: 34.2ms)


DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
Started GET "/sign_in" for 127.0.0.1 at 2017-03-23 00:08:24 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Started GET "/sign_in" for 127.0.0.1 at 2017-03-23 00:08:24 +0200
Processing by Devise::SessionsController#new as HTML
Processing by Devise::SessionsController#new as HTML
Started GET "/sign_in" for 127.0.0.1 at 2017-03-23 00:08:24 +0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.haml within layouts/application
  Rendering devise/sessions/new.html.haml within layouts/application
  Rendering devise/sessions/new.html.haml within layouts/application
  Rendered users/_omni_links.html.haml (8.3ms)
  Rendered users/_omni_links.html.haml (0.8ms)
  Rendered users/_omni_links.html.haml (0.8ms)
  Rendered devise/sessions/_login_form.html.haml (80.6ms)
  Rendered devise/sessions/_login_form.html.haml (74.8ms)
  Rendered devise/sessions/new.html.haml within layouts/application (100.0ms)
  Rendered devise/sessions/_login_form.html.haml (77.1ms)
  Rendered devise/sessions/new.html.haml within layouts/application (233.4ms)
  Rendered devise/sessions/new.html.haml within layouts/application (101.1ms)
Completed 500 Internal Server Error in 3042ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (can't add a new key into hash during iteration):
     6:     %meta{ content: 'width=device-width', name: 'viewport' }
     7:     %link{ href: "https://fonts.googleapis.com/css?family=Open+Sans", rel: 'stylesheet' }
     8:     = csrf_meta_tags
     9:     = stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload'
    10:     = javascript_include_tag 'application', 'data-turbolinks-track': 'reload'
    11: 
    12:   %body
  
app/views/layouts/application.html.haml:9:in `_app_views_layouts_application_html_haml__2414112418709085883_58612220'
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (10.9ms)
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.3ms)
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (39.0ms)
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 4], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrder Load (20.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 4], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (3.6ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 4]]
  [1m[36mOrderItem Load (1.3ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 4]]
  [1m[36mCategory Load (1.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  [1m[36mCategory Load (1.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (25.7ms)
  Rendered layouts/_collapse_ul.html.haml (25.3ms)
  Rendered layouts/_collapse_ul.html.haml (2.8ms)
  Rendered layouts/_collapse_ul.html.haml (1.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (28.8ms)
  Rendered books/_items_with_category.html.haml (22.1ms)
  Rendered layouts/_collapse_ul.html.haml (32.5ms)
  Rendered layouts/_collapse_ul.html.haml (24.2ms)
  Rendered layouts/_navbar.html.haml (70.0ms)
  Rendered layouts/_dropdown_ul.html.haml (2.9ms)
  Rendered layouts/_navbar.html.haml (79.5ms)
  Rendered layouts/_dropdown_ul.html.haml (1.1ms)
  Rendered layouts/_dropdown_ul.html.haml (1.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_dropdown_ul.html.haml (1.7ms)
  Rendered books/_items_with_category.html.haml (7.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_dropdown_ul.html.haml (16.1ms)
  Rendered books/_items_with_category.html.haml (5.0ms)
  Rendered layouts/_dropdown_ul.html.haml (8.1ms)
  Rendered layouts/_navbar.html.haml (22.7ms)
  Rendered layouts/_header.html.haml (334.8ms)
  Rendered layouts/_navbar.html.haml (28.5ms)
  Rendered layouts/_footer.html.haml (9.0ms)
  Rendered layouts/_header.html.haml (383.8ms)
Completed 200 OK in 3913ms (Views: 2178.8ms | ActiveRecord: 51.9ms)


  Rendered layouts/_footer.html.haml (2.0ms)
Completed 200 OK in 4030ms (Views: 2203.2ms | ActiveRecord: 31.9ms)


Started GET "/sign_up" for 127.0.0.1 at 2017-03-23 00:08:34 +0200
Processing by UsersController#new as HTML
  Rendering users/new.html.haml within layouts/application
  Rendered users/_omni_links.html.haml (2.5ms)
  Rendered users/new.html.haml within layouts/application (18.3ms)
  [1m[36mOrder Load (1.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 4], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (1.1ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 4]]
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (4.7ms)
  Rendered layouts/_collapse_ul.html.haml (1.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (7.0ms)
  Rendered layouts/_collapse_ul.html.haml (8.9ms)
  Rendered layouts/_navbar.html.haml (23.8ms)
  Rendered layouts/_dropdown_ul.html.haml (3.5ms)
  Rendered layouts/_dropdown_ul.html.haml (1.1ms)
  [1m[36mCACHE (0.1ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (4.9ms)
  Rendered layouts/_dropdown_ul.html.haml (6.6ms)
  Rendered layouts/_navbar.html.haml (14.7ms)
  Rendered layouts/_header.html.haml (55.7ms)
  Rendered layouts/_footer.html.haml (7.7ms)
Completed 200 OK in 209ms (Views: 204.0ms | ActiveRecord: 3.3ms)


Started POST "/" for 127.0.0.1 at 2017-03-23 00:08:55 +0200
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"3ig3d6j5wmV+n3vP9iNv+ZiKAnlUnnA5BOgHHjQzSKgEO88eOiPlCjbviBwj8P1N2GcnaQtRSqEIAF7jNVdusg==", "user"=>{"email"=>"admin@admin.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@admin.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  Rendering users/new.html.haml within layouts/application
  Rendered users/_omni_links.html.haml (2.8ms)
  Rendered users/new.html.haml within layouts/application (13.3ms)
  [1m[36mOrder Load (1.0ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 4], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (1.1ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 4]]
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (4.9ms)
  Rendered layouts/_collapse_ul.html.haml (1.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (7.0ms)
  Rendered layouts/_collapse_ul.html.haml (8.7ms)
  Rendered layouts/_navbar.html.haml (23.9ms)
  Rendered layouts/_dropdown_ul.html.haml (3.1ms)
  Rendered layouts/_dropdown_ul.html.haml (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (4.0ms)
  Rendered layouts/_dropdown_ul.html.haml (5.7ms)
  Rendered layouts/_navbar.html.haml (13.0ms)
  Rendered layouts/_header.html.haml (52.5ms)
  Rendered layouts/_footer.html.haml (8.1ms)
Completed 200 OK in 470ms (Views: 182.5ms | ActiveRecord: 5.0ms)


Started POST "/" for 127.0.0.1 at 2017-03-23 00:09:18 +0200
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"0JLkoquCaVefFXn0jg0ilnFQQ1nc+z2ui8Ehc7v0vawKgRzLOVhOONdliidb3rAiMb1mSYM0BzaHKXiOupCbtg==", "user"=>{"email"=>"admin@admin.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@admin.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  Rendering users/new.html.haml within layouts/application
  Rendered users/_omni_links.html.haml (3.0ms)
  Rendered users/new.html.haml within layouts/application (15.7ms)
  [1m[36mOrder Load (0.9ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 4], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (1.1ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 4]]
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (4.6ms)
  Rendered layouts/_collapse_ul.html.haml (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (6.5ms)
  Rendered layouts/_collapse_ul.html.haml (8.3ms)
  Rendered layouts/_navbar.html.haml (22.6ms)
  Rendered layouts/_dropdown_ul.html.haml (2.9ms)
  Rendered layouts/_dropdown_ul.html.haml (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (4.0ms)
  Rendered layouts/_dropdown_ul.html.haml (5.7ms)
  Rendered layouts/_navbar.html.haml (13.1ms)
  Rendered layouts/_header.html.haml (51.1ms)
  Rendered layouts/_footer.html.haml (7.0ms)
Completed 200 OK in 422ms (Views: 175.9ms | ActiveRecord: 4.6ms)


Started POST "/" for 127.0.0.1 at 2017-03-23 00:09:54 +0200
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"cSEpdSxsLyruNGqlfW/RWIjr4ym0YkcFjMMRs+mbJ32rMtEcvrYIRaZEmXaovEPsyAbGOeutfZ2AK0hO6P8BZw==", "user"=>{"email"=>"admin@admin.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@admin.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  Rendering users/new.html.haml within layouts/application
  Rendered users/_omni_links.html.haml (2.8ms)
  Rendered users/new.html.haml within layouts/application (15.7ms)
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 4], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.6ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 4]]
  [1m[36mCategory Load (0.8ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (5.9ms)
  Rendered layouts/_collapse_ul.html.haml (1.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (8.2ms)
  Rendered layouts/_collapse_ul.html.haml (11.8ms)
  Rendered layouts/_navbar.html.haml (28.0ms)
  Rendered layouts/_dropdown_ul.html.haml (2.6ms)
  Rendered layouts/_dropdown_ul.html.haml (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (3.5ms)
  Rendered layouts/_dropdown_ul.html.haml (5.0ms)
  Rendered layouts/_navbar.html.haml (11.5ms)
  Rendered layouts/_header.html.haml (54.5ms)
  Rendered layouts/_footer.html.haml (22.0ms)
Completed 200 OK in 448ms (Views: 196.9ms | ActiveRecord: 3.5ms)


Started POST "/" for 127.0.0.1 at 2017-03-23 00:10:22 +0200
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Oc1pM4UnptIPy2IPDQpGCgTVAhqYdp1Z1V0NfEzLmQ/j3pFaF/2BvUe7kdzY2dS+RDgnCse5p8HZtVSBTa+/FQ==", "user"=>{"email"=>"admin@admin.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@admin.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "confirmation_token", "confirmation_sent_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "admin@admin.com"], ["encrypted_password", "$2a$11$kfTGD4eTAYVnmx6SfkLYv.CARw10edSwSWLP327YF71P8WMnPQMom"], ["created_at", 2017-03-22 22:10:23 UTC], ["updated_at", 2017-03-22 22:10:23 UTC], ["confirmation_token", "pAxoKKBFpk7msfSbY5Wc"], ["confirmation_sent_at", 2017-03-22 22:10:23 UTC]]
  [1m[35m (41.2ms)[0m  [1m[35mCOMMIT[0m
  Rendering devise/mailer/confirmation_instructions.html.erb
  Rendered devise/mailer/confirmation_instructions.html.erb (1.5ms)
Devise::Mailer#confirmation_instructions: processed outbound mail in 238.6ms
Sent mail to admin@admin.com (24.0ms)
Date: Thu, 23 Mar 2017 00:10:23 +0200
From: amazon555@gmail.com
Reply-To: amazon555@gmail.com
To: admin@admin.com
Message-ID: <58d2f64f57237_1bb13ba123094617@anton-Lenovo-G570.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome admin@admin.com!</p>

<p>You can confirm your account email through the link below:</p>

<p><a href="http://localhost:3000/confirmation?confirmation_token=pAxoKKBFpk7msfSbY5Wc">Confirm my account</a></p>

  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", 2017-03-22 22:10:23 UTC], ["last_sign_in_at", 2017-03-22 22:10:23 UTC], ["current_sign_in_ip", "127.0.0.1/32"], ["last_sign_in_ip", "127.0.0.1/32"], ["updated_at", 2017-03-22 22:10:23 UTC], ["id", 2]]
  [1m[35m (90.6ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 682ms (ActiveRecord: 134.6ms)


Started GET "/" for 127.0.0.1 at 2017-03-23 00:10:23 +0200
Processing by MainPagesController#home as HTML
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."title" = $1 LIMIT $2[0m  [["title", "Mobile"], ["LIMIT", 1]]
  [1m[36mBook Load (2.1ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" INNER JOIN "order_items" ON "order_items"."book_id" = "books"."id" INNER JOIN "orders" ON "orders"."id" = "order_items"."order_id" WHERE (lower(categories.title) = 'mobile') AND "orders"."state" = $1 GROUP BY order_items.book_id, books.id ORDER BY SUM(order_items.quantity) desc LIMIT $2[0m  [["state", "delivered"], ["LIMIT", 4]]
  [1m[36mHABTM_Authors Load (0.7ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (4, 8, 7)[0m
  [1m[36mAuthor Load (0.8ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (20, 18, 19)[0m
  Rendering main_pages/home.html.haml within layouts/application
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') LIMIT $1) subquery_for_count[0m  [["LIMIT", 4]]
  [1m[36mBook Load (0.9ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') ORDER BY "books"."created_at" DESC LIMIT $1[0m  [["LIMIT", 4]]
  [1m[36mHABTM_Authors Load (0.5ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (19, 18, 17, 16)[0m
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (18, 19, 20)[0m
  Rendered books/_carousel_books.html.haml (91.6ms)
  Rendered books/_book_buttons.html.haml (5.6ms)
  Rendered books/_book_buttons.html.haml (1.6ms)
  Rendered books/_book_buttons.html.haml (1.0ms)
  Rendered main_pages/home.html.haml within layouts/application (148.1ms)
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 4], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "orders" ("state", "user_id", "created_at", "updated_at", "total_price") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["state", "processing"], ["user_id", 2], ["created_at", 2017-03-22 22:10:24 UTC], ["updated_at", 2017-03-22 22:10:24 UTC], ["total_price", #<BigDecimal:7feb595ca958,'0.0',9(18)>]]
  [1m[35m (37.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mOrderItem Load (0.6ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 4]]
  [1m[36mCoupon Load (0.5ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAddress Load (1.9ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 4], ["addressable_type", "Order"], ["address_type", 0], ["LIMIT", 1]]
  [1m[36mAddress Load (2.6ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."addressable_id" = $1 AND "addresses"."addressable_type" = $2 AND "addresses"."address_type" = $3 LIMIT $4[0m  [["addressable_id", 4], ["addressable_type", "Order"], ["address_type", 1], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 4]]
  [1m[35m (73.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCategory Load (7.6ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (12.2ms)
  Rendered layouts/_collapse_ul.html.haml (1.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (5.7ms)
  Rendered layouts/_collapse_ul.html.haml (7.9ms)
  [1m[36mBook Load (11.6ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendered layouts/_collapse_ul.html.haml (76.4ms)
  Rendered layouts/_navbar.html.haml (108.5ms)
  Rendered layouts/_dropdown_ul.html.haml (2.9ms)
  Rendered layouts/_dropdown_ul.html.haml (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (4.6ms)
  Rendered layouts/_dropdown_ul.html.haml (6.5ms)
  Rendered layouts/_dropdown_ul.html.haml (1.1ms)
  Rendered layouts/_navbar.html.haml (16.2ms)
  Rendered layouts/_header.html.haml (360.5ms)
  Rendered layouts/_footer.html.haml (7.8ms)
Completed 200 OK in 785ms (Views: 498.3ms | ActiveRecord: 178.4ms)


  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.4ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "admin" = $2 WHERE "users"."id" = $3[0m  [["updated_at", 2017-03-22 22:10:55 UTC], ["admin", true], ["id", 2]]
  [1m[35m (22.6ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
Started GET "/admin" for 127.0.0.1 at 2017-03-23 00:11:45 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by RailsAdmin::MainController#dashboard as HTML
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (11.2ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[36mAddress Load (1.5ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" ORDER BY "addresses"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "authors"[0m
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE ('t'='t')[0m
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" ORDER BY "books"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE ('t'='t')[0m
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" ORDER BY "categories"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "countries"[0m
  [1m[36mCountry Load (0.5ms)[0m  [1m[34mSELECT  "countries".* FROM "countries" ORDER BY "countries"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "coupons"[0m
  [1m[36mCoupon Load (0.7ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" ORDER BY "coupons"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (2.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "deliveries"[0m
  [1m[36mDelivery Load (0.5ms)[0m  [1m[34mSELECT  "deliveries".* FROM "deliveries" ORDER BY "deliveries"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "materials"[0m
  [1m[36mMaterial Load (0.5ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders" WHERE ('t'='t')[0m
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" ORDER BY "orders"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "pictures"[0m
  [1m[36mPicture Load (1.5ms)[0m  [1m[34mSELECT  "pictures".* FROM "pictures" ORDER BY "pictures"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "reviews" WHERE ('t'='t')[0m
  [1m[36mReview Load (0.5ms)[0m  [1m[34mSELECT  "reviews".* FROM "reviews" ORDER BY "reviews"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE ('t'='t')[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/dashboard.html.haml within layouts/rails_admin/application
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/dashboard.html.haml within layouts/rails_admin/application (64.4ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_secondary_navigation.html.haml (6.8ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_navigation.html.haml (12.7ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_sidebar_navigation.html.haml (27.6ms)
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml (5.4ms)
Completed 200 OK in 2892ms (Views: 1491.8ms | ActiveRecord: 79.4ms)


DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
Started GET "/admin/book?_pjax=%5Bdata-pjax-container%5D" for 127.0.0.1 at 2017-03-23 00:13:36 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"_pjax"=>"[data-pjax-container]", "model_name"=>"book"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (15.1ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
Started GET "/admin/picture?_pjax=%5Bdata-pjax-container%5D" for 127.0.0.1 at 2017-03-23 00:13:37 +0200
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"_pjax"=>"[data-pjax-container]", "model_name"=>"picture"}
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (16.3ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax
  [1m[36mPicture Load (21.0ms)[0m  [1m[34mSELECT  "pictures".* FROM "pictures" ORDER BY pictures.id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 20], ["OFFSET", 0]]
  [1m[36mBook Load (2.7ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE ('t'='t') ORDER BY books.id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 20], ["OFFSET", 0]]
  [1m[35m (3.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "pictures"[0m
  [1m[36mCategory Load (19.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" IN (5, 4)[0m
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax (166.9ms)
Completed 200 OK in 323ms (Views: 232.3ms | ActiveRecord: 47.5ms)


  [1m[36mHABTM_Authors Load (0.8ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51)[0m
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (19, 20, 18)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE ('t'='t')[0m
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax (775.2ms)
Completed 200 OK in 2409ms (Views: 859.6ms | ActiveRecord: 105.0ms)


Started GET "/admin/book?_pjax=%5Bdata-pjax-container%5D" for 127.0.0.1 at 2017-03-23 00:13:41 +0200
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"_pjax"=>"[data-pjax-container]", "model_name"=>"book"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (16.5ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax
  [1m[36mBook Load (1.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE ('t'='t') ORDER BY books.id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 20], ["OFFSET", 0]]
  [1m[36mCategory Load (0.9ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" IN (5, 4)[0m
  [1m[36mHABTM_Authors Load (1.0ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51)[0m
  [1m[36mAuthor Load (0.8ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (19, 20, 18)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE ('t'='t')[0m
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax (468.0ms)
Completed 200 OK in 540ms (Views: 483.1ms | ActiveRecord: 21.8ms)


Started GET "/admin/category/5?_pjax=%5Bdata-pjax-container%5D" for 127.0.0.1 at 2017-03-23 00:13:44 +0200
Processing by RailsAdmin::MainController#show as HTML
  Parameters: {"_pjax"=>"[data-pjax-container]", "model_name"=>"category", "id"=>"5"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (9.8ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 ORDER BY "categories"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/show.html.haml within layouts/rails_admin/pjax
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."category_id" = $1[0m  [["category_id", 5]]
  [1m[36mAuthor Load (1.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "books" ON "authors_books"."book_id" = "books"."id" WHERE "books"."category_id" = $1[0m  [["category_id", 5]]
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/show.html.haml within layouts/rails_admin/pjax (59.1ms)
Completed 200 OK in 120ms (Views: 85.1ms | ActiveRecord: 13.0ms)


Started GET "/admin/book?_pjax=%5Bdata-pjax-container%5D" for 127.0.0.1 at 2017-03-23 00:13:52 +0200
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"_pjax"=>"[data-pjax-container]", "model_name"=>"book"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (12.5ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax
  [1m[36mBook Load (0.9ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE ('t'='t') ORDER BY books.id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 20], ["OFFSET", 0]]
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" IN (5, 4)[0m
  [1m[36mHABTM_Authors Load (0.6ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51)[0m
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (19, 20, 18)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE ('t'='t')[0m
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax (432.4ms)
Completed 200 OK in 496ms (Views: 444.2ms | ActiveRecord: 17.1ms)


Started GET "/admin/book/70/edit?_pjax=%5Bdata-pjax-container%5D" for 127.0.0.1 at 2017-03-23 00:13:58 +0200
Processing by RailsAdmin::MainController#edit as HTML
  Parameters: {"_pjax"=>"[data-pjax-container]", "model_name"=>"book", "id"=>"70"}
  [1m[36mUser Load (6.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (11.3ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  [1m[36mBook Load (1.1ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 ORDER BY "books"."id" ASC LIMIT $2[0m  [["id", 70], ["LIMIT", 1]]
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/edit.html.haml within layouts/rails_admin/pjax
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_field.html.haml (56.4ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_text.html.haml (4.2ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_field.html.haml (0.4ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_field.html.haml (2.7ms)
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE ('t'='t') ORDER BY categories.id desc[0m
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_filtering_select.html.haml (24.0ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_file_upload.html.haml (23.0ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_text.html.haml (0.6ms)
  [1m[36mPicture Load (0.4ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."imageable_id" = $1 AND "pictures"."imageable_type" = $2[0m  [["imageable_id", 70], ["imageable_type", "Book"]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "pictures"[0m
  [1m[36mPicture Load (0.8ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" ORDER BY pictures.id desc[0m
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_filtering_multiselect.html.haml (21.8ms)
  [1m[36mReview Load (0.7ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."book_id" = $1 AND "reviews"."state" = $2[0m  [["book_id", 70], ["state", "approved"]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "reviews"[0m
  [1m[36mReview Load (0.5ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE ('t'='t') ORDER BY reviews.id desc[0m
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_filtering_multiselect.html.haml (25.8ms)
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 70]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "authors"[0m
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" ORDER BY authors.id desc[0m
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_filtering_multiselect.html.haml (14.1ms)
  [1m[36mMaterial Load (0.5ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 70]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "materials"[0m
  [1m[36mMaterial Load (0.5ms)[0m  [1m[34mSELECT "materials".* FROM "materials" ORDER BY materials.id desc[0m
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_filtering_multiselect.html.haml (20.1ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_submit_buttons.html.haml (6.3ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/edit.html.haml within layouts/rails_admin/pjax (395.5ms)
Completed 200 OK in 511ms (Views: 443.7ms | ActiveRecord: 29.8ms)


Started GET "/admin/picture/new?modal=true" for 127.0.0.1 at 2017-03-23 00:14:07 +0200
Processing by RailsAdmin::MainController#new as JS
  Parameters: {"modal"=>"true", "model_name"=>"picture"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (9.8ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/new.html.haml
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_file_upload.html.haml (6.2ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_polymorphic_association.html.haml (24.6ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_submit_buttons.html.haml (7.8ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/new.html.haml (57.7ms)
Completed 200 OK in 95ms (Views: 61.3ms | ActiveRecord: 10.4ms)


Started GET "/admin/book?compact=true&all=true" for 127.0.0.1 at 2017-03-23 00:14:19 +0200
Processing by RailsAdmin::MainController#index as JSON
  Parameters: {"compact"=>"true", "all"=>"true", "model_name"=>"book"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (13.7ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  [1m[36mBook Load (1.9ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE ('t'='t') ORDER BY books.id desc[0m
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" IN (5, 4, 3, 2, 1)[0m
  [1m[36mHABTM_Authors Load (0.9ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51, 50, 49, 48, 47, 46, 45, 44, 43, 42, 41, 40, 39, 38, 37, 36, 35, 34, 33, 32, 31, 30, 29, 28, 27, 26, 25, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1)[0m
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (19, 20, 18)[0m
Completed 200 OK in 102ms (Views: 4.5ms | ActiveRecord: 18.4ms)


Started POST "/admin/picture/new" for 127.0.0.1 at 2017-03-23 00:14:30 +0200
Processing by RailsAdmin::MainController#new as JS
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"l53634Hv/r9DL+aLSEvD1VFFUaA4gsn/5aZ8i/097r5NjgK2EzXZ0AtfFVidmFFhEah0sGdN82fpTiV2/FnIpA==", "picture"=>{"path_cache"=>"", "imageable_type"=>"Book", "imageable_id"=>"25", "path"=>#<ActionDispatch::Http::UploadedFile:0x0000000296d0a0 @tempfile=#<Tempfile:/tmp/RackMultipart20170323-8673-1weh2ux.jpg>, @original_filename="smashing-book-5-photo.ab93ea0cf6.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"picture[path]\"; filename=\"smashing-book-5-photo.ab93ea0cf6.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "remotipart_submitted"=>"true", "X-Requested-With"=>"IFrame", "X-Http-Accept"=>"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript, */*; q=0.01", "model_name"=>"picture"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (9.6ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "pictures" ("path", "created_at", "updated_at", "imageable_type", "imageable_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["path", "smashing-book-5-photo.ab93ea0cf6.jpg"], ["created_at", 2017-03-22 22:14:30 UTC], ["updated_at", 2017-03-22 22:14:30 UTC], ["imageable_type", "Book"], ["imageable_id", 25]]
  [1m[35m (30.7ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 110ms (Views: 0.4ms | ActiveRecord: 42.2ms)


Started PUT "/admin/book/70/edit" for 127.0.0.1 at 2017-03-23 00:14:37 +0200
Processing by RailsAdmin::MainController#edit as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"WJwn01OVoiUT9Ht1ktOtiYZYbskz+bcdgy77IB86sNWCj9+6wU+FSluEiKZHAD89xrVL2Ww2jYWPxqLdHl6Wzw==", "book"=>{"title"=>"Champagne Women", "desc"=>"Esse perspiciatis eaque quia sed rerum nihil maiores repellat. Saepe est ab odio ad. Qui quisquam modi possimus exercitationem. Dolorem non commodi perferendis molestiae.", "price"=>"15.89", "count"=>"451", "category_id"=>"5", "avatar_cache"=>"", "dimension"=>"{\r\n  \"h\": 5.0,\r\n  \"w\": 4.4,\r\n  \"d\": 10.0\r\n}", "picture_ids"=>["", "", "1"], "review_ids"=>["", ""], "author_ids"=>["", "", "19", "20"], "material_ids"=>["", "", "3", "4"]}, "return_to"=>"http://localhost:3000/admin/book", "_save"=>"", "model_name"=>"book", "id"=>"70"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (10.5ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 ORDER BY "books"."id" ASC LIMIT $2[0m  [["id", 70], ["LIMIT", 1]]
  [1m[36mPicture Load (0.6ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."id" = 1[0m
  [1m[36mPicture Load (0.9ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."imageable_id" = $1 AND "pictures"."imageable_type" = $2[0m  [["imageable_id", 70], ["imageable_type", "Book"]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "pictures" SET "imageable_id" = $1, "updated_at" = $2 WHERE "pictures"."id" = $3[0m  [["imageable_id", 70], ["updated_at", 2017-03-22 22:14:37 UTC], ["id", 1]]
  [1m[35m (28.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mReview Load (0.8ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE 1=0[0m
  [1m[36mReview Load (1.0ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."book_id" = $1 AND "reviews"."state" = $2[0m  [["book_id", 70], ["state", "approved"]]
  [1m[36mAuthor Load (1.1ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (19, 20)[0m
  [1m[36mAuthor Load (1.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 70]]
  [1m[36mMaterial Load (1.1ms)[0m  [1m[34mSELECT "materials".* FROM "materials" WHERE "materials"."id" IN (3, 4)[0m
  [1m[36mMaterial Load (1.0ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 70]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Dalene"], ["id", 19], ["last_name", "Torphy"], ["LIMIT", 1]]
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/book
Completed 302 Found in 126ms (ActiveRecord: 51.8ms)


Started GET "/admin/book" for 127.0.0.1 at 2017-03-23 00:14:37 +0200
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"model_name"=>"book"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (10.7ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/application
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE ('t'='t') ORDER BY books.id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 20], ["OFFSET", 0]]
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" IN (5, 4)[0m
  [1m[36mHABTM_Authors Load (0.6ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51)[0m
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (19, 20, 18)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE ('t'='t')[0m
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/application (427.9ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_secondary_navigation.html.haml (23.6ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_navigation.html.haml (30.4ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_sidebar_navigation.html.haml (48.7ms)
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml (9.9ms)
Completed 200 OK in 1115ms (Views: 1075.3ms | ActiveRecord: 14.5ms)


Started GET "/" for 127.0.0.1 at 2017-03-23 00:14:46 +0200
Processing by MainPagesController#home as HTML
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."title" = $1 LIMIT $2[0m  [["title", "Mobile"], ["LIMIT", 1]]
  [1m[36mBook Load (3.7ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" INNER JOIN "order_items" ON "order_items"."book_id" = "books"."id" INNER JOIN "orders" ON "orders"."id" = "order_items"."order_id" WHERE (lower(categories.title) = 'mobile') AND "orders"."state" = $1 GROUP BY order_items.book_id, books.id ORDER BY SUM(order_items.quantity) desc LIMIT $2[0m  [["state", "delivered"], ["LIMIT", 4]]
  [1m[36mHABTM_Authors Load (0.7ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (4, 8, 7)[0m
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (20, 18, 19)[0m
  Rendering main_pages/home.html.haml within layouts/application
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') LIMIT $1) subquery_for_count[0m  [["LIMIT", 4]]
  [1m[36mBook Load (1.6ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') ORDER BY "books"."created_at" DESC LIMIT $1[0m  [["LIMIT", 4]]
  [1m[36mHABTM_Authors Load (0.8ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (19, 18, 17, 16)[0m
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (18, 19, 20)[0m
  Rendered books/_carousel_books.html.haml (70.7ms)
  Rendered books/_book_buttons.html.haml (3.7ms)
  Rendered books/_book_buttons.html.haml (1.2ms)
  Rendered books/_book_buttons.html.haml (1.5ms)
  Rendered main_pages/home.html.haml within layouts/application (113.7ms)
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 5], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (2.2ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 5]]
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (6.9ms)
  Rendered layouts/_collapse_ul.html.haml (2.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (7.3ms)
  Rendered layouts/_collapse_ul.html.haml (9.4ms)
  [1m[36mBook Load (8.8ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendered layouts/_collapse_ul.html.haml (14.6ms)
  Rendered layouts/_navbar.html.haml (44.1ms)
  Rendered layouts/_dropdown_ul.html.haml (2.8ms)
  Rendered layouts/_dropdown_ul.html.haml (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (3.9ms)
  Rendered layouts/_dropdown_ul.html.haml (5.4ms)
  Rendered layouts/_dropdown_ul.html.haml (2.6ms)
  Rendered layouts/_navbar.html.haml (16.1ms)
  Rendered layouts/_header.html.haml (103.1ms)
  Rendered layouts/_footer.html.haml (6.4ms)
Completed 200 OK in 369ms (Views: 317.1ms | ActiveRecord: 26.9ms)


Started GET "/categories/1" for 127.0.0.1 at 2017-03-23 00:14:54 +0200
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCategory Load (1.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (10.0ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering books/index.html.haml within layouts/application
  Rendered books/_items_sorted_by.html.haml (2.3ms)
  Rendered books/_drop_down_list.html.haml (5.4ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_category_items.html.haml (10.8ms)
  Rendered books/_items_sorted_by.html.haml (1.0ms)
  Rendered books/_drop_down_list.html.haml (2.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (5.2ms)
  Rendered books/_drop_down_list.html.haml (6.3ms)
  [1m[36mBook Load (1.0ms)[0m  [1m[34mSELECT  "books"."id", "books"."price", "books"."title", "books"."count", "books"."avatar" FROM "books" WHERE "books"."category_id" = 1 ORDER BY "books"."title" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 12], ["OFFSET", 0]]
  [1m[36mHABTM_Authors Load (0.6ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (18, 10, 13, 8, 14, 7, 3, 6, 9, 5, 12, 4)[0m
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (20, 19, 18)[0m
  Rendered books/_book_buttons.html.haml (3.8ms)
  Rendered books/_book_buttons.html.haml (1.2ms)
  Rendered books/_book_buttons.html.haml (1.1ms)
  Rendered books/_book_buttons.html.haml (1.1ms)
  Rendered collection of books/_book.html.haml [4 times] (34.1ms)
  Rendered books/_book_buttons.html.haml (1.1ms)
  Rendered books/_book_buttons.html.haml (1.1ms)
  Rendered books/_book_buttons.html.haml (1.2ms)
  Rendered books/_book_buttons.html.haml (1.1ms)
  Rendered collection of books/_book.html.haml [4 times] (27.5ms)
  Rendered books/_book_buttons.html.haml (1.1ms)
  Rendered books/_book_buttons.html.haml (1.5ms)
  Rendered books/_book_buttons.html.haml (1.1ms)
  Rendered books/_book_buttons.html.haml (1.3ms)
  Rendered collection of books/_book.html.haml [4 times] (27.9ms)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."category_id" = 1[0m
  Rendered books/index.html.haml within layouts/application (147.9ms)
  [1m[36mOrder Load (0.9ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 5], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (1.1ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (3.7ms)
  Rendered layouts/_collapse_ul.html.haml (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (6.5ms)
  Rendered layouts/_collapse_ul.html.haml (8.3ms)
  Rendered layouts/_collapse_ul.html.haml (1.6ms)
  Rendered layouts/_navbar.html.haml (24.9ms)
  Rendered layouts/_dropdown_ul.html.haml (2.8ms)
  Rendered layouts/_dropdown_ul.html.haml (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (3.9ms)
  Rendered layouts/_dropdown_ul.html.haml (5.5ms)
  Rendered layouts/_dropdown_ul.html.haml (1.3ms)
  Rendered layouts/_navbar.html.haml (14.3ms)
  Rendered layouts/_header.html.haml (56.9ms)
  Rendered layouts/_footer.html.haml (6.5ms)
Completed 200 OK in 356ms (Views: 303.4ms | ActiveRecord: 19.0ms)


Started GET "/books" for 127.0.0.1 at 2017-03-23 00:14:56 +0200
Processing by BooksController#index as HTML
  Rendering books/index.html.haml within layouts/application
  Rendered books/_items_sorted_by.html.haml (2.6ms)
  Rendered books/_drop_down_list.html.haml (6.0ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_category_items.html.haml (11.8ms)
  Rendered books/_items_sorted_by.html.haml (0.9ms)
  Rendered books/_drop_down_list.html.haml (2.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (5.4ms)
  Rendered books/_drop_down_list.html.haml (6.5ms)
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT  "books"."id", "books"."price", "books"."title", "books"."count", "books"."avatar" FROM "books" ORDER BY "books"."title" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 12], ["OFFSET", 0]]
  [1m[36mHABTM_Authors Load (0.6ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (46, 18, 58, 45, 10, 37, 13, 44, 38, 63, 36, 8)[0m
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (20, 18, 19)[0m
  Rendered books/_book_buttons.html.haml (3.5ms)
  Rendered books/_book_buttons.html.haml (1.0ms)
  Rendered books/_book_buttons.html.haml (1.1ms)
  Rendered books/_book_buttons.html.haml (1.1ms)
  Rendered collection of books/_book.html.haml [4 times] (35.7ms)
  Rendered books/_book_buttons.html.haml (1.1ms)
  Rendered books/_book_buttons.html.haml (1.0ms)
  Rendered books/_book_buttons.html.haml (1.6ms)
  Rendered books/_book_buttons.html.haml (1.1ms)
  Rendered collection of books/_book.html.haml [4 times] (26.7ms)
  Rendered books/_book_buttons.html.haml (2.7ms)
  Rendered books/_book_buttons.html.haml (1.0ms)
  Rendered books/_book_buttons.html.haml (1.1ms)
  Rendered books/_book_buttons.html.haml (1.0ms)
  Rendered collection of books/_book.html.haml [4 times] (28.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
  Rendered books/index.html.haml within layouts/application (146.6ms)
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 5], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (4.1ms)
  Rendered layouts/_collapse_ul.html.haml (1.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (5.9ms)
  Rendered layouts/_collapse_ul.html.haml (7.6ms)
  [1m[36mBook Load (8.7ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendered layouts/_collapse_ul.html.haml (14.2ms)
  Rendered layouts/_navbar.html.haml (35.4ms)
  Rendered layouts/_dropdown_ul.html.haml (2.6ms)
  Rendered layouts/_dropdown_ul.html.haml (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (4.7ms)
  Rendered layouts/_dropdown_ul.html.haml (6.2ms)
  Rendered layouts/_dropdown_ul.html.haml (1.9ms)
  Rendered layouts/_navbar.html.haml (15.6ms)
  Rendered layouts/_header.html.haml (70.7ms)
  Rendered layouts/_footer.html.haml (6.1ms)
Completed 200 OK in 324ms (Views: 307.0ms | ActiveRecord: 14.2ms)


Started GET "/books?page=2" for 127.0.0.1 at 2017-03-23 00:15:01 +0200
Processing by BooksController#index as HTML
  Parameters: {"page"=>"2"}
  Rendering books/index.html.haml within layouts/application
  Rendered books/_items_sorted_by.html.haml (3.0ms)
  Rendered books/_drop_down_list.html.haml (6.2ms)
  [1m[35m (2.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_category_items.html.haml (11.5ms)
  Rendered books/_items_sorted_by.html.haml (0.8ms)
  Rendered books/_drop_down_list.html.haml (2.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (6.2ms)
  Rendered books/_drop_down_list.html.haml (8.1ms)
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  "books"."id", "books"."price", "books"."title", "books"."count", "books"."avatar" FROM "books" ORDER BY "books"."title" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 12], ["OFFSET", 12]]
  [1m[36mHABTM_Authors Load (0.5ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (28, 32, 70, 41, 14, 26, 23, 61, 64, 7, 40, 35)[0m
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (19, 20, 18)[0m
  Rendered books/_book_buttons.html.haml (4.9ms)
  Rendered books/_book_buttons.html.haml (1.6ms)
  Rendered books/_book_buttons.html.haml (1.0ms)
  Rendered books/_book_buttons.html.haml (1.6ms)
  Rendered collection of books/_book.html.haml [4 times] (38.4ms)
  Rendered books/_book_buttons.html.haml (3.5ms)
  Rendered books/_book_buttons.html.haml (1.4ms)
  Rendered books/_book_buttons.html.haml (1.1ms)
  Rendered books/_book_buttons.html.haml (1.2ms)
  Rendered collection of books/_book.html.haml [4 times] (31.5ms)
  Rendered books/_book_buttons.html.haml (1.9ms)
  Rendered books/_book_buttons.html.haml (1.5ms)
  Rendered books/_book_buttons.html.haml (1.1ms)
  Rendered books/_book_buttons.html.haml (1.2ms)
  Rendered collection of books/_book.html.haml [4 times] (31.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
  Rendered books/index.html.haml within layouts/application (167.0ms)
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 5], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (3.8ms)
  Rendered layouts/_collapse_ul.html.haml (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (6.0ms)
  Rendered layouts/_collapse_ul.html.haml (7.7ms)
  [1m[36mBook Load (9.6ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendered layouts/_collapse_ul.html.haml (15.8ms)
  Rendered layouts/_navbar.html.haml (36.6ms)
  Rendered layouts/_dropdown_ul.html.haml (2.7ms)
  Rendered layouts/_dropdown_ul.html.haml (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (4.2ms)
  Rendered layouts/_dropdown_ul.html.haml (5.8ms)
  Rendered layouts/_dropdown_ul.html.haml (1.9ms)
  Rendered layouts/_navbar.html.haml (15.0ms)
  Rendered layouts/_header.html.haml (71.8ms)
  Rendered layouts/_footer.html.haml (6.6ms)
Completed 200 OK in 344ms (Views: 325.2ms | ActiveRecord: 16.8ms)


Started GET "/books?page=3" for 127.0.0.1 at 2017-03-23 00:15:05 +0200
Processing by BooksController#index as HTML
  Parameters: {"page"=>"3"}
  Rendering books/index.html.haml within layouts/application
  Rendered books/_items_sorted_by.html.haml (2.8ms)
  Rendered books/_drop_down_list.html.haml (6.2ms)
  [1m[35m (2.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_category_items.html.haml (11.2ms)
  Rendered books/_items_sorted_by.html.haml (0.8ms)
  Rendered books/_drop_down_list.html.haml (2.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (13.6ms)
  Rendered books/_drop_down_list.html.haml (14.9ms)
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT  "books"."id", "books"."price", "books"."title", "books"."count", "books"."avatar" FROM "books" ORDER BY "books"."title" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 12], ["OFFSET", 24]]
  [1m[36mHABTM_Authors Load (0.9ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (43, 3, 6, 67, 9, 21, 25, 5, 60, 49, 51, 66)[0m
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (20, 18, 19)[0m
  Rendered books/_book_buttons.html.haml (7.6ms)
  Rendered books/_book_buttons.html.haml (1.1ms)
  Rendered books/_book_buttons.html.haml (1.2ms)
  Rendered books/_book_buttons.html.haml (1.1ms)
  Rendered collection of books/_book.html.haml [4 times] (39.1ms)
  Rendered books/_book_buttons.html.haml (1.3ms)
  Rendered books/_book_buttons.html.haml (1.0ms)
  Rendered books/_book_buttons.html.haml (1.3ms)
  Rendered books/_book_buttons.html.haml (1.3ms)
  Rendered collection of books/_book.html.haml [4 times] (28.7ms)
  Rendered books/_book_buttons.html.haml (1.7ms)
  Rendered books/_book_buttons.html.haml (1.2ms)
  Rendered books/_book_buttons.html.haml (1.2ms)
  Rendered books/_book_buttons.html.haml (1.3ms)
  Rendered collection of books/_book.html.haml [4 times] (30.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
  Rendered books/index.html.haml within layouts/application (168.9ms)
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 5], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.8ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.7ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (4.1ms)
  Rendered layouts/_collapse_ul.html.haml (1.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (6.9ms)
  Rendered layouts/_collapse_ul.html.haml (9.2ms)
  [1m[36mBook Load (8.3ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendered layouts/_collapse_ul.html.haml (14.0ms)
  Rendered layouts/_navbar.html.haml (39.9ms)
  Rendered layouts/_dropdown_ul.html.haml (2.9ms)
  Rendered layouts/_dropdown_ul.html.haml (1.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (4.7ms)
  Rendered layouts/_dropdown_ul.html.haml (7.2ms)
  Rendered layouts/_dropdown_ul.html.haml (1.9ms)
  Rendered layouts/_navbar.html.haml (18.4ms)
  Rendered layouts/_header.html.haml (81.3ms)
  Rendered layouts/_footer.html.haml (7.5ms)
Completed 200 OK in 409ms (Views: 390.2ms | ActiveRecord: 16.2ms)


Started GET "/books?page=4" for 127.0.0.1 at 2017-03-23 00:15:09 +0200
Processing by BooksController#index as HTML
  Parameters: {"page"=>"4"}
  Rendering books/index.html.haml within layouts/application
  Rendered books/_items_sorted_by.html.haml (4.1ms)
  Rendered books/_drop_down_list.html.haml (9.6ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_category_items.html.haml (15.0ms)
  Rendered books/_items_sorted_by.html.haml (1.2ms)
  Rendered books/_drop_down_list.html.haml (2.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (9.1ms)
  Rendered books/_drop_down_list.html.haml (10.3ms)
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT  "books"."id", "books"."price", "books"."title", "books"."count", "books"."avatar" FROM "books" ORDER BY "books"."title" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 12], ["OFFSET", 36]]
  [1m[36mHABTM_Authors Load (0.6ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (12, 55, 4, 65, 1, 42, 50, 57, 62, 22, 29, 11)[0m
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (20, 18, 19)[0m
  Rendered books/_book_buttons.html.haml (8.5ms)
  Rendered books/_book_buttons.html.haml (1.3ms)
  Rendered books/_book_buttons.html.haml (1.6ms)
  Rendered books/_book_buttons.html.haml (1.5ms)
  Rendered collection of books/_book.html.haml [4 times] (54.2ms)
  Rendered books/_book_buttons.html.haml (1.7ms)
  Rendered books/_book_buttons.html.haml (1.3ms)
  Rendered books/_book_buttons.html.haml (1.3ms)
  Rendered books/_book_buttons.html.haml (1.1ms)
  Rendered collection of books/_book.html.haml [4 times] (33.3ms)
  Rendered books/_book_buttons.html.haml (1.5ms)
  Rendered books/_book_buttons.html.haml (1.2ms)
  Rendered books/_book_buttons.html.haml (1.5ms)
  Rendered books/_book_buttons.html.haml (1.3ms)
  Rendered collection of books/_book.html.haml [4 times] (34.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
  Rendered books/index.html.haml within layouts/application (194.0ms)
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 5], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.6ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (4.5ms)
  Rendered layouts/_collapse_ul.html.haml (1.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (6.9ms)
  Rendered layouts/_collapse_ul.html.haml (9.5ms)
  [1m[36mBook Load (9.7ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendered layouts/_collapse_ul.html.haml (15.7ms)
  Rendered layouts/_navbar.html.haml (40.8ms)
  Rendered layouts/_dropdown_ul.html.haml (3.1ms)
  Rendered layouts/_dropdown_ul.html.haml (1.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (4.8ms)
  Rendered layouts/_dropdown_ul.html.haml (6.8ms)
  Rendered layouts/_dropdown_ul.html.haml (1.5ms)
  Rendered layouts/_navbar.html.haml (17.0ms)
  Rendered layouts/_header.html.haml (79.2ms)
  Rendered layouts/_footer.html.haml (8.0ms)
Completed 200 OK in 394ms (Views: 376.6ms | ActiveRecord: 15.0ms)


Started GET "/books?page=5" for 127.0.0.1 at 2017-03-23 00:15:13 +0200
Processing by BooksController#index as HTML
  Parameters: {"page"=>"5"}
  Rendering books/index.html.haml within layouts/application
  Rendered books/_items_sorted_by.html.haml (3.5ms)
  Rendered books/_drop_down_list.html.haml (8.3ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
  [1m[36mCategory Load (1.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_category_items.html.haml (15.6ms)
  Rendered books/_items_sorted_by.html.haml (1.0ms)
  Rendered books/_drop_down_list.html.haml (2.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (14.2ms)
  Rendered books/_drop_down_list.html.haml (15.4ms)
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT  "books"."id", "books"."price", "books"."title", "books"."count", "books"."avatar" FROM "books" ORDER BY "books"."title" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 12], ["OFFSET", 48]]
  [1m[36mHABTM_Authors Load (0.6ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (19, 54, 59, 30, 33, 27, 17, 52, 24, 34, 56, 16)[0m
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (18, 19, 20)[0m
  Rendered books/_book_buttons.html.haml (4.3ms)
  Rendered books/_book_buttons.html.haml (1.2ms)
  Rendered books/_book_buttons.html.haml (1.3ms)
  Rendered books/_book_buttons.html.haml (1.4ms)
  Rendered collection of books/_book.html.haml [4 times] (40.8ms)
  Rendered books/_book_buttons.html.haml (1.4ms)
  Rendered books/_book_buttons.html.haml (1.2ms)
  Rendered books/_book_buttons.html.haml (1.4ms)
  Rendered books/_book_buttons.html.haml (1.1ms)
  Rendered collection of books/_book.html.haml [4 times] (33.1ms)
  Rendered books/_book_buttons.html.haml (1.9ms)
  Rendered books/_book_buttons.html.haml (1.2ms)
  Rendered books/_book_buttons.html.haml (1.6ms)
  Rendered books/_book_buttons.html.haml (1.2ms)
  Rendered collection of books/_book.html.haml [4 times] (33.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
  Rendered books/index.html.haml within layouts/application (182.8ms)
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 5], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.6ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (4.0ms)
  Rendered layouts/_collapse_ul.html.haml (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (7.8ms)
  Rendered layouts/_collapse_ul.html.haml (9.9ms)
  [1m[36mBook Load (8.3ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendered layouts/_collapse_ul.html.haml (14.1ms)
  Rendered layouts/_navbar.html.haml (38.7ms)
  Rendered layouts/_dropdown_ul.html.haml (3.1ms)
  Rendered layouts/_dropdown_ul.html.haml (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (6.3ms)
  Rendered layouts/_dropdown_ul.html.haml (8.1ms)
  Rendered layouts/_dropdown_ul.html.haml (1.4ms)
  Rendered layouts/_navbar.html.haml (17.2ms)
  Rendered layouts/_header.html.haml (76.4ms)
  Rendered layouts/_footer.html.haml (7.3ms)
Completed 200 OK in 390ms (Views: 373.4ms | ActiveRecord: 14.4ms)


Started GET "/books?page=6" for 127.0.0.1 at 2017-03-23 00:15:17 +0200
Processing by BooksController#index as HTML
  Parameters: {"page"=>"6"}
  Rendering books/index.html.haml within layouts/application
  Rendered books/_items_sorted_by.html.haml (3.3ms)
  Rendered books/_drop_down_list.html.haml (7.1ms)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_category_items.html.haml (14.8ms)
  Rendered books/_items_sorted_by.html.haml (1.1ms)
  Rendered books/_drop_down_list.html.haml (2.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (8.0ms)
  Rendered books/_drop_down_list.html.haml (9.6ms)
  [1m[36mBook Load (1.1ms)[0m  [1m[34mSELECT  "books"."id", "books"."price", "books"."title", "books"."count", "books"."avatar" FROM "books" ORDER BY "books"."title" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 12], ["OFFSET", 60]]
  [1m[36mHABTM_Authors Load (0.6ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (48, 2, 15, 68, 31, 20, 53, 69, 47, 39)[0m
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (18, 19, 20)[0m
  Rendered books/_book_buttons.html.haml (4.6ms)
  Rendered books/_book_buttons.html.haml (1.3ms)
  Rendered books/_book_buttons.html.haml (1.3ms)
  Rendered books/_book_buttons.html.haml (1.3ms)
  Rendered collection of books/_book.html.haml [4 times] (43.0ms)
  Rendered books/_book_buttons.html.haml (1.3ms)
  Rendered books/_book_buttons.html.haml (1.6ms)
  Rendered books/_book_buttons.html.haml (1.4ms)
  Rendered books/_book_buttons.html.haml (1.1ms)
  Rendered collection of books/_book.html.haml [4 times] (33.4ms)
  Rendered books/_book_buttons.html.haml (1.3ms)
  Rendered books/_book_buttons.html.haml (1.4ms)
  Rendered collection of books/_book.html.haml [4 times] (16.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
  Rendered books/index.html.haml within layouts/application (162.0ms)
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 5], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.6ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (4.6ms)
  Rendered layouts/_collapse_ul.html.haml (1.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (7.1ms)
  Rendered layouts/_collapse_ul.html.haml (9.9ms)
  [1m[36mBook Load (8.4ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendered layouts/_collapse_ul.html.haml (14.8ms)
  Rendered layouts/_navbar.html.haml (42.2ms)
  Rendered layouts/_dropdown_ul.html.haml (4.7ms)
  Rendered layouts/_dropdown_ul.html.haml (1.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (4.6ms)
  Rendered layouts/_dropdown_ul.html.haml (6.4ms)
  Rendered layouts/_dropdown_ul.html.haml (1.6ms)
  Rendered layouts/_navbar.html.haml (18.8ms)
  Rendered layouts/_header.html.haml (82.3ms)
  Rendered layouts/_footer.html.haml (12.8ms)
Completed 200 OK in 382ms (Views: 364.5ms | ActiveRecord: 14.6ms)


Started GET "/books?page=5" for 127.0.0.1 at 2017-03-23 00:15:20 +0200
Processing by BooksController#index as HTML
  Parameters: {"page"=>"5"}
  Rendering books/index.html.haml within layouts/application
  Rendered books/_items_sorted_by.html.haml (7.2ms)
  Rendered books/_drop_down_list.html.haml (11.5ms)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
  [1m[36mCategory Load (1.9ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_category_items.html.haml (18.9ms)
  Rendered books/_items_sorted_by.html.haml (1.2ms)
  Rendered books/_drop_down_list.html.haml (6.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (7.0ms)
  Rendered books/_drop_down_list.html.haml (8.8ms)
  [1m[36mBook Load (7.7ms)[0m  [1m[34mSELECT  "books"."id", "books"."price", "books"."title", "books"."count", "books"."avatar" FROM "books" ORDER BY "books"."title" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 12], ["OFFSET", 48]]
  [1m[36mHABTM_Authors Load (0.6ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (19, 54, 59, 30, 33, 27, 17, 52, 24, 34, 56, 16)[0m
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (18, 19, 20)[0m
  Rendered books/_book_buttons.html.haml (8.8ms)
  Rendered books/_book_buttons.html.haml (2.2ms)
  Rendered books/_book_buttons.html.haml (3.7ms)
  Rendered books/_book_buttons.html.haml (1.5ms)
  Rendered collection of books/_book.html.haml [4 times] (71.2ms)
  Rendered books/_book_buttons.html.haml (1.7ms)
  Rendered books/_book_buttons.html.haml (2.2ms)
  Rendered books/_book_buttons.html.haml (3.6ms)
  Rendered books/_book_buttons.html.haml (1.6ms)
  Rendered collection of books/_book.html.haml [4 times] (45.3ms)
  Rendered books/_book_buttons.html.haml (1.6ms)
  Rendered books/_book_buttons.html.haml (5.6ms)
  Rendered books/_book_buttons.html.haml (1.6ms)
  Rendered books/_book_buttons.html.haml (1.9ms)
  Rendered collection of books/_book.html.haml [4 times] (50.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
  Rendered books/index.html.haml within layouts/application (263.8ms)
  [1m[36mOrder Load (0.8ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 5], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.6ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (4.0ms)
  Rendered layouts/_collapse_ul.html.haml (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (5.6ms)
  Rendered layouts/_collapse_ul.html.haml (7.2ms)
  [1m[36mBook Load (8.6ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendered layouts/_collapse_ul.html.haml (14.3ms)
  Rendered layouts/_navbar.html.haml (34.8ms)
  Rendered layouts/_dropdown_ul.html.haml (3.3ms)
  Rendered layouts/_dropdown_ul.html.haml (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (3.9ms)
  Rendered layouts/_dropdown_ul.html.haml (5.4ms)
  Rendered layouts/_dropdown_ul.html.haml (1.4ms)
  Rendered layouts/_navbar.html.haml (15.2ms)
  Rendered layouts/_header.html.haml (70.4ms)
  Rendered layouts/_footer.html.haml (6.8ms)
Completed 200 OK in 463ms (Views: 438.0ms | ActiveRecord: 22.7ms)


Started GET "/categories/1" for 127.0.0.1 at 2017-03-23 00:15:24 +0200
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCategory Load (5.5ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (12.0ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering books/index.html.haml within layouts/application
  Rendered books/_items_sorted_by.html.haml (2.2ms)
  Rendered books/_drop_down_list.html.haml (5.0ms)
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_category_items.html.haml (9.7ms)
  Rendered books/_items_sorted_by.html.haml (1.0ms)
  Rendered books/_drop_down_list.html.haml (2.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (6.4ms)
  Rendered books/_drop_down_list.html.haml (8.0ms)
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  "books"."id", "books"."price", "books"."title", "books"."count", "books"."avatar" FROM "books" WHERE "books"."category_id" = 1 ORDER BY "books"."title" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 12], ["OFFSET", 0]]
  [1m[36mHABTM_Authors Load (0.6ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (18, 10, 13, 8, 14, 7, 3, 6, 9, 5, 12, 4)[0m
  [1m[36mAuthor Load (0.8ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (20, 19, 18)[0m
  Rendered books/_book_buttons.html.haml (3.9ms)
  Rendered books/_book_buttons.html.haml (1.1ms)
  Rendered books/_book_buttons.html.haml (1.2ms)
  Rendered books/_book_buttons.html.haml (1.3ms)
  Rendered collection of books/_book.html.haml [4 times] (43.4ms)
  Rendered books/_book_buttons.html.haml (2.0ms)
  Rendered books/_book_buttons.html.haml (1.2ms)
  Rendered books/_book_buttons.html.haml (2.1ms)
  Rendered books/_book_buttons.html.haml (1.3ms)
  Rendered collection of books/_book.html.haml [4 times] (42.7ms)
  Rendered books/_book_buttons.html.haml (1.2ms)
  Rendered books/_book_buttons.html.haml (1.2ms)
  Rendered books/_book_buttons.html.haml (1.7ms)
  Rendered books/_book_buttons.html.haml (1.7ms)
  Rendered collection of books/_book.html.haml [4 times] (35.5ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."category_id" = 1[0m
  Rendered books/index.html.haml within layouts/application (178.5ms)
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 5], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrder Load (0.8ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.6ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (4.0ms)
  Rendered layouts/_collapse_ul.html.haml (1.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (6.7ms)
  Rendered layouts/_collapse_ul.html.haml (9.0ms)
  Rendered layouts/_collapse_ul.html.haml (1.6ms)
  Rendered layouts/_navbar.html.haml (25.0ms)
  Rendered layouts/_dropdown_ul.html.haml (2.8ms)
  Rendered layouts/_dropdown_ul.html.haml (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (4.2ms)
  Rendered layouts/_dropdown_ul.html.haml (6.3ms)
  Rendered layouts/_dropdown_ul.html.haml (3.3ms)
  Rendered layouts/_navbar.html.haml (17.4ms)
  Rendered layouts/_header.html.haml (60.7ms)
  Rendered layouts/_footer.html.haml (7.9ms)
Completed 200 OK in 408ms (Views: 353.7ms | ActiveRecord: 23.9ms)


Started GET "/books/18" for 127.0.0.1 at 2017-03-23 00:15:28 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"18"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (13.8ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering books/show.html.haml within layouts/application
  [1m[36mPicture Load (0.6ms)[0m  [1m[34mSELECT  "pictures".* FROM "pictures" WHERE "pictures"."imageable_id" = $1 AND "pictures"."imageable_type" = $2 ORDER BY "pictures"."id" ASC LIMIT $3[0m  [["imageable_id", 18], ["imageable_type", "Book"], ["LIMIT", 1]]
  [1m[36mPicture Load (0.4ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."imageable_id" = $1 AND "pictures"."imageable_type" = $2[0m  [["imageable_id", 18], ["imageable_type", "Book"]]
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 18]]
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMaterial Load (0.6ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 18]]
  [1m[36mReview Load (0.5ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."book_id" = $1 AND "reviews"."state" = $2[0m  [["book_id", 18], ["state", "approved"]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered reviews/_form.html.haml (208.6ms)
  Rendered books/show.html.haml within layouts/application (265.9ms)
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 5], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 5]]
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (4.3ms)
  Rendered layouts/_collapse_ul.html.haml (1.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (6.5ms)
  Rendered layouts/_collapse_ul.html.haml (9.1ms)
  Rendered layouts/_collapse_ul.html.haml (1.5ms)
  Rendered layouts/_navbar.html.haml (29.0ms)
  Rendered layouts/_dropdown_ul.html.haml (2.8ms)
  Rendered layouts/_dropdown_ul.html.haml (1.0ms)
  [1m[36mCACHE (0.3ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (4.5ms)
  Rendered layouts/_dropdown_ul.html.haml (6.5ms)
  Rendered layouts/_dropdown_ul.html.haml (1.4ms)
  Rendered layouts/_navbar.html.haml (15.4ms)
  Rendered layouts/_header.html.haml (67.3ms)
  Rendered layouts/_footer.html.haml (7.5ms)
Completed 200 OK in 546ms (Views: 484.0ms | ActiveRecord: 20.8ms)


Started GET "/ad,im" for 127.0.0.1 at 2017-03-23 00:15:35 +0200
  
ActionController::RoutingError (No route matches [GET] "/ad,im"):
  
actionpack (5.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.4.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.4.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.4.0) lib/web_console/middleware.rb:18:in `catch'
web-console (3.4.0) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
request_store (1.3.2) lib/request_store/middleware.rb:9:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.1) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.1) lib/rails/engine.rb:522:in `call'
rack (2.0.1) lib/rack/static.rb:149:in `call'
puma (3.7.0) lib/puma/configuration.rb:226:in `call'
puma (3.7.0) lib/puma/server.rb:578:in `handle_request'
puma (3.7.0) lib/puma/server.rb:415:in `process_client'
puma (3.7.0) lib/puma/server.rb:275:in `block in run'
puma (3.7.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
  Rendered collection of /home/anton/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/routes/_route.html.erb [53 times] (20.8ms)
  Rendered collection of /home/anton/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/routes/_route.html.erb [10 times] (5.2ms)
  Rendered collection of /home/anton/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/routes/_route.html.erb [5 times] (1.9ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/routes/_table.html.erb (3.8ms)
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.5ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.1/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (90.6ms)
Started GET "/admin" for 127.0.0.1 at 2017-03-23 00:15:40 +0200
Processing by RailsAdmin::MainController#dashboard as HTML
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (8.5ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[36mAddress Load (0.5ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" ORDER BY "addresses"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "authors"[0m
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE ('t'='t')[0m
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  "books".* FROM "books" ORDER BY "books"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE ('t'='t')[0m
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" ORDER BY "categories"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "countries"[0m
  [1m[36mCountry Load (0.5ms)[0m  [1m[34mSELECT  "countries".* FROM "countries" ORDER BY "countries"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "coupons"[0m
  [1m[36mCoupon Load (1.3ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" ORDER BY "coupons"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "deliveries"[0m
  [1m[36mDelivery Load (0.5ms)[0m  [1m[34mSELECT  "deliveries".* FROM "deliveries" ORDER BY "deliveries"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "materials"[0m
  [1m[36mMaterial Load (0.6ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders" WHERE ('t'='t')[0m
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" ORDER BY "orders"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "pictures"[0m
  [1m[36mPicture Load (0.4ms)[0m  [1m[34mSELECT  "pictures".* FROM "pictures" ORDER BY "pictures"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "reviews" WHERE ('t'='t')[0m
  [1m[36mReview Load (1.9ms)[0m  [1m[34mSELECT  "reviews".* FROM "reviews" ORDER BY "reviews"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE ('t'='t')[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/dashboard.html.haml within layouts/rails_admin/application
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/dashboard.html.haml within layouts/rails_admin/application (59.2ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_secondary_navigation.html.haml (5.7ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_navigation.html.haml (11.2ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_sidebar_navigation.html.haml (18.3ms)
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml (4.6ms)
Completed 200 OK in 444ms (Views: 316.1ms | ActiveRecord: 35.8ms)


Started GET "/admin/picture?_pjax=%5Bdata-pjax-container%5D" for 127.0.0.1 at 2017-03-23 00:15:45 +0200
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"_pjax"=>"[data-pjax-container]", "model_name"=>"picture"}
  [1m[36mUser Load (3.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (14.2ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax
  [1m[36mPicture Load (1.1ms)[0m  [1m[34mSELECT  "pictures".* FROM "pictures" ORDER BY pictures.id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 20], ["OFFSET", 0]]
  [1m[36mBook Load (1.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 70], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "pictures"[0m
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax (68.6ms)
Completed 200 OK in 144ms (Views: 89.2ms | ActiveRecord: 20.1ms)


Started GET "/admin/picture/new?_pjax=%5Bdata-pjax-container%5D" for 127.0.0.1 at 2017-03-23 00:15:57 +0200
Processing by RailsAdmin::MainController#new as HTML
  Parameters: {"_pjax"=>"[data-pjax-container]", "model_name"=>"picture"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (10.0ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/new.html.haml within layouts/rails_admin/pjax
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_file_upload.html.haml (3.3ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_polymorphic_association.html.haml (3.0ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_submit_buttons.html.haml (12.0ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/new.html.haml within layouts/rails_admin/pjax (32.7ms)
Completed 200 OK in 91ms (Views: 48.9ms | ActiveRecord: 11.0ms)


Started POST "/admin/picture/new" for 127.0.0.1 at 2017-03-23 00:16:05 +0200
Processing by RailsAdmin::MainController#new as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"2klJMgg/JJxQUKjLzRMe/e4xrgtAMMRJjggfdJsQY50AWrFbmuUD8xggWxgYwIxJrtyLGx///tGC4EaJmnRFhw==", "picture"=>{"path"=>#<ActionDispatch::Http::UploadedFile:0x007ff8d4611a00 @tempfile=#<Tempfile:/tmp/RackMultipart20170323-8673-7sfl6z.jpg>, @original_filename="B05517_MockupCover_Cookbook_0.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"picture[path]\"; filename=\"B05517_MockupCover_Cookbook_0.jpg\"\r\nContent-Type: image/jpeg\r\n">, "path_cache"=>"", "imageable_type"=>"", "imageable_id"=>""}, "return_to"=>"http://localhost:3000/admin/picture", "_save"=>"", "model_name"=>"picture"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (10.8ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "pictures" ("path", "created_at", "updated_at", "imageable_type") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["path", "B05517_MockupCover_Cookbook_0.jpg"], ["created_at", 2017-03-22 22:16:05 UTC], ["updated_at", 2017-03-22 22:16:05 UTC], ["imageable_type", ""]]
  [1m[35m (70.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/picture
Completed 302 Found in 123ms (ActiveRecord: 83.5ms)


Started GET "/admin/picture" for 127.0.0.1 at 2017-03-23 00:16:05 +0200
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"model_name"=>"picture"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (11.2ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/application
  [1m[36mPicture Load (0.6ms)[0m  [1m[34mSELECT  "pictures".* FROM "pictures" ORDER BY pictures.id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 20], ["OFFSET", 0]]
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 70], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "pictures"[0m
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/application (57.2ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_secondary_navigation.html.haml (7.1ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_navigation.html.haml (13.5ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_sidebar_navigation.html.haml (22.9ms)
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml (9.8ms)
Completed 200 OK in 373ms (Views: 335.3ms | ActiveRecord: 14.0ms)


Started GET "/admin/book?_pjax=%5Bdata-pjax-container%5D" for 127.0.0.1 at 2017-03-23 00:16:13 +0200
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"_pjax"=>"[data-pjax-container]", "model_name"=>"book"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (10.5ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE ('t'='t') ORDER BY books.id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 20], ["OFFSET", 0]]
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" IN (5, 4)[0m
  [1m[36mHABTM_Authors Load (0.9ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51)[0m
  [1m[36mAuthor Load (0.8ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (19, 20, 18)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE ('t'='t')[0m
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax (360.9ms)
Completed 200 OK in 414ms (Views: 372.1ms | ActiveRecord: 14.8ms)


Started GET "/admin/book/70/edit?_pjax=%5Bdata-pjax-container%5D" for 127.0.0.1 at 2017-03-23 00:16:40 +0200
Processing by RailsAdmin::MainController#edit as HTML
  Parameters: {"_pjax"=>"[data-pjax-container]", "model_name"=>"book", "id"=>"70"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (10.5ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  [1m[36mBook Load (6.9ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 ORDER BY "books"."id" ASC LIMIT $2[0m  [["id", 70], ["LIMIT", 1]]
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/edit.html.haml within layouts/rails_admin/pjax
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_field.html.haml (2.0ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_text.html.haml (2.4ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_field.html.haml (0.6ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_field.html.haml (0.3ms)
  [1m[36mCategory Load (2.4ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCategory Load (4.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE ('t'='t') ORDER BY categories.id desc[0m
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_filtering_select.html.haml (20.6ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_file_upload.html.haml (4.3ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_text.html.haml (0.5ms)
  [1m[36mPicture Load (0.6ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."imageable_id" = $1 AND "pictures"."imageable_type" = $2[0m  [["imageable_id", 70], ["imageable_type", "Book"]]
  [1m[36mPicture Load (0.5ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" ORDER BY pictures.id desc[0m
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_filtering_multiselect.html.haml (15.6ms)
  [1m[36mReview Load (0.7ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."book_id" = $1 AND "reviews"."state" = $2[0m  [["book_id", 70], ["state", "approved"]]
  [1m[36mReview Load (0.5ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE ('t'='t') ORDER BY reviews.id desc[0m
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_filtering_multiselect.html.haml (11.9ms)
  [1m[36mAuthor Load (0.8ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 70]]
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT "authors".* FROM "authors" ORDER BY authors.id desc[0m
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_filtering_multiselect.html.haml (11.5ms)
  [1m[36mMaterial Load (1.0ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 70]]
  [1m[36mMaterial Load (0.6ms)[0m  [1m[34mSELECT "materials".* FROM "materials" ORDER BY materials.id desc[0m
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_filtering_multiselect.html.haml (12.0ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_submit_buttons.html.haml (7.6ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/edit.html.haml within layouts/rails_admin/pjax (137.6ms)
Completed 200 OK in 210ms (Views: 147.6ms | ActiveRecord: 30.5ms)


Started PUT "/admin/book/70/edit" for 127.0.0.1 at 2017-03-23 00:17:19 +0200
Processing by RailsAdmin::MainController#edit as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ydutvSVEq2b2/En6/u5aBMaSmb/u36Xmwuuke1p2pWUTyFXUt56MCb6MuikrPciwhn+8r7EQn37OA/2GWxKDfw==", "book"=>{"title"=>"Champagne Women", "desc"=>"Esse perspiciatis eaque quia sed rerum nihil maiores repellat. Saepe est ab odio ad. Qui quisquam modi possimus exercitationem. Dolorem non commodi perferendis molestiae.", "price"=>"15.89", "count"=>"451", "category_id"=>"5", "avatar"=>#<ActionDispatch::Http::UploadedFile:0x007ff8c99516a8 @tempfile=#<Tempfile:/tmp/RackMultipart20170323-8673-1vv914.jpg>, @original_filename="principles-of-beautiful-web-design.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[avatar]\"; filename=\"principles-of-beautiful-web-design.jpg\"\r\nContent-Type: image/jpeg\r\n">, "avatar_cache"=>"", "dimension"=>"{\r\n  \"h\": 5.0,\r\n  \"w\": 4.4,\r\n  \"d\": 10.0\r\n}", "picture_ids"=>["", "", "1", "2"], "review_ids"=>["", ""], "author_ids"=>["", "", "19", "20"], "material_ids"=>["", "", "3", "4"]}, "return_to"=>"http://localhost:3000/admin/book", "_save"=>"", "model_name"=>"book", "id"=>"70"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (15.2ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 ORDER BY "books"."id" ASC LIMIT $2[0m  [["id", 70], ["LIMIT", 1]]
  [1m[36mPicture Load (0.6ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."id" IN (1, 2)[0m
  [1m[36mPicture Load (0.8ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."imageable_id" = $1 AND "pictures"."imageable_type" = $2[0m  [["imageable_id", 70], ["imageable_type", "Book"]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "pictures" SET "imageable_id" = $1, "imageable_type" = $2, "updated_at" = $3 WHERE "pictures"."id" = $4[0m  [["imageable_id", 70], ["imageable_type", "Book"], ["updated_at", 2017-03-22 22:17:19 UTC], ["id", 2]]
  [1m[35m (28.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mReview Load (0.7ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE 1=0[0m
  [1m[36mReview Load (0.8ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."book_id" = $1 AND "reviews"."state" = $2[0m  [["book_id", 70], ["state", "approved"]]
  [1m[36mAuthor Load (0.9ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (19, 20)[0m
  [1m[36mAuthor Load (0.8ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 70]]
  [1m[36mMaterial Load (0.8ms)[0m  [1m[34mSELECT "materials".* FROM "materials" WHERE "materials"."id" IN (3, 4)[0m
  [1m[36mMaterial Load (0.8ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 70]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Dalene"], ["id", 19], ["last_name", "Torphy"], ["LIMIT", 1]]
  [1m[36mAuthor Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "books" SET "avatar" = $1, "updated_at" = $2 WHERE "books"."id" = $3[0m  [["avatar", "principles-of-beautiful-web-design.jpg"], ["updated_at", 2017-03-22 22:17:19 UTC], ["id", 70]]
  [1m[35m (9.6ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/book
Completed 302 Found in 149ms (ActiveRecord: 63.9ms)


Started GET "/admin/book" for 127.0.0.1 at 2017-03-23 00:17:19 +0200
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"model_name"=>"book"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (8.6ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/application
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE ('t'='t') ORDER BY books.id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 20], ["OFFSET", 0]]
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" IN (5, 4)[0m
  [1m[36mHABTM_Authors Load (0.8ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51)[0m
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (19, 20, 18)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE ('t'='t')[0m
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/application (367.2ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_secondary_navigation.html.haml (5.7ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_navigation.html.haml (10.9ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_sidebar_navigation.html.haml (19.9ms)
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml (8.8ms)
Completed 200 OK in 648ms (Views: 608.4ms | ActiveRecord: 12.7ms)


Started GET "/" for 127.0.0.1 at 2017-03-23 00:17:26 +0200
Processing by MainPagesController#home as HTML
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."title" = $1 LIMIT $2[0m  [["title", "Mobile"], ["LIMIT", 1]]
  [1m[36mBook Load (1.9ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" INNER JOIN "order_items" ON "order_items"."book_id" = "books"."id" INNER JOIN "orders" ON "orders"."id" = "order_items"."order_id" WHERE (lower(categories.title) = 'mobile') AND "orders"."state" = $1 GROUP BY order_items.book_id, books.id ORDER BY SUM(order_items.quantity) desc LIMIT $2[0m  [["state", "delivered"], ["LIMIT", 4]]
  [1m[36mHABTM_Authors Load (0.6ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (4, 8, 7)[0m
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (20, 18, 19)[0m
  Rendering main_pages/home.html.haml within layouts/application
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') LIMIT $1) subquery_for_count[0m  [["LIMIT", 4]]
  [1m[36mBook Load (1.0ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') ORDER BY "books"."created_at" DESC LIMIT $1[0m  [["LIMIT", 4]]
  [1m[36mHABTM_Authors Load (0.7ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (19, 18, 17, 16)[0m
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (18, 19, 20)[0m
  Rendered books/_carousel_books.html.haml (43.0ms)
  Rendered books/_book_buttons.html.haml (4.5ms)
  Rendered books/_book_buttons.html.haml (1.0ms)
  Rendered books/_book_buttons.html.haml (1.0ms)
  Rendered main_pages/home.html.haml within layouts/application (70.9ms)
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 5], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.6ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 5]]
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (4.1ms)
  Rendered layouts/_collapse_ul.html.haml (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (6.0ms)
  Rendered layouts/_collapse_ul.html.haml (26.2ms)
  [1m[36mBook Load (9.2ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendered layouts/_collapse_ul.html.haml (15.3ms)
  Rendered layouts/_navbar.html.haml (54.7ms)
  Rendered layouts/_dropdown_ul.html.haml (3.2ms)
  Rendered layouts/_dropdown_ul.html.haml (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (4.3ms)
  Rendered layouts/_dropdown_ul.html.haml (6.0ms)
  Rendered layouts/_dropdown_ul.html.haml (1.4ms)
  Rendered layouts/_navbar.html.haml (15.9ms)
  Rendered layouts/_header.html.haml (90.7ms)
  Rendered layouts/_footer.html.haml (7.1ms)
Completed 200 OK in 277ms (Views: 241.6ms | ActiveRecord: 19.3ms)


Started GET "/categories/1" for 127.0.0.1 at 2017-03-23 00:17:30 +0200
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (15.9ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering books/index.html.haml within layouts/application
  Rendered books/_items_sorted_by.html.haml (2.3ms)
  Rendered books/_drop_down_list.html.haml (5.3ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_category_items.html.haml (11.2ms)
  Rendered books/_items_sorted_by.html.haml (0.7ms)
  Rendered books/_drop_down_list.html.haml (1.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (5.6ms)
  Rendered books/_drop_down_list.html.haml (6.7ms)
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT  "books"."id", "books"."price", "books"."title", "books"."count", "books"."avatar" FROM "books" WHERE "books"."category_id" = 1 ORDER BY "books"."title" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 12], ["OFFSET", 0]]
  [1m[36mHABTM_Authors Load (0.7ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (18, 10, 13, 8, 14, 7, 3, 6, 9, 5, 12, 4)[0m
  [1m[36mAuthor Load (0.8ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (20, 19, 18)[0m
  Rendered books/_book_buttons.html.haml (3.8ms)
  Rendered books/_book_buttons.html.haml (1.1ms)
  Rendered books/_book_buttons.html.haml (1.3ms)
  Rendered books/_book_buttons.html.haml (1.1ms)
  Rendered collection of books/_book.html.haml [4 times] (36.6ms)
  Rendered books/_book_buttons.html.haml (1.2ms)
  Rendered books/_book_buttons.html.haml (1.4ms)
  Rendered books/_book_buttons.html.haml (1.3ms)
  Rendered books/_book_buttons.html.haml (1.4ms)
  Rendered collection of books/_book.html.haml [4 times] (30.2ms)
  Rendered books/_book_buttons.html.haml (1.1ms)
  Rendered books/_book_buttons.html.haml (1.2ms)
  Rendered books/_book_buttons.html.haml (1.2ms)
  Rendered books/_book_buttons.html.haml (1.4ms)
  Rendered collection of books/_book.html.haml [4 times] (29.6ms)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."category_id" = 1[0m
  Rendered books/index.html.haml within layouts/application (153.1ms)
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 5], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.6ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (3.7ms)
  Rendered layouts/_collapse_ul.html.haml (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (6.1ms)
  Rendered layouts/_collapse_ul.html.haml (7.9ms)
  Rendered layouts/_collapse_ul.html.haml (1.8ms)
  Rendered layouts/_navbar.html.haml (23.5ms)
  Rendered layouts/_dropdown_ul.html.haml (2.7ms)
  Rendered layouts/_dropdown_ul.html.haml (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (3.7ms)
  Rendered layouts/_dropdown_ul.html.haml (5.1ms)
  Rendered layouts/_dropdown_ul.html.haml (1.3ms)
  Rendered layouts/_navbar.html.haml (13.5ms)
  Rendered layouts/_header.html.haml (53.9ms)
  Rendered layouts/_footer.html.haml (6.6ms)
Completed 200 OK in 355ms (Views: 305.4ms | ActiveRecord: 24.9ms)


Started GET "/categories/5" for 127.0.0.1 at 2017-03-23 00:17:34 +0200
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mCategory Load (1.5ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (13.3ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering books/index.html.haml within layouts/application
  Rendered books/_items_sorted_by.html.haml (4.4ms)
  Rendered books/_drop_down_list.html.haml (8.3ms)
  [1m[35m (2.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_category_items.html.haml (12.6ms)
  Rendered books/_items_sorted_by.html.haml (0.8ms)
  Rendered books/_drop_down_list.html.haml (1.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (6.1ms)
  Rendered books/_drop_down_list.html.haml (7.2ms)
  [1m[36mBook Load (1.1ms)[0m  [1m[34mSELECT  "books"."id", "books"."price", "books"."title", "books"."count", "books"."avatar" FROM "books" WHERE "books"."category_id" = 5 ORDER BY "books"."title" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 12], ["OFFSET", 0]]
  [1m[36mHABTM_Authors Load (0.6ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (70, 64, 67, 66, 65, 68, 69)[0m
  [1m[36mAuthor Load (1.2ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (19, 20, 18)[0m
  Rendered books/_book_buttons.html.haml (3.9ms)
  Rendered books/_book_buttons.html.haml (1.2ms)
  Rendered books/_book_buttons.html.haml (1.1ms)
  Rendered books/_book_buttons.html.haml (1.7ms)
  Rendered collection of books/_book.html.haml [4 times] (39.3ms)
  Rendered books/_book_buttons.html.haml (1.3ms)
  Rendered books/_book_buttons.html.haml (1.4ms)
  Rendered books/_book_buttons.html.haml (1.1ms)
  Rendered collection of books/_book.html.haml [4 times] (23.4ms)
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."category_id" = 5[0m
  Rendered books/index.html.haml within layouts/application (124.8ms)
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 5], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.9ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (4.1ms)
  Rendered layouts/_collapse_ul.html.haml (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (7.9ms)
  Rendered layouts/_collapse_ul.html.haml (9.6ms)
  Rendered layouts/_collapse_ul.html.haml (1.5ms)
  Rendered layouts/_navbar.html.haml (26.6ms)
  Rendered layouts/_dropdown_ul.html.haml (2.9ms)
  Rendered layouts/_dropdown_ul.html.haml (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (3.7ms)
  Rendered layouts/_dropdown_ul.html.haml (5.2ms)
  Rendered layouts/_dropdown_ul.html.haml (1.2ms)
  Rendered layouts/_navbar.html.haml (13.8ms)
  Rendered layouts/_header.html.haml (58.2ms)
  Rendered layouts/_footer.html.haml (15.7ms)
Completed 200 OK in 354ms (Views: 299.2ms | ActiveRecord: 25.8ms)


Started GET "/books/70" for 127.0.0.1 at 2017-03-23 00:17:39 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"70"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 70], ["LIMIT", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (9.5ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering books/show.html.haml within layouts/application
  [1m[36mPicture Load (0.8ms)[0m  [1m[34mSELECT  "pictures".* FROM "pictures" WHERE "pictures"."imageable_id" = $1 AND "pictures"."imageable_type" = $2 ORDER BY "pictures"."id" ASC LIMIT $3[0m  [["imageable_id", 70], ["imageable_type", "Book"], ["LIMIT", 1]]
  [1m[36mPicture Load (0.5ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."imageable_id" = $1 AND "pictures"."imageable_type" = $2[0m  [["imageable_id", 70], ["imageable_type", "Book"]]
  [1m[36mAuthor Load (1.9ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 70]]
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mMaterial Load (0.7ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 70]]
  [1m[36mReview Load (0.6ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."book_id" = $1 AND "reviews"."state" = $2[0m  [["book_id", 70], ["state", "approved"]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered reviews/_form.html.haml (13.3ms)
  Rendered books/show.html.haml within layouts/application (58.7ms)
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 5], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.5ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 5]]
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (4.4ms)
  Rendered layouts/_collapse_ul.html.haml (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (6.9ms)
  Rendered layouts/_collapse_ul.html.haml (8.8ms)
  Rendered layouts/_collapse_ul.html.haml (1.6ms)
  Rendered layouts/_navbar.html.haml (24.9ms)
  Rendered layouts/_dropdown_ul.html.haml (2.8ms)
  Rendered layouts/_dropdown_ul.html.haml (2.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (4.3ms)
  Rendered layouts/_dropdown_ul.html.haml (6.0ms)
  Rendered layouts/_dropdown_ul.html.haml (1.4ms)
  Rendered layouts/_navbar.html.haml (16.9ms)
  Rendered layouts/_header.html.haml (58.8ms)
  Rendered layouts/_footer.html.haml (7.2ms)
Completed 200 OK in 289ms (Views: 240.2ms | ActiveRecord: 18.2ms)


Started POST "/order_items" for 127.0.0.1 at 2017-03-23 00:17:51 +0200
Processing by OrderItemsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"HaLtC+KML1/5csENUh/EOgbPnGoMin+FQfsgjGF9313HsRVicFYIMLECMt6HzFaORiK5elNFRR1NE3lxYBn5Rw==", "book_id"=>"70", "quantity"=>"1"}
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 5], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.6ms)[0m  [1m[34mSELECT  "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 AND "order_items"."book_id" = $2 ORDER BY "order_items"."created_at" ASC LIMIT $3[0m  [["order_id", 5], ["book_id", 70], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 70], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "order_items" ("quantity", "book_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["book_id", 70], ["order_id", 5], ["created_at", 2017-03-22 22:17:51 UTC], ["updated_at", 2017-03-22 22:17:51 UTC]]
  [1m[35m (47.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mOrderItem Load (0.6ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 5]]
  [1m[36mCoupon Load (0.6ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 5], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "orders" SET "updated_at" = $1, "total_price" = $2 WHERE "orders"."id" = $3[0m  [["updated_at", 2017-03-22 22:17:51 UTC], ["total_price", #<BigDecimal:7ff8ccc241c0,'0.1589E2',18(27)>], ["id", 5]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "order_items" SET "created_at" = $1, "updated_at" = $2 WHERE "order_items"."id" = $3[0m  [["created_at", 2017-03-22 22:17:51 UTC], ["updated_at", 2017-03-22 22:17:51 UTC], ["id", 12]]
  [1m[35m (10.6ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/categories/5
Completed 302 Found in 130ms (ActiveRecord: 68.7ms)


Started GET "/categories/5" for 127.0.0.1 at 2017-03-23 00:17:51 +0200
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (9.7ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering books/index.html.haml within layouts/application
  Rendered books/_items_sorted_by.html.haml (2.5ms)
  Rendered books/_drop_down_list.html.haml (6.0ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_category_items.html.haml (11.7ms)
  Rendered books/_items_sorted_by.html.haml (0.7ms)
  Rendered books/_drop_down_list.html.haml (1.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (7.6ms)
  Rendered books/_drop_down_list.html.haml (8.7ms)
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  "books"."id", "books"."price", "books"."title", "books"."count", "books"."avatar" FROM "books" WHERE "books"."category_id" = 5 ORDER BY "books"."title" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 12], ["OFFSET", 0]]
  [1m[36mHABTM_Authors Load (0.8ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (70, 64, 67, 66, 65, 68, 69)[0m
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (19, 20, 18)[0m
  Rendered books/_book_buttons.html.haml (3.6ms)
  Rendered books/_book_buttons.html.haml (1.2ms)
  Rendered books/_book_buttons.html.haml (1.1ms)
  Rendered books/_book_buttons.html.haml (2.0ms)
  Rendered collection of books/_book.html.haml [4 times] (38.7ms)
  Rendered books/_book_buttons.html.haml (1.2ms)
  Rendered books/_book_buttons.html.haml (1.4ms)
  Rendered books/_book_buttons.html.haml (1.4ms)
  Rendered collection of books/_book.html.haml [4 times] (23.1ms)
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."category_id" = 5[0m
  Rendered books/index.html.haml within layouts/application (122.6ms)
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 5], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrder Load (1.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.6ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (5.0ms)
  Rendered layouts/_collapse_ul.html.haml (1.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (7.1ms)
  Rendered layouts/_collapse_ul.html.haml (9.2ms)
  Rendered layouts/_collapse_ul.html.haml (2.4ms)
  Rendered layouts/_navbar.html.haml (27.6ms)
  Rendered layouts/_dropdown_ul.html.haml (3.3ms)
  Rendered layouts/_dropdown_ul.html.haml (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (4.7ms)
  Rendered layouts/_dropdown_ul.html.haml (6.9ms)
  Rendered layouts/_dropdown_ul.html.haml (1.5ms)
  Rendered layouts/_navbar.html.haml (16.7ms)
  Rendered layouts/_header.html.haml (66.3ms)
  Rendered layouts/_footer.html.haml (7.6ms)
Completed 200 OK in 343ms (Views: 299.1ms | ActiveRecord: 17.2ms)


Started GET "/cart" for 127.0.0.1 at 2017-03-23 00:17:54 +0200
Processing by CartsController#edit as HTML
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 5], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mOrderItem Load (2.6ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = 5 ORDER BY "order_items"."created_at" ASC[0m
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 70[0m
  [1m[36mCoupon Load (0.9ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 5], ["LIMIT", 1]]
  Rendering carts/edit.html.haml within layouts/application
  Rendered order_items/_delete_link.html.haml (2.1ms)
  Rendered order_items/_quantity_field.html.haml (4.9ms)
  Rendered order_items/_order_item.html.haml (18.1ms)
  Rendered orders/_result_panel.html.haml (6.6ms)
  Rendered carts/_bottom_panel.html.haml (13.9ms)
  Rendered order_items/_quantity_field.html.haml (2.5ms)
  Rendered order_items/_delete_link.html.haml (0.7ms)
  Rendered order_items/_table_field.html.haml (10.2ms)
  Rendered order_items/_table.html.haml (15.5ms)
  Rendered orders/_result_panel.html.haml (2.2ms)
  Rendered carts/_bottom_panel.html.haml (6.7ms)
  Rendered carts/edit.html.haml within layouts/application (66.5ms)
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (4.9ms)
  Rendered layouts/_collapse_ul.html.haml (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (5.6ms)
  Rendered layouts/_collapse_ul.html.haml (7.3ms)
  [1m[36mBook Load (8.4ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendered layouts/_collapse_ul.html.haml (13.8ms)
  Rendered layouts/_navbar.html.haml (35.8ms)
  Rendered layouts/_dropdown_ul.html.haml (4.2ms)
  Rendered layouts/_dropdown_ul.html.haml (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (3.7ms)
  Rendered layouts/_dropdown_ul.html.haml (5.4ms)
  Rendered layouts/_dropdown_ul.html.haml (1.4ms)
  Rendered layouts/_navbar.html.haml (16.4ms)
  Rendered layouts/_header.html.haml (80.0ms)
  Rendered layouts/_footer.html.haml (6.4ms)
Completed 200 OK in 291ms (Views: 247.0ms | ActiveRecord: 15.6ms)


Started GET "/books/70" for 127.0.0.1 at 2017-03-23 00:17:59 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"70"}
  [1m[36mBook Load (1.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 70], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (9.8ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering books/show.html.haml within layouts/application
  [1m[36mPicture Load (0.7ms)[0m  [1m[34mSELECT  "pictures".* FROM "pictures" WHERE "pictures"."imageable_id" = $1 AND "pictures"."imageable_type" = $2 ORDER BY "pictures"."id" ASC LIMIT $3[0m  [["imageable_id", 70], ["imageable_type", "Book"], ["LIMIT", 1]]
  [1m[36mPicture Load (0.5ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."imageable_id" = $1 AND "pictures"."imageable_type" = $2[0m  [["imageable_id", 70], ["imageable_type", "Book"]]
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 70]]
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mMaterial Load (0.6ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 70]]
  [1m[36mReview Load (0.6ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."book_id" = $1 AND "reviews"."state" = $2[0m  [["book_id", 70], ["state", "approved"]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered reviews/_form.html.haml (11.9ms)
  Rendered books/show.html.haml within layouts/application (53.7ms)
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 5], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.9ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 5]]
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (5.4ms)
  Rendered layouts/_collapse_ul.html.haml (1.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (5.3ms)
  Rendered layouts/_collapse_ul.html.haml (7.2ms)
  Rendered layouts/_collapse_ul.html.haml (2.7ms)
  Rendered layouts/_navbar.html.haml (28.3ms)
  Rendered layouts/_dropdown_ul.html.haml (3.4ms)
  Rendered layouts/_dropdown_ul.html.haml (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (4.1ms)
  Rendered layouts/_dropdown_ul.html.haml (9.6ms)
  Rendered layouts/_dropdown_ul.html.haml (2.2ms)
  Rendered layouts/_navbar.html.haml (22.2ms)
  Rendered layouts/_header.html.haml (70.6ms)
  Rendered layouts/_footer.html.haml (7.0ms)
Completed 200 OK in 273ms (Views: 227.0ms | ActiveRecord: 18.1ms)


Started GET "/cart" for 127.0.0.1 at 2017-03-23 00:25:33 +0200
Processing by CartsController#edit as HTML
  [1m[36mOrder Load (3.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 5], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (1.7ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.7ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = 5 ORDER BY "order_items"."created_at" ASC[0m
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 70[0m
  [1m[36mCoupon Load (0.4ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" WHERE "coupons"."order_id" = $1 LIMIT $2[0m  [["order_id", 5], ["LIMIT", 1]]
  Rendering carts/edit.html.haml within layouts/application
  Rendered order_items/_delete_link.html.haml (2.3ms)
  Rendered order_items/_quantity_field.html.haml (9.5ms)
  Rendered order_items/_order_item.html.haml (23.5ms)
  Rendered orders/_result_panel.html.haml (6.0ms)
  Rendered carts/_bottom_panel.html.haml (22.0ms)
  Rendered order_items/_quantity_field.html.haml (2.9ms)
  Rendered order_items/_delete_link.html.haml (0.7ms)
  Rendered order_items/_table_field.html.haml (21.0ms)
  Rendered order_items/_table.html.haml (27.1ms)
  Rendered orders/_result_panel.html.haml (1.7ms)
  Rendered carts/_bottom_panel.html.haml (6.2ms)
  Rendered carts/edit.html.haml within layouts/application (105.2ms)
  [1m[36mCategory Load (0.8ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (5.4ms)
  Rendered layouts/_collapse_ul.html.haml (1.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (6.3ms)
  Rendered layouts/_collapse_ul.html.haml (8.4ms)
  [1m[36mBook Load (9.0ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendered layouts/_collapse_ul.html.haml (16.6ms)
  Rendered layouts/_navbar.html.haml (41.6ms)
  Rendered layouts/_dropdown_ul.html.haml (3.1ms)
  Rendered layouts/_dropdown_ul.html.haml (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (5.3ms)
  Rendered layouts/_dropdown_ul.html.haml (7.3ms)
  Rendered layouts/_dropdown_ul.html.haml (1.5ms)
  Rendered layouts/_navbar.html.haml (17.3ms)
  Rendered layouts/_header.html.haml (67.4ms)
  Rendered layouts/_footer.html.haml (7.4ms)
Completed 200 OK in 331ms (Views: 296.0ms | ActiveRecord: 18.0ms)


DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
Started GET "/" for 127.0.0.1 at 2017-03-23 00:58:38 +0200
  [1m[36mActiveRecord::SchemaMigration Load (1.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by MainPagesController#home as HTML
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."title" = $1 LIMIT $2[0m  [["title", "Mobile"], ["LIMIT", 1]]
  [1m[36mBook Load (2.8ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" INNER JOIN "order_items" ON "order_items"."book_id" = "books"."id" INNER JOIN "orders" ON "orders"."id" = "order_items"."order_id" WHERE (lower(categories.title) = 'mobile') AND "orders"."state" = $1 GROUP BY order_items.book_id, books.id ORDER BY SUM(order_items.quantity) desc LIMIT $2[0m  [["state", "delivered"], ["LIMIT", 4]]
  [1m[36mHABTM_Authors Load (0.7ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (4, 8, 7)[0m
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (20, 18, 19)[0m
  Rendering main_pages/home.html.haml within layouts/application
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') LIMIT $1) subquery_for_count[0m  [["LIMIT", 4]]
  [1m[36mBook Load (1.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') ORDER BY "books"."created_at" DESC LIMIT $1[0m  [["LIMIT", 4]]
  [1m[36mHABTM_Authors Load (0.6ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (19, 18, 17, 16)[0m
  [1m[36mAuthor Load (1.7ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (18, 19, 20)[0m
  Rendered books/_carousel_books.html.haml (668.2ms)
  Rendered books/_book_buttons.html.haml (5.5ms)
  Rendered books/_book_buttons.html.haml (1.3ms)
  Rendered books/_book_buttons.html.haml (1.3ms)
  Rendered main_pages/home.html.haml within layouts/application (717.8ms)
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 5], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.9ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (1.1ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 5]]
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (6.6ms)
  Rendered layouts/_collapse_ul.html.haml (2.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (8.1ms)
  Rendered layouts/_collapse_ul.html.haml (10.3ms)
  [1m[36mBook Load (11.1ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendered layouts/_collapse_ul.html.haml (90.6ms)
  Rendered layouts/_navbar.html.haml (119.3ms)
  Rendered layouts/_dropdown_ul.html.haml (3.6ms)
  Rendered layouts/_dropdown_ul.html.haml (1.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (5.7ms)
  Rendered layouts/_dropdown_ul.html.haml (7.9ms)
  Rendered layouts/_dropdown_ul.html.haml (1.5ms)
  Rendered layouts/_navbar.html.haml (19.0ms)
  Rendered layouts/_header.html.haml (220.0ms)
  Rendered layouts/_footer.html.haml (8.7ms)
Completed 200 OK in 1928ms (Views: 1106.4ms | ActiveRecord: 63.8ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-23 00:58:53 +0200
Processing by RailsAdmin::MainController#dashboard as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (9.8ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[36mAddress Load (0.6ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" ORDER BY "addresses"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "authors"[0m
  [1m[36mAuthor Load (1.3ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE ('t'='t')[0m
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" ORDER BY "books"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE ('t'='t')[0m
  [1m[36mCategory Load (0.8ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" ORDER BY "categories"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "countries"[0m
  [1m[36mCountry Load (0.7ms)[0m  [1m[34mSELECT  "countries".* FROM "countries" ORDER BY "countries"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "coupons"[0m
  [1m[36mCoupon Load (1.7ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" ORDER BY "coupons"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "deliveries"[0m
  [1m[36mDelivery Load (0.5ms)[0m  [1m[34mSELECT  "deliveries".* FROM "deliveries" ORDER BY "deliveries"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "materials"[0m
  [1m[36mMaterial Load (0.5ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders" WHERE ('t'='t')[0m
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" ORDER BY "orders"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "pictures"[0m
  [1m[36mPicture Load (0.5ms)[0m  [1m[34mSELECT  "pictures".* FROM "pictures" ORDER BY "pictures"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "reviews" WHERE ('t'='t')[0m
  [1m[36mReview Load (0.8ms)[0m  [1m[34mSELECT  "reviews".* FROM "reviews" ORDER BY "reviews"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE ('t'='t')[0m
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/dashboard.html.haml within layouts/rails_admin/application
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/dashboard.html.haml within layouts/rails_admin/application (90.6ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_secondary_navigation.html.haml (8.0ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_navigation.html.haml (13.3ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_sidebar_navigation.html.haml (19.6ms)
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml (5.3ms)
Completed 200 OK in 1014ms (Views: 392.0ms | ActiveRecord: 44.0ms)


Started GET "/admin/picture?_pjax=%5Bdata-pjax-container%5D" for 127.0.0.1 at 2017-03-23 00:58:59 +0200
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"_pjax"=>"[data-pjax-container]", "model_name"=>"picture"}
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (14.1ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax
  [1m[36mPicture Load (0.6ms)[0m  [1m[34mSELECT  "pictures".* FROM "pictures" ORDER BY pictures.id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 20], ["OFFSET", 0]]
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 70], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 70], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "pictures"[0m
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax (98.8ms)
Completed 200 OK in 167ms (Views: 117.3ms | ActiveRecord: 17.6ms)


Started GET "/admin/picture/new?_pjax=%5Bdata-pjax-container%5D" for 127.0.0.1 at 2017-03-23 00:59:04 +0200
Processing by RailsAdmin::MainController#new as HTML
  Parameters: {"_pjax"=>"[data-pjax-container]", "model_name"=>"picture"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (8.9ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/new.html.haml within layouts/rails_admin/pjax
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_file_upload.html.haml (14.9ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_polymorphic_association.html.haml (7.4ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_submit_buttons.html.haml (7.8ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/new.html.haml within layouts/rails_admin/pjax (53.7ms)
Completed 200 OK in 108ms (Views: 73.3ms | ActiveRecord: 10.0ms)


Started POST "/admin/picture/new" for 127.0.0.1 at 2017-03-23 00:59:15 +0200
Processing by RailsAdmin::MainController#new as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"B5AvZfDKtn1q6CUUY4lmbV/mq4Ed7G3i0LYWAP8ceX3dg9cMYhCREiKY1se2WvTZHwuOkUIjV3rcXk/9/nhfZw==", "picture"=>{"path"=>#<ActionDispatch::Http::UploadedFile:0x007f2df1ae34d8 @tempfile=#<Tempfile:/tmp/RackMultipart20170323-11437-1ztrep.jpg>, @original_filename="C06035.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"picture[path]\"; filename=\"C06035.jpg\"\r\nContent-Type: image/jpeg\r\n">, "path_cache"=>"", "imageable_type"=>"", "imageable_id"=>""}, "return_to"=>"http://localhost:3000/admin/picture", "_save"=>"", "model_name"=>"picture"}
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (11.1ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "pictures" ("path", "created_at", "updated_at", "imageable_type") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["path", "C06035.jpg"], ["created_at", 2017-03-22 22:59:15 UTC], ["updated_at", 2017-03-22 22:59:15 UTC], ["imageable_type", ""]]
  [1m[35m (45.6ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/picture
Completed 302 Found in 137ms (ActiveRecord: 59.6ms)


Started GET "/admin/picture" for 127.0.0.1 at 2017-03-23 00:59:15 +0200
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"model_name"=>"picture"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (13.0ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/application
  [1m[36mPicture Load (0.7ms)[0m  [1m[34mSELECT  "pictures".* FROM "pictures" ORDER BY pictures.id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 20], ["OFFSET", 0]]
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 70], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 70], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "pictures"[0m
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/application (88.0ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_secondary_navigation.html.haml (6.3ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_navigation.html.haml (12.2ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_sidebar_navigation.html.haml (20.2ms)
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml (11.6ms)
Completed 200 OK in 399ms (Views: 354.2ms | ActiveRecord: 16.1ms)


Started GET "/admin/picture/new?_pjax=%5Bdata-pjax-container%5D" for 127.0.0.1 at 2017-03-23 00:59:32 +0200
Processing by RailsAdmin::MainController#new as HTML
  Parameters: {"_pjax"=>"[data-pjax-container]", "model_name"=>"picture"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (12.6ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/new.html.haml within layouts/rails_admin/pjax
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_file_upload.html.haml (3.6ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_polymorphic_association.html.haml (3.2ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_submit_buttons.html.haml (7.6ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/new.html.haml within layouts/rails_admin/pjax (28.4ms)
Completed 200 OK in 84ms (Views: 45.6ms | ActiveRecord: 13.3ms)


Started GET "/admin/book?_pjax=%5Bdata-pjax-container%5D" for 127.0.0.1 at 2017-03-23 00:59:35 +0200
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"_pjax"=>"[data-pjax-container]", "model_name"=>"book"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (13.1ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE ('t'='t') ORDER BY books.id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 20], ["OFFSET", 0]]
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" IN (5, 4)[0m
  [1m[36mHABTM_Authors Load (0.6ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51)[0m
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (19, 20, 18)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE ('t'='t')[0m
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax (400.6ms)
Completed 200 OK in 468ms (Views: 413.0ms | ActiveRecord: 17.3ms)


Started GET "/admin/book?_pjax=%5Bdata-pjax-container%5D&page=2&sort=id&sort_reverse=false&_pjax=%5Bdata-pjax-container%5D" for 127.0.0.1 at 2017-03-23 00:59:48 +0200
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"_pjax"=>"[data-pjax-container]", "page"=>"2", "sort"=>"id", "sort_reverse"=>"false", "model_name"=>"book"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (12.5ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE ('t'='t') ORDER BY books.id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 20], ["OFFSET", 20]]
  [1m[36mCategory Load (5.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" IN (4, 3, 2)[0m
  [1m[36mHABTM_Authors Load (0.6ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (50, 49, 48, 47, 46, 45, 44, 43, 42, 41, 40, 39, 38, 37, 36, 35, 34, 33, 32, 31)[0m
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (18, 19, 20)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE ('t'='t')[0m
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax (366.9ms)
Completed 200 OK in 432ms (Views: 377.7ms | ActiveRecord: 21.0ms)


Started GET "/admin/book?_pjax=%5Bdata-pjax-container%5D&page=3&sort=id&sort_reverse=false&_pjax=%5Bdata-pjax-container%5D" for 127.0.0.1 at 2017-03-23 00:59:58 +0200
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"_pjax"=>"[data-pjax-container]", "page"=>"3", "sort"=>"id", "sort_reverse"=>"false", "model_name"=>"book"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (8.5ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax
  [1m[36mBook Load (3.7ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE ('t'='t') ORDER BY books.id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 20], ["OFFSET", 40]]
  [1m[36mCategory Load (1.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" IN (2, 1)[0m
  [1m[36mHABTM_Authors Load (0.7ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (30, 29, 28, 27, 26, 25, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11)[0m
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (20, 19, 18)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE ('t'='t')[0m
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax (396.3ms)
Completed 200 OK in 450ms (Views: 406.0ms | ActiveRecord: 15.8ms)


Started GET "/admin/book?_pjax=%5Bdata-pjax-container%5D&page=4&sort=id&sort_reverse=false&_pjax=%5Bdata-pjax-container%5D" for 127.0.0.1 at 2017-03-23 01:00:06 +0200
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"_pjax"=>"[data-pjax-container]", "page"=>"4", "sort"=>"id", "sort_reverse"=>"false", "model_name"=>"book"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (10.3ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax
  [1m[36mBook Load (2.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE ('t'='t') ORDER BY books.id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 20], ["OFFSET", 60]]
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = 1[0m
  [1m[36mHABTM_Authors Load (0.8ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (10, 9, 8, 7, 6, 5, 4, 3, 2, 1)[0m
  [1m[36mAuthor Load (0.9ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (20, 18, 19)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE ('t'='t')[0m
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax (236.3ms)
Completed 200 OK in 310ms (Views: 248.7ms | ActiveRecord: 16.6ms)


Started GET "/admin/book?_pjax=%5Bdata-pjax-container%5D&sort=id&sort_reverse=false&_pjax=%5Bdata-pjax-container%5D" for 127.0.0.1 at 2017-03-23 01:00:13 +0200
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"_pjax"=>"[data-pjax-container]", "sort"=>"id", "sort_reverse"=>"false", "model_name"=>"book"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (12.8ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax
  [1m[36mBook Load (1.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE ('t'='t') ORDER BY books.id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 20], ["OFFSET", 0]]
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" IN (5, 4)[0m
  [1m[36mHABTM_Authors Load (1.0ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51)[0m
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (19, 20, 18)[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE ('t'='t')[0m
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax (405.8ms)
Completed 200 OK in 464ms (Views: 416.5ms | ActiveRecord: 18.9ms)


Started GET "/admin/book?all=true&model_name=book&_pjax=%5Bdata-pjax-container%5D" for 127.0.0.1 at 2017-03-23 01:00:22 +0200
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"all"=>"true", "model_name"=>"book", "_pjax"=>"[data-pjax-container]"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (11.5ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax
  [1m[36mBook Load (1.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE ('t'='t') ORDER BY books.id desc[0m
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" IN (5, 4, 3, 2, 1)[0m
  [1m[36mHABTM_Authors Load (2.2ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51, 50, 49, 48, 47, 46, 45, 44, 43, 42, 41, 40, 39, 38, 37, 36, 35, 34, 33, 32, 31, 30, 29, 28, 27, 26, 25, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1)[0m
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (19, 20, 18)[0m
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax (1048.8ms)
Completed 200 OK in 1105ms (Views: 1059.1ms | ActiveRecord: 16.8ms)


Started GET "/" for 127.0.0.1 at 2017-03-23 01:00:51 +0200
Processing by MainPagesController#home as HTML
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."title" = $1 LIMIT $2[0m  [["title", "Mobile"], ["LIMIT", 1]]
  [1m[36mBook Load (1.6ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" INNER JOIN "order_items" ON "order_items"."book_id" = "books"."id" INNER JOIN "orders" ON "orders"."id" = "order_items"."order_id" WHERE (lower(categories.title) = 'mobile') AND "orders"."state" = $1 GROUP BY order_items.book_id, books.id ORDER BY SUM(order_items.quantity) desc LIMIT $2[0m  [["state", "delivered"], ["LIMIT", 4]]
  [1m[36mHABTM_Authors Load (0.9ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (4, 8, 7)[0m
  [1m[36mAuthor Load (1.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (20, 18, 19)[0m
  Rendering main_pages/home.html.haml within layouts/application
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') LIMIT $1) subquery_for_count[0m  [["LIMIT", 4]]
  [1m[36mBook Load (1.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') ORDER BY "books"."created_at" DESC LIMIT $1[0m  [["LIMIT", 4]]
  [1m[36mHABTM_Authors Load (0.5ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (19, 18, 17, 16)[0m
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (18, 19, 20)[0m
  Rendered books/_carousel_books.html.haml (47.0ms)
  Rendered books/_book_buttons.html.haml (5.3ms)
  Rendered books/_book_buttons.html.haml (1.4ms)
  Rendered books/_book_buttons.html.haml (2.0ms)
  Rendered main_pages/home.html.haml within layouts/application (80.6ms)
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 5], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.6ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 5]]
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (4.6ms)
  Rendered layouts/_collapse_ul.html.haml (1.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (6.6ms)
  Rendered layouts/_collapse_ul.html.haml (8.8ms)
  [1m[36mBook Load (8.4ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendered layouts/_collapse_ul.html.haml (14.1ms)
  Rendered layouts/_navbar.html.haml (38.6ms)
  Rendered layouts/_dropdown_ul.html.haml (3.0ms)
  Rendered layouts/_dropdown_ul.html.haml (1.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (6.2ms)
  Rendered layouts/_dropdown_ul.html.haml (8.4ms)
  Rendered layouts/_dropdown_ul.html.haml (1.6ms)
  Rendered layouts/_navbar.html.haml (28.2ms)
  Rendered layouts/_header.html.haml (92.3ms)
  Rendered layouts/_footer.html.haml (8.0ms)
Completed 200 OK in 314ms (Views: 280.2ms | ActiveRecord: 18.7ms)


Started GET "/admin/book?all=true&model_name=book&sort=title&_pjax=%5Bdata-pjax-container%5D" for 127.0.0.1 at 2017-03-23 01:01:03 +0200
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"all"=>"true", "model_name"=>"book", "sort"=>"title", "_pjax"=>"[data-pjax-container]"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (14.1ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax
  [1m[36mBook Load (5.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE ('t'='t') ORDER BY books.title asc[0m
  [1m[36mCategory Load (4.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" IN (3, 1, 4, 2, 5)[0m
  [1m[36mHABTM_Authors Load (2.3ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (46, 18, 58, 45, 10, 37, 13, 44, 38, 63, 36, 8, 28, 32, 70, 41, 14, 26, 23, 61, 64, 7, 40, 35, 43, 3, 6, 67, 9, 21, 25, 5, 60, 49, 51, 66, 12, 55, 4, 65, 1, 42, 50, 57, 62, 22, 29, 11, 19, 54, 59, 30, 33, 27, 17, 52, 24, 34, 56, 16, 48, 2, 15, 68, 31, 20, 53, 69, 47, 39)[0m
  [1m[36mAuthor Load (1.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (20, 18, 19)[0m
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax (1077.0ms)
Completed 200 OK in 1133ms (Views: 1079.2ms | ActiveRecord: 28.1ms)


Started GET "/admin/book/18/edit?_pjax=%5Bdata-pjax-container%5D" for 127.0.0.1 at 2017-03-23 01:01:09 +0200
Processing by RailsAdmin::MainController#edit as HTML
  Parameters: {"_pjax"=>"[data-pjax-container]", "model_name"=>"book", "id"=>"18"}
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (10.6ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  [1m[36mBook Load (2.1ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 ORDER BY "books"."id" ASC LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/edit.html.haml within layouts/rails_admin/pjax
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_field.html.haml (2.1ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_text.html.haml (4.9ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_field.html.haml (0.4ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_field.html.haml (2.5ms)
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE ('t'='t') ORDER BY categories.id desc[0m
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_filtering_select.html.haml (25.0ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_file_upload.html.haml (4.8ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_text.html.haml (0.7ms)
  [1m[36mPicture Load (0.6ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."imageable_id" = $1 AND "pictures"."imageable_type" = $2[0m  [["imageable_id", 18], ["imageable_type", "Book"]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "pictures"[0m
  [1m[36mPicture Load (0.9ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" ORDER BY pictures.id desc[0m
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_filtering_multiselect.html.haml (30.2ms)
  [1m[36mReview Load (2.6ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."book_id" = $1 AND "reviews"."state" = $2[0m  [["book_id", 18], ["state", "approved"]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "reviews"[0m
  [1m[36mReview Load (0.5ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE ('t'='t') ORDER BY reviews.id desc[0m
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_filtering_multiselect.html.haml (35.9ms)
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 18]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "authors"[0m
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" ORDER BY authors.id desc[0m
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_filtering_multiselect.html.haml (16.5ms)
  [1m[36mMaterial Load (0.5ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 18]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "materials"[0m
  [1m[36mMaterial Load (0.4ms)[0m  [1m[34mSELECT "materials".* FROM "materials" ORDER BY materials.id desc[0m
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_filtering_multiselect.html.haml (15.4ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_submit_buttons.html.haml (7.7ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/edit.html.haml within layouts/rails_admin/pjax (212.1ms)
Completed 200 OK in 276ms (Views: 223.8ms | ActiveRecord: 25.6ms)


Started PUT "/admin/book/18/edit" for 127.0.0.1 at 2017-03-23 01:01:29 +0200
Processing by RailsAdmin::MainController#edit as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"+sJQ76XC+Fvu7wPQSXSKwzaHu/3zlkLugmIKiYQr5XUg0aiGNxjfNKaf8AOcpxh3dmqe7axZeHaOilN0hU/Dbw==", "book"=>{"title"=>"American Cousins", "desc"=>"Eos facere labore modi eius. Suscipit quia quod eveniet ex. Facilis vel doloribus dolores maxime quaerat similique.", "price"=>"17.86", "count"=>"299", "category_id"=>"1", "avatar"=>#<ActionDispatch::Http::UploadedFile:0x007f2df28c1348 @tempfile=#<Tempfile:/tmp/RackMultipart20170323-11437-epns7a.png>, @original_filename="javascript-and-jquery-book-cover.png", @content_type="image/png", @headers="Content-Disposition: form-data; name=\"book[avatar]\"; filename=\"javascript-and-jquery-book-cover.png\"\r\nContent-Type: image/png\r\n">, "avatar_cache"=>"", "dimension"=>"{\r\n  \"h\": 9.8,\r\n  \"w\": 4.4,\r\n  \"d\": 10.0\r\n}", "picture_ids"=>["", "", "3", "2", "1"], "review_ids"=>["", ""], "author_ids"=>["", "", "20"], "material_ids"=>["", "", "2", "3", "4"]}, "return_to"=>"http://localhost:3000/admin/book?all=true&model_name=book&sort=title", "_save"=>"", "model_name"=>"book", "id"=>"18"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (13.2ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 ORDER BY "books"."id" ASC LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  [1m[36mPicture Load (1.8ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."id" IN (3, 2, 1)[0m
  [1m[36mPicture Load (0.5ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."imageable_id" = $1 AND "pictures"."imageable_type" = $2[0m  [["imageable_id", 18], ["imageable_type", "Book"]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "pictures" SET "imageable_id" = $1, "imageable_type" = $2, "updated_at" = $3 WHERE "pictures"."id" = $4[0m  [["imageable_id", 18], ["imageable_type", "Book"], ["updated_at", 2017-03-22 23:01:30 UTC], ["id", 3]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "pictures" SET "imageable_id" = $1, "updated_at" = $2 WHERE "pictures"."id" = $3[0m  [["imageable_id", 18], ["updated_at", 2017-03-22 23:01:30 UTC], ["id", 2]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "pictures" SET "imageable_id" = $1, "updated_at" = $2 WHERE "pictures"."id" = $3[0m  [["imageable_id", 18], ["updated_at", 2017-03-22 23:01:30 UTC], ["id", 1]]
  [1m[35m (26.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mReview Load (0.7ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE 1=0[0m
  [1m[36mReview Load (0.9ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."book_id" = $1 AND "reviews"."state" = $2[0m  [["book_id", 18], ["state", "approved"]]
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" = 20[0m
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 18]]
  [1m[36mMaterial Load (0.7ms)[0m  [1m[34mSELECT "materials".* FROM "materials" WHERE "materials"."id" IN (2, 3, 4)[0m
  [1m[36mMaterial Load (1.5ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 18]]
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "books" SET "avatar" = $1, "updated_at" = $2 WHERE "books"."id" = $3[0m  [["avatar", "javascript-and-jquery-book-cover.png"], ["updated_at", 2017-03-22 23:01:30 UTC], ["id", 18]]
  [1m[35m (10.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/book?all=true&model_name=book&sort=title
Completed 302 Found in 172ms (ActiveRecord: 63.1ms)


Started GET "/admin/book?all=true&model_name=book&sort=title" for 127.0.0.1 at 2017-03-23 01:01:30 +0200
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"all"=>"true", "model_name"=>"book", "sort"=>"title"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (9.8ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/application
  [1m[36mBook Load (1.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE ('t'='t') ORDER BY books.title asc[0m
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" IN (3, 1, 4, 2, 5)[0m
  [1m[36mHABTM_Authors Load (1.0ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (46, 18, 58, 45, 10, 37, 13, 44, 38, 63, 36, 8, 28, 32, 70, 41, 14, 26, 23, 61, 64, 7, 40, 35, 43, 3, 6, 67, 9, 21, 25, 5, 60, 49, 51, 66, 12, 55, 4, 65, 1, 42, 50, 57, 62, 22, 29, 11, 19, 54, 59, 30, 33, 27, 17, 52, 24, 34, 56, 16, 48, 2, 15, 68, 31, 20, 53, 69, 47, 39)[0m
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (20, 18, 19)[0m
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/application (1170.0ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_secondary_navigation.html.haml (6.0ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_navigation.html.haml (11.6ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_sidebar_navigation.html.haml (20.3ms)
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml (10.4ms)
Completed 200 OK in 1461ms (Views: 1421.6ms | ActiveRecord: 13.8ms)


Started GET "/" for 127.0.0.1 at 2017-03-23 01:02:09 +0200
Processing by MainPagesController#home as HTML
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."title" = $1 LIMIT $2[0m  [["title", "Mobile"], ["LIMIT", 1]]
  [1m[36mBook Load (1.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" INNER JOIN "order_items" ON "order_items"."book_id" = "books"."id" INNER JOIN "orders" ON "orders"."id" = "order_items"."order_id" WHERE (lower(categories.title) = 'mobile') AND "orders"."state" = $1 GROUP BY order_items.book_id, books.id ORDER BY SUM(order_items.quantity) desc LIMIT $2[0m  [["state", "delivered"], ["LIMIT", 4]]
  [1m[36mHABTM_Authors Load (2.2ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (4, 8, 7)[0m
  [1m[36mAuthor Load (1.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (20, 18, 19)[0m
  Rendering main_pages/home.html.haml within layouts/application
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') LIMIT $1) subquery_for_count[0m  [["LIMIT", 4]]
  [1m[36mBook Load (0.9ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') ORDER BY "books"."created_at" DESC LIMIT $1[0m  [["LIMIT", 4]]
  [1m[36mHABTM_Authors Load (0.6ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (19, 18, 17, 16)[0m
  [1m[36mAuthor Load (1.1ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (18, 19, 20)[0m
  Rendered books/_carousel_books.html.haml (47.1ms)
  Rendered books/_book_buttons.html.haml (4.2ms)
  Rendered books/_book_buttons.html.haml (1.1ms)
  Rendered books/_book_buttons.html.haml (1.1ms)
  Rendered main_pages/home.html.haml within layouts/application (76.8ms)
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 5], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.8ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (1.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 5]]
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (5.2ms)
  Rendered layouts/_collapse_ul.html.haml (1.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (5.6ms)
  Rendered layouts/_collapse_ul.html.haml (7.4ms)
  [1m[36mBook Load (8.8ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendered layouts/_collapse_ul.html.haml (14.4ms)
  Rendered layouts/_navbar.html.haml (38.3ms)
  Rendered layouts/_dropdown_ul.html.haml (20.6ms)
  Rendered layouts/_dropdown_ul.html.haml (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (3.7ms)
  Rendered layouts/_dropdown_ul.html.haml (5.2ms)
  Rendered layouts/_dropdown_ul.html.haml (1.3ms)
  Rendered layouts/_navbar.html.haml (32.0ms)
  Rendered layouts/_header.html.haml (93.0ms)
  Rendered layouts/_footer.html.haml (7.7ms)
Completed 200 OK in 300ms (Views: 266.2ms | ActiveRecord: 20.8ms)


Started GET "/books/18" for 127.0.0.1 at 2017-03-23 01:02:14 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"18"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (9.2ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering books/show.html.haml within layouts/application
  [1m[36mPicture Load (0.7ms)[0m  [1m[34mSELECT  "pictures".* FROM "pictures" WHERE "pictures"."imageable_id" = $1 AND "pictures"."imageable_type" = $2 ORDER BY "pictures"."id" ASC LIMIT $3[0m  [["imageable_id", 18], ["imageable_type", "Book"], ["LIMIT", 1]]
  [1m[36mPicture Load (0.7ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."imageable_id" = $1 AND "pictures"."imageable_type" = $2[0m  [["imageable_id", 18], ["imageable_type", "Book"]]
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 18]]
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMaterial Load (0.7ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 18]]
  [1m[36mReview Load (0.6ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."book_id" = $1 AND "reviews"."state" = $2[0m  [["book_id", 18], ["state", "approved"]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered reviews/_form.html.haml (17.7ms)
  Rendered books/show.html.haml within layouts/application (63.9ms)
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 5], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.6ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 5]]
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (4.7ms)
  Rendered layouts/_collapse_ul.html.haml (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (6.7ms)
  Rendered layouts/_collapse_ul.html.haml (8.5ms)
  Rendered layouts/_collapse_ul.html.haml (1.5ms)
  Rendered layouts/_navbar.html.haml (25.8ms)
  Rendered layouts/_dropdown_ul.html.haml (2.8ms)
  Rendered layouts/_dropdown_ul.html.haml (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (3.8ms)
  Rendered layouts/_dropdown_ul.html.haml (5.4ms)
  Rendered layouts/_dropdown_ul.html.haml (1.3ms)
  Rendered layouts/_navbar.html.haml (14.0ms)
  Rendered layouts/_header.html.haml (57.2ms)
  Rendered layouts/_footer.html.haml (6.5ms)
Completed 200 OK in 374ms (Views: 225.8ms | ActiveRecord: 16.4ms)


DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
  [1m[36mUser Load (28.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
  [1m[36mUser Load (167.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
Started GET "/" for 127.0.0.1 at 2017-03-23 13:18:26 +0200
  [1m[36mActiveRecord::SchemaMigration Load (11.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by MainPagesController#home as HTML
  [1m[36mCategory Load (47.5ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."title" = $1 LIMIT $2[0m  [["title", "Mobile"], ["LIMIT", 1]]
  [1m[36mBook Load (123.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" INNER JOIN "order_items" ON "order_items"."book_id" = "books"."id" INNER JOIN "orders" ON "orders"."id" = "order_items"."order_id" WHERE (lower(categories.title) = 'mobile') AND "orders"."state" = $1 GROUP BY order_items.book_id, books.id ORDER BY SUM(order_items.quantity) desc LIMIT $2[0m  [["state", "delivered"], ["LIMIT", 4]]
  [1m[36mHABTM_Authors Load (21.4ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (4, 8, 7)[0m
  [1m[36mAuthor Load (11.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (20, 18, 19)[0m
  Rendering main_pages/home.html.haml within layouts/application
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') LIMIT $1) subquery_for_count[0m  [["LIMIT", 4]]
  [1m[36mBook Load (2.8ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') ORDER BY "books"."created_at" DESC LIMIT $1[0m  [["LIMIT", 4]]
  [1m[36mHABTM_Authors Load (3.6ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (19, 18, 17, 16)[0m
  [1m[36mAuthor Load (1.5ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (18, 19, 20)[0m
  Rendered books/_carousel_books.html.haml (2124.9ms)
  Rendered books/_book_buttons.html.haml (9.6ms)
  Rendered books/_book_buttons.html.haml (2.3ms)
  Rendered books/_book_buttons.html.haml (8.2ms)
  Rendered main_pages/home.html.haml within layouts/application (2332.2ms)
  [1m[36mOrder Load (1.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 5], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (1.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (1.0ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 5]]
  [1m[36mCategory Load (1.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (29.4ms)
  Rendered layouts/_collapse_ul.html.haml (6.1ms)
  [1m[36mCACHE (0.1ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (17.8ms)
  Rendered layouts/_collapse_ul.html.haml (36.4ms)
  [1m[36mBook Load (80.9ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendered layouts/_collapse_ul.html.haml (232.9ms)
  Rendered layouts/_navbar.html.haml (337.4ms)
  Rendered layouts/_dropdown_ul.html.haml (5.3ms)
  Rendered layouts/_dropdown_ul.html.haml (1.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (9.9ms)
  Rendered layouts/_dropdown_ul.html.haml (12.7ms)
  Rendered layouts/_dropdown_ul.html.haml (2.4ms)
  Rendered layouts/_navbar.html.haml (30.0ms)
  Rendered layouts/_header.html.haml (541.8ms)
  Rendered layouts/_footer.html.haml (18.6ms)
Completed 200 OK in 6190ms (Views: 3655.0ms | ActiveRecord: 413.9ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-23 13:18:48 +0200
Processing by RailsAdmin::MainController#dashboard as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (12.5ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  [1m[35m (45.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[36mAddress Load (0.7ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" ORDER BY "addresses"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "authors"[0m
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE ('t'='t')[0m
  [1m[36mBook Load (2.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" ORDER BY "books"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE ('t'='t')[0m
  [1m[36mCategory Load (1.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" ORDER BY "categories"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (15.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "countries"[0m
  [1m[36mCountry Load (0.6ms)[0m  [1m[34mSELECT  "countries".* FROM "countries" ORDER BY "countries"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (9.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "coupons"[0m
  [1m[36mCoupon Load (0.6ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" ORDER BY "coupons"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (3.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "deliveries"[0m
  [1m[36mDelivery Load (0.7ms)[0m  [1m[34mSELECT  "deliveries".* FROM "deliveries" ORDER BY "deliveries"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "materials"[0m
  [1m[36mMaterial Load (0.7ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (7.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders" WHERE ('t'='t')[0m
  [1m[36mOrder Load (0.8ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" ORDER BY "orders"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (23.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "pictures"[0m
  [1m[36mPicture Load (1.0ms)[0m  [1m[34mSELECT  "pictures".* FROM "pictures" ORDER BY "pictures"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "reviews" WHERE ('t'='t')[0m
  [1m[36mReview Load (1.4ms)[0m  [1m[34mSELECT  "reviews".* FROM "reviews" ORDER BY "reviews"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE ('t'='t')[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/dashboard.html.haml within layouts/rails_admin/application
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/dashboard.html.haml within layouts/rails_admin/application (143.4ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_secondary_navigation.html.haml (9.0ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_navigation.html.haml (18.8ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_sidebar_navigation.html.haml (38.9ms)
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml (8.4ms)
Completed 200 OK in 2202ms (Views: 976.5ms | ActiveRecord: 153.8ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-23 13:18:50 +0200
Processing by RailsAdmin::MainController#dashboard as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (16.6ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[36mAddress Load (0.9ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" ORDER BY "addresses"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "authors"[0m
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE ('t'='t')[0m
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  "books".* FROM "books" ORDER BY "books"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE ('t'='t')[0m
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" ORDER BY "categories"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "countries"[0m
  [1m[36mCountry Load (0.8ms)[0m  [1m[34mSELECT  "countries".* FROM "countries" ORDER BY "countries"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "coupons"[0m
  [1m[36mCoupon Load (0.5ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" ORDER BY "coupons"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "deliveries"[0m
  [1m[36mDelivery Load (0.6ms)[0m  [1m[34mSELECT  "deliveries".* FROM "deliveries" ORDER BY "deliveries"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "materials"[0m
  [1m[36mMaterial Load (0.7ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders" WHERE ('t'='t')[0m
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" ORDER BY "orders"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "pictures"[0m
  [1m[36mPicture Load (0.6ms)[0m  [1m[34mSELECT  "pictures".* FROM "pictures" ORDER BY "pictures"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "reviews" WHERE ('t'='t')[0m
  [1m[36mReview Load (0.6ms)[0m  [1m[34mSELECT  "reviews".* FROM "reviews" ORDER BY "reviews"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE ('t'='t')[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/dashboard.html.haml within layouts/rails_admin/application
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/dashboard.html.haml within layouts/rails_admin/application (84.2ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_secondary_navigation.html.haml (9.6ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_navigation.html.haml (17.2ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_sidebar_navigation.html.haml (32.6ms)
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml (7.9ms)
Completed 200 OK in 569ms (Views: 463.1ms | ActiveRecord: 32.5ms)


Started GET "/admin/picture?_pjax=%5Bdata-pjax-container%5D" for 127.0.0.1 at 2017-03-23 13:19:00 +0200
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"_pjax"=>"[data-pjax-container]", "model_name"=>"picture"}
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (13.3ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax
  [1m[36mPicture Load (0.7ms)[0m  [1m[34mSELECT  "pictures".* FROM "pictures" ORDER BY pictures.id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 20], ["OFFSET", 0]]
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "pictures"[0m
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax (220.6ms)
Completed 200 OK in 313ms (Views: 263.1ms | ActiveRecord: 17.2ms)


Started GET "/admin/picture/new?_pjax=%5Bdata-pjax-container%5D" for 127.0.0.1 at 2017-03-23 13:19:03 +0200
Processing by RailsAdmin::MainController#new as HTML
  Parameters: {"_pjax"=>"[data-pjax-container]", "model_name"=>"picture"}
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (17.8ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/new.html.haml within layouts/rails_admin/pjax
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_file_upload.html.haml (128.3ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_polymorphic_association.html.haml (7.8ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_submit_buttons.html.haml (10.7ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/new.html.haml within layouts/rails_admin/pjax (267.2ms)
Completed 200 OK in 350ms (Views: 294.8ms | ActiveRecord: 21.1ms)


Started POST "/admin/picture/new" for 127.0.0.1 at 2017-03-23 13:19:21 +0200
Processing by RailsAdmin::MainController#new as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"bDxi0weNrb6KPOSYQV542spOgFlDVAgsiHGa31zxO+S2L5q6lVeK0cJMF0uUjepuiqOlSRybMrSEmcMiXZUd/g==", "picture"=>{"path"=>#<ActionDispatch::Http::UploadedFile:0x007f7dd70fe680 @tempfile=#<Tempfile:/tmp/RackMultipart20170323-13170-zwmbdg.jpg>, @original_filename="B05517_MockupCover_Cookbook_0.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"picture[path]\"; filename=\"B05517_MockupCover_Cookbook_0.jpg\"\r\nContent-Type: image/jpeg\r\n">, "path_cache"=>"", "imageable_type"=>"", "imageable_id"=>""}, "return_to"=>"http://localhost:3000/admin/picture", "_save"=>"", "model_name"=>"picture"}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (16.1ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  [1m[35m (1.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (51.7ms)[0m  [1m[32mINSERT INTO "pictures" ("path", "created_at", "updated_at", "imageable_type") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["path", "B05517_MockupCover_Cookbook_0.jpg"], ["created_at", 2017-03-23 11:19:21 UTC], ["updated_at", 2017-03-23 11:19:21 UTC], ["imageable_type", ""]]
  [1m[35m (79.5ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/picture
Completed 302 Found in 256ms (ActiveRecord: 153.6ms)


Started GET "/admin/picture" for 127.0.0.1 at 2017-03-23 13:19:21 +0200
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"model_name"=>"picture"}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (13.9ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/application
  [1m[36mPicture Load (1.4ms)[0m  [1m[34mSELECT  "pictures".* FROM "pictures" ORDER BY pictures.id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 20], ["OFFSET", 0]]
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "pictures"[0m
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/application (116.1ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_secondary_navigation.html.haml (9.2ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_navigation.html.haml (15.7ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_sidebar_navigation.html.haml (26.3ms)
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml (12.1ms)
Completed 200 OK in 503ms (Views: 451.2ms | ActiveRecord: 19.8ms)


Started GET "/admin/book?_pjax=%5Bdata-pjax-container%5D" for 127.0.0.1 at 2017-03-23 13:20:02 +0200
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"_pjax"=>"[data-pjax-container]", "model_name"=>"book"}
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (21.0ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax
  [1m[36mBook Load (1.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE ('t'='t') ORDER BY books.id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 20], ["OFFSET", 0]]
  [1m[36mCategory Load (1.8ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" IN (5, 4)[0m
  [1m[36mHABTM_Authors Load (0.8ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51)[0m
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (19, 20, 18)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE ('t'='t')[0m
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax (571.3ms)
Completed 200 OK in 661ms (Views: 590.1ms | ActiveRecord: 32.7ms)


Started GET "/admin/book/69/edit?_pjax=%5Bdata-pjax-container%5D" for 127.0.0.1 at 2017-03-23 13:20:12 +0200
Processing by RailsAdmin::MainController#edit as HTML
  Parameters: {"_pjax"=>"[data-pjax-container]", "model_name"=>"book", "id"=>"69"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (15.3ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  [1m[36mBook Load (3.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 ORDER BY "books"."id" ASC LIMIT $2[0m  [["id", 69], ["LIMIT", 1]]
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/edit.html.haml within layouts/rails_admin/pjax
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_field.html.haml (2.0ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_text.html.haml (49.7ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_field.html.haml (0.9ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_field.html.haml (7.0ms)
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[36mCategory Load (0.8ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE ('t'='t') ORDER BY categories.id desc[0m
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_filtering_select.html.haml (45.6ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_file_upload.html.haml (12.0ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_text.html.haml (1.0ms)
  [1m[36mPicture Load (0.7ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."imageable_id" = $1 AND "pictures"."imageable_type" = $2[0m  [["imageable_id", 69], ["imageable_type", "Book"]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "pictures"[0m
  [1m[36mPicture Load (1.8ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" ORDER BY pictures.id desc[0m
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_filtering_multiselect.html.haml (39.4ms)
  [1m[36mReview Load (0.8ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."book_id" = $1 AND "reviews"."state" = $2[0m  [["book_id", 69], ["state", "approved"]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "reviews"[0m
  [1m[36mReview Load (1.0ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE ('t'='t') ORDER BY reviews.id desc[0m
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_filtering_multiselect.html.haml (51.7ms)
  [1m[36mAuthor Load (0.9ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 69]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "authors"[0m
  [1m[36mAuthor Load (1.1ms)[0m  [1m[34mSELECT "authors".* FROM "authors" ORDER BY authors.id desc[0m
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_filtering_multiselect.html.haml (32.6ms)
  [1m[36mMaterial Load (0.8ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 69]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "materials"[0m
  [1m[36mMaterial Load (2.8ms)[0m  [1m[34mSELECT "materials".* FROM "materials" ORDER BY materials.id desc[0m
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_filtering_multiselect.html.haml (33.5ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_submit_buttons.html.haml (18.2ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/edit.html.haml within layouts/rails_admin/pjax (497.8ms)
Completed 200 OK in 657ms (Views: 584.8ms | ActiveRecord: 34.7ms)


Started PUT "/admin/book/69/edit" for 127.0.0.1 at 2017-03-23 13:20:36 +0200
Processing by RailsAdmin::MainController#edit as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"fAO2pWNwFVU6rVE/Tv6GZmUNZUX+IMByXvqrJN90I/ymEE7M8aoyOnLdouybLRTSJeBAVaHv+upSEvLZ3hAF5g==", "book"=>{"title"=>"Ultra Demon", "desc"=>"Est sed cupiditate a culpa at. Pariatur doloremque molestias ea omnis ipsam. Id dolorem ipsum ipsam cupiditate at molestias quasi. Natus mollitia vero ab dolor minima consequatur. Sit omnis iste veniam aut.", "price"=>"17.63", "count"=>"186", "category_id"=>"5", "avatar"=>#<ActionDispatch::Http::UploadedFile:0x007f7dd7355f28 @tempfile=#<Tempfile:/tmp/RackMultipart20170323-13170-3cuij2.png>, @original_filename="9781784398224.png", @content_type="image/png", @headers="Content-Disposition: form-data; name=\"book[avatar]\"; filename=\"9781784398224.png\"\r\nContent-Type: image/png\r\n">, "avatar_cache"=>"", "dimension"=>"{\r\n  \"h\": 7.3,\r\n  \"w\": 4.4,\r\n  \"d\": 10.0\r\n}", "picture_ids"=>["", "", "4"], "review_ids"=>["", ""], "author_ids"=>["", "", "19", "20"], "material_ids"=>["", "", "4"]}, "return_to"=>"http://localhost:3000/admin/book", "_save"=>"", "model_name"=>"book", "id"=>"69"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (17.7ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  [1m[36mBook Load (0.9ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 ORDER BY "books"."id" ASC LIMIT $2[0m  [["id", 69], ["LIMIT", 1]]
  [1m[36mPicture Load (4.2ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."id" = 4[0m
  [1m[36mPicture Load (0.5ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."imageable_id" = $1 AND "pictures"."imageable_type" = $2[0m  [["imageable_id", 69], ["imageable_type", "Book"]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "pictures" SET "imageable_id" = $1, "imageable_type" = $2, "updated_at" = $3 WHERE "pictures"."id" = $4[0m  [["imageable_id", 69], ["imageable_type", "Book"], ["updated_at", 2017-03-23 11:20:36 UTC], ["id", 4]]
  [1m[35m (23.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mReview Load (0.6ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE 1=0[0m
  [1m[36mReview Load (1.5ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."book_id" = $1 AND "reviews"."state" = $2[0m  [["book_id", 69], ["state", "approved"]]
  [1m[36mAuthor Load (2.4ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (19, 20)[0m
  [1m[36mAuthor Load (1.1ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 69]]
  [1m[36mMaterial Load (0.7ms)[0m  [1m[34mSELECT "materials".* FROM "materials" WHERE "materials"."id" = 4[0m
  [1m[36mMaterial Load (0.7ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 69]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (2.5ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Dalene"], ["id", 19], ["last_name", "Torphy"], ["LIMIT", 1]]
  [1m[36mAuthor Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "books" SET "avatar" = $1, "updated_at" = $2 WHERE "books"."id" = $3[0m  [["avatar", "9781784398224.png"], ["updated_at", 2017-03-23 11:20:36 UTC], ["id", 69]]
  [1m[35m (29.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/book
Completed 302 Found in 260ms (ActiveRecord: 91.3ms)


Started GET "/admin/book" for 127.0.0.1 at 2017-03-23 13:20:36 +0200
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"model_name"=>"book"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (15.9ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/application
  [1m[36mBook Load (1.0ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE ('t'='t') ORDER BY books.id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 20], ["OFFSET", 0]]
  [1m[36mCategory Load (2.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" IN (5, 4)[0m
  [1m[36mHABTM_Authors Load (2.2ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51)[0m
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (19, 20, 18)[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE ('t'='t')[0m
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/application (646.7ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_secondary_navigation.html.haml (9.5ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_navigation.html.haml (17.5ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_sidebar_navigation.html.haml (32.7ms)
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml (14.5ms)
Completed 200 OK in 1106ms (Views: 1045.7ms | ActiveRecord: 24.6ms)


Started GET "/" for 127.0.0.1 at 2017-03-23 13:28:36 +0200
Processing by MainPagesController#home as HTML
  [1m[36mCategory Load (1.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."title" = $1 LIMIT $2[0m  [["title", "Mobile"], ["LIMIT", 1]]
  [1m[36mBook Load (2.6ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" INNER JOIN "order_items" ON "order_items"."book_id" = "books"."id" INNER JOIN "orders" ON "orders"."id" = "order_items"."order_id" WHERE (lower(categories.title) = 'mobile') AND "orders"."state" = $1 GROUP BY order_items.book_id, books.id ORDER BY SUM(order_items.quantity) desc LIMIT $2[0m  [["state", "delivered"], ["LIMIT", 4]]
  [1m[36mHABTM_Authors Load (1.2ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (4, 8, 7)[0m
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (20, 18, 19)[0m
  Rendering main_pages/home.html.haml within layouts/application
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') LIMIT $1) subquery_for_count[0m  [["LIMIT", 4]]
  [1m[36mBook Load (1.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') ORDER BY "books"."created_at" DESC LIMIT $1[0m  [["LIMIT", 4]]
  [1m[36mHABTM_Authors Load (0.6ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (19, 18, 17, 16)[0m
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (18, 19, 20)[0m
  Rendered books/_carousel_books.html.haml (51.4ms)
  Rendered books/_book_buttons.html.haml (3.6ms)
  Rendered books/_book_buttons.html.haml (1.7ms)
  Rendered books/_book_buttons.html.haml (1.4ms)
  Rendered main_pages/home.html.haml within layouts/application (101.9ms)
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 5], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.8ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 5]]
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (5.2ms)
  Rendered layouts/_collapse_ul.html.haml (1.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (5.6ms)
  Rendered layouts/_collapse_ul.html.haml (7.7ms)
  [1m[36mBook Load (9.6ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendered layouts/_collapse_ul.html.haml (15.0ms)
  Rendered layouts/_navbar.html.haml (40.8ms)
  Rendered layouts/_dropdown_ul.html.haml (3.2ms)
  Rendered layouts/_dropdown_ul.html.haml (1.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (4.0ms)
  Rendered layouts/_dropdown_ul.html.haml (6.0ms)
  Rendered layouts/_dropdown_ul.html.haml (1.3ms)
  Rendered layouts/_navbar.html.haml (15.8ms)
  Rendered layouts/_header.html.haml (93.5ms)
  Rendered layouts/_footer.html.haml (6.5ms)
Completed 200 OK in 392ms (Views: 350.8ms | ActiveRecord: 22.1ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-23 13:28:45 +0200
Processing by RailsAdmin::MainController#dashboard as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (11.2ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  [1m[35m (2.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[36mAddress Load (2.6ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" ORDER BY "addresses"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "authors"[0m
  [1m[36mAuthor Load (1.2ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE ('t'='t')[0m
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  "books".* FROM "books" ORDER BY "books"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE ('t'='t')[0m
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" ORDER BY "categories"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "countries"[0m
  [1m[36mCountry Load (0.5ms)[0m  [1m[34mSELECT  "countries".* FROM "countries" ORDER BY "countries"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "coupons"[0m
  [1m[36mCoupon Load (0.5ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" ORDER BY "coupons"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "deliveries"[0m
  [1m[36mDelivery Load (0.7ms)[0m  [1m[34mSELECT  "deliveries".* FROM "deliveries" ORDER BY "deliveries"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "materials"[0m
  [1m[36mMaterial Load (4.6ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (3.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders" WHERE ('t'='t')[0m
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" ORDER BY "orders"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "pictures"[0m
  [1m[36mPicture Load (0.5ms)[0m  [1m[34mSELECT  "pictures".* FROM "pictures" ORDER BY "pictures"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "reviews" WHERE ('t'='t')[0m
  [1m[36mReview Load (0.6ms)[0m  [1m[34mSELECT  "reviews".* FROM "reviews" ORDER BY "reviews"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE ('t'='t')[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/dashboard.html.haml within layouts/rails_admin/application
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/dashboard.html.haml within layouts/rails_admin/application (83.5ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_secondary_navigation.html.haml (5.9ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_navigation.html.haml (11.5ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_sidebar_navigation.html.haml (20.7ms)
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml (5.6ms)
Completed 200 OK in 427ms (Views: 321.9ms | ActiveRecord: 37.7ms)


Started GET "/admin" for 127.0.0.1 at 2017-03-23 13:28:45 +0200
Processing by RailsAdmin::MainController#dashboard as HTML
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (9.2ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[36mAddress Load (0.6ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" ORDER BY "addresses"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "authors"[0m
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT  "authors".* FROM "authors" ORDER BY "authors"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE ('t'='t')[0m
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT  "books".* FROM "books" ORDER BY "books"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories" WHERE ('t'='t')[0m
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" ORDER BY "categories"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "countries"[0m
  [1m[36mCountry Load (0.4ms)[0m  [1m[34mSELECT  "countries".* FROM "countries" ORDER BY "countries"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "coupons"[0m
  [1m[36mCoupon Load (1.0ms)[0m  [1m[34mSELECT  "coupons".* FROM "coupons" ORDER BY "coupons"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "deliveries"[0m
  [1m[36mDelivery Load (0.7ms)[0m  [1m[34mSELECT  "deliveries".* FROM "deliveries" ORDER BY "deliveries"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "materials"[0m
  [1m[36mMaterial Load (0.5ms)[0m  [1m[34mSELECT  "materials".* FROM "materials" ORDER BY "materials"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders" WHERE ('t'='t')[0m
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" ORDER BY "orders"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "pictures"[0m
  [1m[36mPicture Load (0.4ms)[0m  [1m[34mSELECT  "pictures".* FROM "pictures" ORDER BY "pictures"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "reviews" WHERE ('t'='t')[0m
  [1m[36mReview Load (0.6ms)[0m  [1m[34mSELECT  "reviews".* FROM "reviews" ORDER BY "reviews"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE ('t'='t')[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/dashboard.html.haml within layouts/rails_admin/application
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/dashboard.html.haml within layouts/rails_admin/application (55.6ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_secondary_navigation.html.haml (5.7ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_navigation.html.haml (11.0ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_sidebar_navigation.html.haml (19.1ms)
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml (5.3ms)
Completed 200 OK in 387ms (Views: 288.7ms | ActiveRecord: 24.9ms)


Started GET "/admin/picture?_pjax=%5Bdata-pjax-container%5D" for 127.0.0.1 at 2017-03-23 13:28:51 +0200
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"_pjax"=>"[data-pjax-container]", "model_name"=>"picture"}
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (12.6ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax
  [1m[36mPicture Load (1.1ms)[0m  [1m[34mSELECT  "pictures".* FROM "pictures" ORDER BY pictures.id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 20], ["OFFSET", 0]]
  [1m[36mBook Load (3.6ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 69], ["LIMIT", 1]]
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "pictures"[0m
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax (100.0ms)
Completed 200 OK in 154ms (Views: 110.5ms | ActiveRecord: 21.2ms)


Started GET "/admin/book?_pjax=%5Bdata-pjax-container%5D" for 127.0.0.1 at 2017-03-23 13:28:56 +0200
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"_pjax"=>"[data-pjax-container]", "model_name"=>"book"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (13.6ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE ('t'='t') ORDER BY books.id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 20], ["OFFSET", 0]]
  [1m[36mCategory Load (1.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" IN (5, 4)[0m
  [1m[36mHABTM_Authors Load (0.6ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51)[0m
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (19, 20, 18)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE ('t'='t')[0m
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax (382.2ms)
Completed 200 OK in 443ms (Views: 395.7ms | ActiveRecord: 18.2ms)


Started GET "/admin/book?all=true&model_name=book&_pjax=%5Bdata-pjax-container%5D" for 127.0.0.1 at 2017-03-23 13:29:06 +0200
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"all"=>"true", "model_name"=>"book", "_pjax"=>"[data-pjax-container]"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (10.5ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax
  [1m[36mBook Load (1.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE ('t'='t') ORDER BY books.id desc[0m
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" IN (5, 4, 3, 2, 1)[0m
  [1m[36mHABTM_Authors Load (2.8ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51, 50, 49, 48, 47, 46, 45, 44, 43, 42, 41, 40, 39, 38, 37, 36, 35, 34, 33, 32, 31, 30, 29, 28, 27, 26, 25, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1)[0m
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (19, 20, 18)[0m
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax (1186.5ms)
Completed 200 OK in 1244ms (Views: 1199.3ms | ActiveRecord: 16.5ms)


Started GET "/admin/book?all=true&model_name=book&sort=title&_pjax=%5Bdata-pjax-container%5D" for 127.0.0.1 at 2017-03-23 13:29:17 +0200
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"all"=>"true", "model_name"=>"book", "sort"=>"title", "_pjax"=>"[data-pjax-container]"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (11.4ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax
  [1m[36mBook Load (1.6ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE ('t'='t') ORDER BY books.title asc[0m
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" IN (3, 1, 4, 2, 5)[0m
  [1m[36mHABTM_Authors Load (0.9ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (46, 18, 58, 45, 10, 37, 13, 44, 38, 63, 36, 8, 28, 32, 70, 41, 14, 26, 23, 61, 64, 7, 40, 35, 43, 3, 6, 67, 9, 21, 25, 5, 60, 49, 51, 66, 12, 55, 4, 65, 1, 42, 50, 57, 62, 22, 29, 11, 19, 54, 59, 30, 33, 27, 17, 52, 24, 34, 56, 16, 48, 2, 15, 68, 31, 20, 53, 69, 47, 39)[0m
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (20, 18, 19)[0m
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax (1110.6ms)
Completed 200 OK in 1167ms (Views: 1121.8ms | ActiveRecord: 15.6ms)


Started GET "/admin/book/17/edit?_pjax=%5Bdata-pjax-container%5D" for 127.0.0.1 at 2017-03-23 13:29:38 +0200
Processing by RailsAdmin::MainController#edit as HTML
  Parameters: {"_pjax"=>"[data-pjax-container]", "model_name"=>"book", "id"=>"17"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (11.7ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  [1m[36mBook Load (1.3ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 ORDER BY "books"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/edit.html.haml within layouts/rails_admin/pjax
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_field.html.haml (1.5ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_text.html.haml (4.9ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_field.html.haml (0.4ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_field.html.haml (0.4ms)
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE ('t'='t') ORDER BY categories.id desc[0m
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_filtering_select.html.haml (18.7ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_file_upload.html.haml (3.3ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_text.html.haml (0.5ms)
  [1m[36mPicture Load (0.7ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."imageable_id" = $1 AND "pictures"."imageable_type" = $2[0m  [["imageable_id", 17], ["imageable_type", "Book"]]
  [1m[36mPicture Load (0.6ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" ORDER BY pictures.id desc[0m
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_filtering_multiselect.html.haml (25.4ms)
  [1m[36mReview Load (0.6ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."book_id" = $1 AND "reviews"."state" = $2[0m  [["book_id", 17], ["state", "approved"]]
  [1m[36mReview Load (0.5ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE ('t'='t') ORDER BY reviews.id desc[0m
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_filtering_multiselect.html.haml (11.1ms)
  [1m[36mAuthor Load (2.8ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 17]]
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" ORDER BY authors.id desc[0m
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_filtering_multiselect.html.haml (15.7ms)
  [1m[36mMaterial Load (0.8ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 17]]
  [1m[36mMaterial Load (0.9ms)[0m  [1m[34mSELECT "materials".* FROM "materials" ORDER BY materials.id desc[0m
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_form_filtering_multiselect.html.haml (14.2ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/_submit_buttons.html.haml (10.5ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/edit.html.haml within layouts/rails_admin/pjax (155.4ms)
Completed 200 OK in 224ms (Views: 167.2ms | ActiveRecord: 22.7ms)


Started PUT "/admin/book/17/edit" for 127.0.0.1 at 2017-03-23 13:29:56 +0200
Processing by RailsAdmin::MainController#edit as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"imL1kqyHV/S7QN/PJC+k0b750/PcDYJoegMKLM3RYzNQcQ37Pl1wm/MwLBzx/DZl/hT244PCuPB261PRzLVFKQ==", "book"=>{"title"=>"Return of the Champagne Monster", "desc"=>"Temporibus est ad dolore explicabo quia cumque eum. Ex eum amet eligendi qui laborum. Sunt sit culpa voluptates et quasi quos suscipit. Sint dignissimos et at recusandae. Neque natus repudiandae enim minus corporis.", "price"=>"13.73", "count"=>"170", "category_id"=>"1", "avatar"=>#<ActionDispatch::Http::UploadedFile:0x007f7dcd8403f8 @tempfile=#<Tempfile:/tmp/RackMultipart20170323-13170-1e9p5mp.jpg>, @original_filename="smashing-book-5-marc-2-large.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[avatar]\"; filename=\"smashing-book-5-marc-2-large.jpg\"\r\nContent-Type: image/jpeg\r\n">, "avatar_cache"=>"", "dimension"=>"{\r\n  \"h\": 8.5,\r\n  \"w\": 4.4,\r\n  \"d\": 10.0\r\n}", "picture_ids"=>["", "", "3"], "review_ids"=>["", ""], "author_ids"=>["", "", "18", "19", "20"], "material_ids"=>["", "", "2", "3", "4"]}, "return_to"=>"http://localhost:3000/admin/book?all=true&model_name=book&sort=title", "_save"=>"", "model_name"=>"book", "id"=>"17"}
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (10.4ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 ORDER BY "books"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mPicture Load (0.5ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."id" = 3[0m
  [1m[36mPicture Load (0.7ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."imageable_id" = $1 AND "pictures"."imageable_type" = $2[0m  [["imageable_id", 17], ["imageable_type", "Book"]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "pictures" SET "imageable_id" = $1, "updated_at" = $2 WHERE "pictures"."id" = $3[0m  [["imageable_id", 17], ["updated_at", 2017-03-23 11:29:56 UTC], ["id", 3]]
  [1m[35m (34.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mReview Load (0.6ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE 1=0[0m
  [1m[36mReview Load (0.7ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."book_id" = $1 AND "reviews"."state" = $2[0m  [["book_id", 17], ["state", "approved"]]
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (18, 19, 20)[0m
  [1m[36mAuthor Load (1.0ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 17]]
  [1m[36mMaterial Load (0.8ms)[0m  [1m[34mSELECT "materials".* FROM "materials" WHERE "materials"."id" IN (2, 3, 4)[0m
  [1m[36mMaterial Load (0.8ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 17]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAuthor Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Roland"], ["id", 18], ["last_name", "Klein"], ["LIMIT", 1]]
  [1m[36mAuthor Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Dalene"], ["id", 19], ["last_name", "Torphy"], ["LIMIT", 1]]
  [1m[36mAuthor Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "authors" WHERE "authors"."first_name" = $1 AND ("authors"."id" != $2) AND "authors"."last_name" = $3 LIMIT $4[0m  [["first_name", "Felicidad"], ["id", 20], ["last_name", "Hammes"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "books" SET "avatar" = $1, "updated_at" = $2 WHERE "books"."id" = $3[0m  [["avatar", "smashing-book-5-marc-2-large.jpg"], ["updated_at", 2017-03-23 11:29:56 UTC], ["id", 17]]
  [1m[35m (4.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/book?all=true&model_name=book&sort=title
Completed 302 Found in 173ms (ActiveRecord: 61.4ms)


Started GET "/admin/book?all=true&model_name=book&sort=title" for 127.0.0.1 at 2017-03-23 13:29:56 +0200
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"all"=>"true", "model_name"=>"book", "sort"=>"title"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (8.6ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/application
  [1m[36mBook Load (1.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE ('t'='t') ORDER BY books.title asc[0m
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" IN (3, 1, 4, 2, 5)[0m
  [1m[36mHABTM_Authors Load (1.1ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (46, 18, 58, 45, 10, 37, 13, 44, 38, 63, 36, 8, 28, 32, 70, 41, 14, 26, 23, 61, 64, 7, 40, 35, 43, 3, 6, 67, 9, 21, 25, 5, 60, 49, 51, 66, 12, 55, 4, 65, 1, 42, 50, 57, 62, 22, 29, 11, 19, 54, 59, 30, 33, 27, 17, 52, 24, 34, 56, 16, 48, 2, 15, 68, 31, 20, 53, 69, 47, 39)[0m
  [1m[36mAuthor Load (0.9ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (20, 18, 19)[0m
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/application (1003.6ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_secondary_navigation.html.haml (6.7ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_navigation.html.haml (12.8ms)
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/_sidebar_navigation.html.haml (22.5ms)
  Rendering /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml
  Rendered /home/anton/.rvm/gems/ruby-2.3.1/gems/rails_admin-1.1.1/app/views/layouts/rails_admin/pjax.html.haml (10.7ms)
Completed 200 OK in 1326ms (Views: 1287.3ms | ActiveRecord: 13.3ms)


Started GET "/" for 127.0.0.1 at 2017-03-23 13:31:02 +0200
Processing by MainPagesController#home as HTML
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."title" = $1 LIMIT $2[0m  [["title", "Mobile"], ["LIMIT", 1]]
  [1m[36mBook Load (2.8ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" INNER JOIN "order_items" ON "order_items"."book_id" = "books"."id" INNER JOIN "orders" ON "orders"."id" = "order_items"."order_id" WHERE (lower(categories.title) = 'mobile') AND "orders"."state" = $1 GROUP BY order_items.book_id, books.id ORDER BY SUM(order_items.quantity) desc LIMIT $2[0m  [["state", "delivered"], ["LIMIT", 4]]
  [1m[36mHABTM_Authors Load (0.6ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (4, 8, 7)[0m
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (20, 18, 19)[0m
  Rendering main_pages/home.html.haml within layouts/application
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') LIMIT $1) subquery_for_count[0m  [["LIMIT", 4]]
  [1m[36mBook Load (1.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" INNER JOIN "categories" ON "categories"."id" = "books"."category_id" WHERE (lower(categories.title) = 'mobile') ORDER BY "books"."created_at" DESC LIMIT $1[0m  [["LIMIT", 4]]
  [1m[36mHABTM_Authors Load (3.1ms)[0m  [1m[34mSELECT "authors_books".* FROM "authors_books" WHERE "authors_books"."book_id" IN (19, 18, 17, 16)[0m
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" WHERE "authors"."id" IN (18, 19, 20)[0m
  Rendered books/_carousel_books.html.haml (58.2ms)
  Rendered books/_book_buttons.html.haml (4.5ms)
  Rendered books/_book_buttons.html.haml (1.1ms)
  Rendered books/_book_buttons.html.haml (1.1ms)
  Rendered main_pages/home.html.haml within layouts/application (89.2ms)
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 5], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.6ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 5]]
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (4.5ms)
  Rendered layouts/_collapse_ul.html.haml (1.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (7.2ms)
  Rendered layouts/_collapse_ul.html.haml (9.8ms)
  [1m[36mBook Load (10.9ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendered layouts/_collapse_ul.html.haml (16.4ms)
  Rendered layouts/_navbar.html.haml (41.2ms)
  Rendered layouts/_dropdown_ul.html.haml (2.9ms)
  Rendered layouts/_dropdown_ul.html.haml (1.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (4.7ms)
  Rendered layouts/_dropdown_ul.html.haml (7.2ms)
  Rendered layouts/_dropdown_ul.html.haml (1.4ms)
  Rendered layouts/_navbar.html.haml (17.2ms)
  Rendered layouts/_header.html.haml (78.8ms)
  Rendered layouts/_footer.html.haml (6.9ms)
Completed 200 OK in 360ms (Views: 318.7ms | ActiveRecord: 24.7ms)


Started GET "/books/17" for 127.0.0.1 at 2017-03-23 13:31:26 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"17"}
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBook Load (11.9ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "authors_books" ON "authors_books"."book_id" = "books"."id" INNER JOIN "authors" ON "authors"."id" = "authors_books"."author_id" INNER JOIN "pictures" ON "pictures"."imageable_id" = "books"."id" AND "pictures"."imageable_type" = $1 INNER JOIN "books_materials" ON "books_materials"."book_id" = "books"."id" INNER JOIN "materials" ON "materials"."id" = "books_materials"."material_id" INNER JOIN "reviews" ON "reviews"."book_id" = "books"."id" AND "reviews"."state" = $2 INNER JOIN "users" ON "users"."id" = "reviews"."user_id"[0m  [["imageable_type", "Book"], ["state", "approved"]]
  Rendering books/show.html.haml within layouts/application
  [1m[36mPicture Load (0.9ms)[0m  [1m[34mSELECT  "pictures".* FROM "pictures" WHERE "pictures"."imageable_id" = $1 AND "pictures"."imageable_type" = $2 ORDER BY "pictures"."id" ASC LIMIT $3[0m  [["imageable_id", 17], ["imageable_type", "Book"], ["LIMIT", 1]]
  [1m[36mPicture Load (0.5ms)[0m  [1m[34mSELECT "pictures".* FROM "pictures" WHERE "pictures"."imageable_id" = $1 AND "pictures"."imageable_type" = $2[0m  [["imageable_id", 17], ["imageable_type", "Book"]]
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT "authors".* FROM "authors" INNER JOIN "authors_books" ON "authors"."id" = "authors_books"."author_id" WHERE "authors_books"."book_id" = $1[0m  [["book_id", 17]]
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMaterial Load (0.7ms)[0m  [1m[34mSELECT "materials".* FROM "materials" INNER JOIN "books_materials" ON "materials"."id" = "books_materials"."material_id" WHERE "books_materials"."book_id" = $1[0m  [["book_id", 17]]
  [1m[36mReview Load (0.6ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."book_id" = $1 AND "reviews"."state" = $2[0m  [["book_id", 17], ["state", "approved"]]
  Rendered collection of templates [0 times] (0.0ms)
  Rendered reviews/_form.html.haml (53.6ms)
  Rendered books/show.html.haml within layouts/application (135.4ms)
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 AND "orders"."state" = $2 LIMIT $3[0m  [["id", 5], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."state" = $2 ORDER BY "orders"."id" DESC LIMIT $3[0m  [["user_id", 2], ["state", "processing"], ["LIMIT", 1]]
  [1m[36mOrderItem Load (0.6ms)[0m  [1m[34mSELECT "order_items".* FROM "order_items" WHERE "order_items"."order_id" = $1 ORDER BY "order_items"."created_at" ASC[0m  [["order_id", 5]]
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered layouts/_collapse_ul.html.haml (4.4ms)
  Rendered layouts/_collapse_ul.html.haml (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (6.5ms)
  Rendered layouts/_collapse_ul.html.haml (8.3ms)
  Rendered layouts/_collapse_ul.html.haml (1.6ms)
  Rendered layouts/_navbar.html.haml (24.8ms)
  Rendered layouts/_dropdown_ul.html.haml (2.6ms)
  Rendered layouts/_dropdown_ul.html.haml (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "categories"."id", "categories"."title", "categories"."books_count" FROM "categories"[0m
  Rendered books/_items_with_category.html.haml (3.7ms)
  Rendered layouts/_dropdown_ul.html.haml (5.2ms)
  Rendered layouts/_dropdown_ul.html.haml (1.4ms)
  Rendered layouts/_navbar.html.haml (13.8ms)
  Rendered layouts/_header.html.haml (56.4ms)
  Rendered layouts/_footer.html.haml (6.7ms)
Completed 200 OK in 449ms (Views: 307.5ms | ActiveRecord: 19.2ms)


DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from block in setup_action_controller at /home/anton/.rvm/gems/ruby-2.3.1/bundler/gems/draper-e816e0e5876b/lib/draper.rb:36)
